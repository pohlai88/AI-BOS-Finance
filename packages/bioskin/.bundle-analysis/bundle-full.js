var $w=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});function km(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=km(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Im(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=km(e))&&(n&&(n+=" "),n+=t);return n}var mu="-",zw=e=>{let t=Uw(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{let a=s.split(mu);return a[0]===""&&a.length!==1&&a.shift(),Bm(a,t)||jw(s)},getConflictingClassGroupIds:(s,a)=>{let l=r[s]||[];return a&&n[s]?[...l,...n[s]]:l}}},Bm=(e,t)=>{if(e.length===0)return t.classGroupId;let r=e[0],n=t.nextPart.get(r),o=n?Bm(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;let i=e.join(mu);return t.validators.find(({validator:s})=>s(i))?.classGroupId},Fm=/^\[(.+)\]$/,jw=e=>{if(Fm.test(e)){let t=Fm.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Uw=e=>{let{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Hw(Object.entries(e.classGroups),r).forEach(([i,s])=>{fu(s,n,i,t)}),n},fu=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){let i=o===""?t:Vm(t,o);i.classGroupId=r;return}if(typeof o=="function"){if(Gw(o)){fu(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([i,s])=>{fu(s,Vm(t,i),r,n)})})},Vm=(e,t)=>{let r=e;return t.split(mu).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Gw=e=>e.isThemeGetter,Hw=(e,t)=>t?e.map(([r,n])=>{let o=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,a])=>[t+s,a])):i);return[r,o]}):e,Kw=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map,o=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return o(i,s),s},set(i,s){r.has(i)?r.set(i,s):o(i,s)}}},Om="!",Ww=e=>{let{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],i=t.length,s=a=>{let l=[],c=0,u=0,d;for(let g=0;g<a.length;g++){let y=a[g];if(c===0){if(y===o&&(n||a.slice(g,g+i)===t)){l.push(a.slice(u,g)),u=g+i;continue}if(y==="/"){d=g;continue}}y==="["?c++:y==="]"&&c--}let m=l.length===0?a:a.substring(u),f=m.startsWith(Om),h=f?m.substring(1):m,p=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}};return r?a=>r({className:a,parseClassName:s}):s},qw=e=>{if(e.length<=1)return e;let t=[],r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Yw=e=>({cache:Kw(e.cacheSize),parseClassName:Ww(e),...zw(e)}),Xw=/\s+/,Zw=(e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(Xw),a="";for(let l=s.length-1;l>=0;l-=1){let c=s[l],{modifiers:u,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:f}=r(c),h=!!f,p=n(h?m.substring(0,f):m);if(!p){if(!h){a=c+(a.length>0?" "+a:a);continue}if(p=n(m),!p){a=c+(a.length>0?" "+a:a);continue}h=!1}let g=qw(u).join(":"),y=d?g+Om:g,v=y+p;if(i.includes(v))continue;i.push(v);let b=o(p,h);for(let w=0;w<b.length;++w){let x=b[w];i.push(y+x)}a=c+(a.length>0?" "+a:a)}return a};function Jw(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=_m(t))&&(n&&(n+=" "),n+=r);return n}var _m=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=_m(e[n]))&&(r&&(r+=" "),r+=t);return r};function Qw(e,...t){let r,n,o,i=s;function s(l){let c=t.reduce((u,d)=>d(u),e());return r=Yw(c),n=r.cache.get,o=r.cache.set,i=a,a(l)}function a(l){let c=n(l);if(c)return c;let u=Zw(l,r);return o(l,u),u}return function(){return i(Jw.apply(null,arguments))}}var Me=e=>{let t=r=>r[e]||[];return t.isThemeGetter=!0,t},Lm=/^\[(?:([a-z-]+):)?(.+)\]$/i,e0=/^\d+\/\d+$/,t0=new Set(["px","full","screen"]),r0=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n0=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o0=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,i0=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s0=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cn=e=>ri(e)||t0.has(e)||e0.test(e),_n=e=>ni(e,"length",p0),ri=e=>!!e&&!Number.isNaN(Number(e)),du=e=>ni(e,"number",ri),cs=e=>!!e&&Number.isInteger(Number(e)),a0=e=>e.endsWith("%")&&ri(e.slice(0,-1)),de=e=>Lm.test(e),Ln=e=>r0.test(e),l0=new Set(["length","size","percentage"]),c0=e=>ni(e,l0,$m),u0=e=>ni(e,"position",$m),d0=new Set(["image","url"]),f0=e=>ni(e,d0,h0),m0=e=>ni(e,"",g0),us=()=>!0,ni=(e,t,r)=>{let n=Lm.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},p0=e=>n0.test(e)&&!o0.test(e),$m=()=>!1,g0=e=>i0.test(e),h0=e=>s0.test(e);var v0=()=>{let e=Me("colors"),t=Me("spacing"),r=Me("blur"),n=Me("brightness"),o=Me("borderColor"),i=Me("borderRadius"),s=Me("borderSpacing"),a=Me("borderWidth"),l=Me("contrast"),c=Me("grayscale"),u=Me("hueRotate"),d=Me("invert"),m=Me("gap"),f=Me("gradientColorStops"),h=Me("gradientColorStopPositions"),p=Me("inset"),g=Me("margin"),y=Me("opacity"),v=Me("padding"),b=Me("saturate"),w=Me("scale"),x=Me("sepia"),S=Me("skew"),R=Me("space"),N=Me("translate"),F=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",de,t],D=()=>[de,t],k=()=>["",cn,_n],O=()=>["auto",ri,de],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",de],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[ri,de];return{cacheSize:500,separator:":",theme:{colors:[us],spacing:[cn,_n],blur:["none","",Ln,de],brightness:se(),borderColor:[e],borderRadius:["none","","full",Ln,de],borderSpacing:D(),borderWidth:k(),contrast:se(),grayscale:$(),hueRotate:se(),invert:$(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[a0,_n],inset:A(),margin:A(),opacity:se(),padding:D(),saturate:se(),scale:se(),sepia:$(),skew:se(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[Ln]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),de]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cs,de]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",cs,de]}],"grid-cols":[{"grid-cols":[us]}],"col-start-end":[{col:["auto",{span:["full",cs,de]},de]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[us]}],"row-start-end":[{row:["auto",{span:[cs,de]},de]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,t]}],"min-w":[{"min-w":[de,t,"min","max","fit"]}],"max-w":[{"max-w":[de,t,"none","full","min","max","fit","prose",{screen:[Ln]},Ln]}],h:[{h:[de,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ln,_n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",du]}],"font-family":[{font:[us]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",ri,du]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cn,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cn,_n]}],"underline-offset":[{"underline-offset":["auto",cn,de]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),u0]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",c0]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},f0]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:_()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[cn,de]}],"outline-w":[{outline:[cn,_n]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[cn,_n]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ln,m0]}],"shadow-color":[{shadow:[us]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ln,de]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[cs,de]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[cn,_n,du]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}};var zm=Qw(v0);function T(...e){return zm(Im(e))}import{jsx as w0}from"react/jsx-runtime";var y0={card:"bg-surface-card border-default",subtle:"bg-surface-subtle border-subtle",nested:"bg-surface-nested border-subtle",glass:"bg-surface-card/60 backdrop-blur-md border-default"},b0={none:"",sm:"p-layout-xs",md:"p-layout-md",lg:"p-layout-lg"},x0={none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl"};function le({children:e,variant:t="card",padding:r="md",rounded:n="lg",border:o=!0,className:i,...s}){return w0("div",{className:T(y0[t],b0[r],x0[n],o&&"border",i),...s,children:e})}le.displayName="Surface";import{jsx as N0}from"react/jsx-runtime";var S0={display:"text-display",heading:"text-heading",subheading:"text-subheading",body:"text-body",small:"text-small",caption:"text-caption",label:"text-label uppercase tracking-wide",micro:"text-micro"},C0={primary:"text-text-primary",secondary:"text-text-secondary",tertiary:"text-text-tertiary",disabled:"text-text-disabled",brand:"text-primary",success:"text-status-success",warning:"text-status-warning",danger:"text-status-danger"},R0={normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold"},T0={display:"h1",heading:"h2",subheading:"h3",body:"p",small:"p",caption:"span",label:"span",micro:"span"};function L({children:e,variant:t="body",color:r="primary",weight:n,as:o,mono:i=!1,className:s,...a}){let l=o||T0[t]||"span";return N0(l,{className:T(S0[t],C0[r],n&&R0[n],i&&"font-mono",s),...a,children:e})}L.displayName="Txt";import{jsx as jm,jsxs as Um}from"react/jsx-runtime";var E0={primary:"bg-primary text-primary-foreground hover:bg-primary-hover",secondary:"bg-surface-subtle text-text-primary hover:bg-surface-hover border border-default",ghost:"text-text-secondary hover:text-text-primary hover:bg-surface-hover",outline:"border border-default text-text-primary hover:bg-surface-hover",danger:"bg-status-danger text-white hover:bg-status-danger/90"},P0={sm:"h-8 px-3 text-small",md:"h-10 px-4 text-body",lg:"h-12 px-6 text-body"};function fe({children:e,variant:t="primary",size:r="md",loading:n=!1,fullWidth:o=!1,disabled:i,className:s,...a}){return Um("button",{className:T("inline-flex items-center justify-center gap-2 rounded-lg font-medium","transition-colors duration-fast","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50",E0[t],P0[r],o&&"w-full",s),disabled:i||n,...a,children:[n&&Um("svg",{className:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jm("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jm("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e]})}fe.displayName="Btn";import{jsx as un,jsxs as ds}from"react/jsx-runtime";function $a({field:e,value:t,mode:r,onChange:n,error:o,className:i}){let s=a=>{if(n){let l=a.target.value;e.type==="number"?l=a.target.value===""?void 0:Number(a.target.value):e.type==="boolean"&&(l=a.target.checked),n(e.name,l)}};return r==="view"?ds("div",{className:T("space-y-1",i),children:[un(L,{variant:"label",color:"secondary",children:e.label}),un(L,{variant:"body",className:"block",children:D0(t,e.type)})]}):ds("div",{className:T("space-y-1",i),children:[un("label",{htmlFor:e.name,className:"block",children:ds(L,{variant:"label",color:"secondary",children:[e.label,e.required&&un("span",{className:"text-status-danger ml-1",children:"*"})]})}),e.type==="enum"&&e.validation?.options?ds("select",{id:e.name,name:e.name,value:String(t??""),onChange:s,disabled:e.uiHints?.readonly,className:T("w-full h-10 px-3 rounded-md border border-default bg-surface-card text-text-primary","focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed",o&&"border-status-danger"),children:[ds("option",{value:"",children:["Select ",e.label,"..."]}),e.validation.options.map(a=>un("option",{value:a,children:a},a))]}):e.type==="boolean"?un("input",{type:"checkbox",id:e.name,name:e.name,checked:!!t,onChange:s,disabled:e.uiHints?.readonly,className:"h-4 w-4 rounded border-default text-primary focus:ring-primary"}):un("input",{type:A0(e.type),id:e.name,name:e.name,value:String(t??""),onChange:s,placeholder:e.uiHints?.placeholder||`Enter ${e.label.toLowerCase()}...`,readOnly:e.uiHints?.readonly,min:e.validation?.min,max:e.validation?.max,pattern:e.validation?.pattern,className:T("w-full h-10 px-3 rounded-md border border-default bg-surface-card text-text-primary","placeholder:text-text-tertiary","focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed","read-only:bg-surface-nested",o&&"border-status-danger")}),e.description&&!o&&un(L,{variant:"caption",color:"tertiary",className:"block",children:e.description}),o&&un(L,{variant:"caption",color:"danger",className:"block",children:o})]})}function A0(e){switch(e){case"number":return"number";case"date":return"date";default:return"text"}}function D0(e,t){return e==null?"\u2014":t==="boolean"?e?"Yes":"No":t==="date"&&e instanceof Date?e.toLocaleDateString():t==="array"&&Array.isArray(e)?e.join(", "):t==="object"?JSON.stringify(e):String(e)}$a.displayName="Field";import{jsx as I0}from"react/jsx-runtime";var M0={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"},k0={primary:"text-text-primary",secondary:"text-text-secondary",tertiary:"text-text-tertiary",brand:"text-primary",success:"text-status-success",warning:"text-status-warning",danger:"text-status-danger",inherit:""};function za({icon:e,size:t="md",color:r="inherit",className:n,...o}){return I0(e,{className:T(M0[t],k0[r],"flex-shrink-0",n),"aria-hidden":"true",...o})}za.displayName="Icon";import*as Sd from"react";import{jsx as eg,Fragment as eC}from"react/jsx-runtime";import{useMemo as tC,useRef as tg,useState as rg,useContext as rC}from"react";import{createContext as F0}from"react";var oi=F0({});import{useRef as V0}from"react";function ii(e){let t=V0(null);return t.current===null&&(t.current=e()),t.current}import{useLayoutEffect as B0,useEffect as O0}from"react";var si=typeof window<"u";var ja=si?B0:O0;import{jsx as Xp}from"react/jsx-runtime";import*as Jp from"react";import{useId as KS,useMemo as Zp}from"react";import{createContext as _0}from"react";var $n=_0(null);import{jsx as jS}from"react/jsx-runtime";function go(e,t){e.indexOf(t)===-1&&e.push(t)}function ho(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}var yt=(e,t,r)=>r>t?t:r<e?e:r;var dn=()=>{},mr=()=>{};var At={};var fs=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ms(e){return typeof e=="object"&&e!==null}var ps=e=>/^0[^.\s]+$/u.test(e);function vo(e){let t;return()=>(t===void 0&&(t=e()),t)}var Oe=e=>e;var L0=(e,t)=>r=>t(e(r)),Mr=(...e)=>e.reduce(L0);var Xr=(e,t,r)=>{let n=t-e;return n===0?1:(r-e)/n};var fn=class{constructor(){this.subscriptions=[]}add(t){return go(this.subscriptions,t),()=>ho(this.subscriptions,t)}notify(t,r,n){let o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,r,n);else for(let i=0;i<o;i++){let s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};var ct=e=>e*1e3,ut=e=>e/1e3;function gs(e,t){return t?e*(1e3/t):0}var Gm=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,$0=1e-7,z0=12;function j0(e,t,r,n,o){let i,s,a=0;do s=t+(r-t)/2,i=Gm(s,n,o)-e,i>0?r=s:t=s;while(Math.abs(i)>$0&&++a<z0);return s}function zn(e,t,r,n){if(e===t&&r===n)return Oe;let o=i=>j0(i,0,1,e,r);return i=>i===0||i===1?i:Gm(o(i),t,n)}var Ua=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2;var Ga=e=>t=>1-e(1-t);var Ha=zn(.33,1.53,.69,.99),ai=Ga(Ha),hs=Ua(ai);var vs=e=>(e*=2)<1?.5*ai(e):.5*(2-Math.pow(2,-10*(e-1)));var ys=e=>1-Math.sin(Math.acos(e)),bs=Ga(ys),xs=Ua(ys);var pu=zn(.42,0,1,1),gu=zn(0,0,.58,1),ws=zn(.42,0,.58,1);var hu=e=>Array.isArray(e)&&typeof e[0]!="number";var Ss=e=>Array.isArray(e)&&typeof e[0]=="number";var Hm={linear:Oe,easeIn:pu,easeInOut:ws,easeOut:gu,circIn:ys,circInOut:xs,circOut:bs,backIn:ai,backInOut:hs,backOut:Ha,anticipate:vs},U0=e=>typeof e=="string",Ka=e=>{if(Ss(e)){mr(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,r,n,o]=e;return zn(t,r,n,o)}else if(U0(e))return mr(Hm[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),Hm[e];return e};var Cs=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];var Ht={value:null,addProjectionMetrics:null};function Km(e,t){let r=new Set,n=new Set,o=!1,i=!1,s=new WeakSet,a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){s.has(d)&&(u.schedule(d),e()),l++,d(a)}let u={schedule:(d,m=!1,f=!1)=>{let p=f&&o?r:n;return m&&s.add(d),p.has(d)||p.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(a=d,o){i=!0;return}o=!0,[r,n]=[n,r],r.forEach(c),t&&Ht.value&&Ht.value.frameloop[t].push(l),l=0,r.clear(),o=!1,i&&(i=!1,u.process(d))}};return u}var G0=40;function Wa(e,t){let r=!1,n=!0,o={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=Cs.reduce((b,w)=>(b[w]=Km(i,t?w:void 0),b),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:m,render:f,postRender:h}=s,p=()=>{let b=At.useManualTiming?o.timestamp:performance.now();r=!1,At.useManualTiming||(o.delta=n?1e3/60:Math.max(Math.min(b-o.timestamp,G0),1)),o.timestamp=b,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),u.process(o),d.process(o),m.process(o),f.process(o),h.process(o),o.isProcessing=!1,r&&t&&(n=!1,e(p))},g=()=>{r=!0,n=!0,o.isProcessing||e(p)};return{schedule:Cs.reduce((b,w)=>{let x=s[w];return b[w]=(S,R=!1,N=!1)=>(r||g(),x.schedule(S,R,N)),b},{}),cancel:b=>{for(let w=0;w<Cs.length;w++)s[Cs[w]].cancel(b)},state:o,steps:s}}var{schedule:me,cancel:Kt,state:Ue,steps:Rs}=Wa(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oe,!0);var qa;function H0(){qa=void 0}var Ge={now:()=>(qa===void 0&&Ge.set(Ue.isProcessing||At.useManualTiming?Ue.timestamp:performance.now()),qa),set:e=>{qa=e,queueMicrotask(H0)}};var kr={layout:0,mainThread:0,waapi:0};var Wm=e=>t=>typeof t=="string"&&t.startsWith(e),Ts=Wm("--"),K0=Wm("var(--"),yo=e=>K0(e)?W0.test(e.split("/*")[0].trim()):!1,W0=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;var Zr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},mn={...Zr,transform:e=>yt(0,1,e)},Ns={...Zr,default:1};var jn=e=>Math.round(e*1e5)/1e5;var li=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qm(e){return e==null}var Ym=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;var ci=(e,t)=>r=>!!(typeof r=="string"&&Ym.test(r)&&r.startsWith(e)||t&&!qm(r)&&Object.prototype.hasOwnProperty.call(r,t)),Ya=(e,t,r)=>n=>{if(typeof n!="string")return n;let[o,i,s,a]=n.match(li);return{[e]:parseFloat(o),[t]:parseFloat(i),[r]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}};var q0=e=>yt(0,255,e),vu={...Zr,transform:e=>Math.round(q0(e))},Jr={test:ci("rgb","red"),parse:Ya("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+vu.transform(e)+", "+vu.transform(t)+", "+vu.transform(r)+", "+jn(mn.transform(n))+")"};function Y0(e){let t="",r="",n="",o="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),o=e.substring(4,5),t+=t,r+=r,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}var Es={test:ci("#"),parse:Y0,transform:Jr.transform};var Ps=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ir=Ps("deg"),Dt=Ps("%"),ee=Ps("px"),yu=Ps("vh"),bu=Ps("vw"),Xa={...Dt,parse:e=>Dt.parse(e)/100,transform:e=>Dt.transform(e*100)};var Un={test:ci("hsl","hue"),parse:Ya("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Dt.transform(jn(t))+", "+Dt.transform(jn(r))+", "+jn(mn.transform(n))+")"};var Ve={test:e=>Jr.test(e)||Es.test(e)||Un.test(e),parse:e=>Jr.test(e)?Jr.parse(e):Un.test(e)?Un.parse(e):Es.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Jr.transform(e):Un.transform(e),getAnimatableNone:e=>{let t=Ve.parse(e);return t.alpha=0,Ve.transform(t)}};var Xm=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X0(e){return isNaN(e)&&typeof e=="string"&&(e.match(li)?.length||0)+(e.match(Xm)?.length||0)>0}var Jm="number",Qm="color",Z0="var",J0="var(",Zm="${}",Q0=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gn(e){let t=e.toString(),r=[],n={color:[],number:[],var:[]},o=[],i=0,a=t.replace(Q0,l=>(Ve.test(l)?(n.color.push(i),o.push(Qm),r.push(Ve.parse(l))):l.startsWith(J0)?(n.var.push(i),o.push(Z0),r.push(l)):(n.number.push(i),o.push(Jm),r.push(parseFloat(l))),++i,Zm)).split(Zm);return{values:r,split:a,indexes:n,types:o}}function ep(e){return Gn(e).values}function tp(e){let{split:t,types:r}=Gn(e),n=t.length;return o=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],o[s]!==void 0){let a=r[s];a===Jm?i+=jn(o[s]):a===Qm?i+=Ve.transform(o[s]):i+=o[s]}return i}}var eS=e=>typeof e=="number"?0:Ve.test(e)?Ve.getAnimatableNone(e):e;function tS(e){let t=ep(e);return tp(e)(t.map(eS))}var Mt={test:X0,parse:ep,createTransformer:tp,getAnimatableNone:tS};function xu(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function rp({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let o=0,i=0,s=0;if(!t)o=i=s=r;else{let a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;o=xu(l,a,e+1/3),i=xu(l,a,e),s=xu(l,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function ui(e,t){return r=>r>0?t:e}var ge=(e,t,r)=>e+(t-e)*r;var wu=(e,t,r)=>{let n=e*e,o=r*(t*t-n)+n;return o<0?0:Math.sqrt(o)},rS=[Es,Jr,Un],nS=e=>rS.find(t=>t.test(e));function np(e){let t=nS(e);if(dn(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===Un&&(r=rp(r)),r}var Su=(e,t)=>{let r=np(e),n=np(t);if(!r||!n)return ui(e,t);let o={...r};return i=>(o.red=wu(r.red,n.red,i),o.green=wu(r.green,n.green,i),o.blue=wu(r.blue,n.blue,i),o.alpha=ge(r.alpha,n.alpha,i),Jr.transform(o))};var Za=new Set(["none","hidden"]);function op(e,t){return Za.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function oS(e,t){return r=>ge(e,t,r)}function Ja(e){return typeof e=="number"?oS:typeof e=="string"?yo(e)?ui:Ve.test(e)?Su:aS:Array.isArray(e)?ip:typeof e=="object"?Ve.test(e)?Su:iS:ui}function ip(e,t){let r=[...e],n=r.length,o=e.map((i,s)=>Ja(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=o[s](i);return r}}function iS(e,t){let r={...e,...t},n={};for(let o in r)e[o]!==void 0&&t[o]!==void 0&&(n[o]=Ja(e[o])(e[o],t[o]));return o=>{for(let i in n)r[i]=n[i](o);return r}}function sS(e,t){let r=[],n={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){let i=t.types[o],s=e.indexes[i][n[i]],a=e.values[s]??0;r[o]=a,n[i]++}return r}var aS=(e,t)=>{let r=Mt.createTransformer(t),n=Gn(e),o=Gn(t);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?Za.has(e)&&!o.values.length||Za.has(t)&&!n.values.length?op(e,t):Mr(ip(sS(n,o),o.values),r):(dn(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),ui(e,t))};function Qa(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ge(e,t,r):Ja(e)(e,t)}var sp=e=>{let t=({timestamp:r})=>e(r);return{start:(r=!0)=>me.update(t,r),stop:()=>Kt(t),now:()=>Ue.isProcessing?Ue.timestamp:Ge.now()}};var el=(e,t,r=10)=>{let n="",o=Math.max(Math.round(t/r),2);for(let i=0;i<o;i++)n+=Math.round(e(i/(o-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`};function di(e){let t=0,r=50,n=e.next(t);for(;!n.done&&t<2e4;)t+=r,n=e.next(t);return t>=2e4?1/0:t}function ap(e,t=100,r){let n=r({...e,keyframes:[0,t]}),o=Math.min(di(n),2e4);return{type:"keyframes",ease:i=>n.next(o*i).value/t,duration:ut(o)}}var lS=5;function tl(e,t,r){let n=Math.max(t-lS,0);return gs(r-e(n),t-n)}var ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};var Ru=.001;function lp({duration:e=ke.duration,bounce:t=ke.bounce,velocity:r=ke.velocity,mass:n=ke.mass}){let o,i;dn(e<=ct(ke.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let s=1-t;s=yt(ke.minDamping,ke.maxDamping,s),e=yt(ke.minDuration,ke.maxDuration,ut(e)),s<1?(o=c=>{let u=c*s,d=u*e,m=u-r,f=rl(c,s),h=Math.exp(-d);return Ru-m/f*h},i=c=>{let d=c*s*e,m=d*r+r,f=Math.pow(s,2)*Math.pow(c,2)*e,h=Math.exp(-d),p=rl(Math.pow(c,2),s);return(-o(c)+Ru>0?-1:1)*((m-f)*h)/p}):(o=c=>{let u=Math.exp(-c*e),d=(c-r)*e+1;return-Ru+u*d},i=c=>{let u=Math.exp(-c*e),d=(r-c)*(e*e);return u*d});let a=5/e,l=uS(o,i,a);if(e=ct(e),isNaN(l))return{stiffness:ke.stiffness,damping:ke.damping,duration:e};{let c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}var cS=12;function uS(e,t,r){let n=r;for(let o=1;o<cS;o++)n=n-e(n)/t(n);return n}function rl(e,t){return e*Math.sqrt(1-t*t)}var dS=["duration","bounce"],fS=["stiffness","damping","mass"];function cp(e,t){return t.some(r=>e[r]!==void 0)}function mS(e){let t={velocity:ke.velocity,stiffness:ke.stiffness,damping:ke.damping,mass:ke.mass,isResolvedFromDuration:!1,...e};if(!cp(e,fS)&&cp(e,dS))if(e.visualDuration){let r=e.visualDuration,n=2*Math.PI/(r*1.2),o=n*n,i=2*yt(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:ke.mass,stiffness:o,damping:i}}else{let r=lp(e);t={...t,...r,mass:ke.mass},t.isResolvedFromDuration=!0}return t}function fi(e=ke.visualDuration,t=ke.bounce){let r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:n,restDelta:o}=r,i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:m,isResolvedFromDuration:f}=mS({...r,velocity:-ut(r.velocity||0)}),h=m||0,p=c/(2*Math.sqrt(l*u)),g=s-i,y=ut(Math.sqrt(l/u)),v=Math.abs(g)<5;n||(n=v?ke.restSpeed.granular:ke.restSpeed.default),o||(o=v?ke.restDelta.granular:ke.restDelta.default);let b;if(p<1){let x=rl(y,p);b=S=>{let R=Math.exp(-p*y*S);return s-R*((h+p*y*g)/x*Math.sin(x*S)+g*Math.cos(x*S))}}else if(p===1)b=x=>s-Math.exp(-y*x)*(g+(h+y*g)*x);else{let x=y*Math.sqrt(p*p-1);b=S=>{let R=Math.exp(-p*y*S),N=Math.min(x*S,300);return s-R*((h+p*y*g)*Math.sinh(N)+x*g*Math.cosh(N))/x}}let w={calculatedDuration:f&&d||null,next:x=>{let S=b(x);if(f)a.done=x>=d;else{let R=x===0?h:0;p<1&&(R=x===0?ct(h):tl(b,x,S));let N=Math.abs(R)<=n,F=Math.abs(s-S)<=o;a.done=N&&F}return a.value=a.done?s:S,a},toString:()=>{let x=Math.min(di(w),2e4),S=el(R=>w.next(x*R).value,x,30);return x+"ms "+S},toTransition:()=>{}};return w}fi.applyToOptions=e=>{let t=ap(e,100,fi);return e.ease=t.ease,e.duration=ct(t.duration),e.type="keyframes",e};function As({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){let d=e[0],m={done:!1,value:d},f=N=>a!==void 0&&N<a||l!==void 0&&N>l,h=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l,p=r*t,g=d+p,y=s===void 0?g:s(g);y!==g&&(p=y-d);let v=N=>-p*Math.exp(-N/n),b=N=>y+v(N),w=N=>{let F=v(N),E=b(N);m.done=Math.abs(F)<=c,m.value=m.done?y:E},x,S,R=N=>{f(m.value)&&(x=N,S=fi({keyframes:[m.value,h(m.value)],velocity:tl(b,N,m.value),damping:o,stiffness:i,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:N=>{let F=!1;return!S&&x===void 0&&(F=!0,w(N),R(N)),x!==void 0&&N>=x?S.next(N-x):(!F&&w(N),m)}}}function pS(e,t,r){let n=[],o=r||At.mix||Qa,i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){let l=Array.isArray(t)?t[s]||Oe:t;a=Mr(l,a)}n.push(a)}return n}function up(e,t,{clamp:r=!0,ease:n,mixer:o}={}){let i=e.length;if(mr(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];let s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());let a=pS(t,n,o),l=a.length,c=u=>{if(s&&u<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);let m=Xr(e[d],e[d+1],u);return a[d](m)};return r?u=>c(yt(e[0],e[i-1],u)):c}function dp(e,t){let r=e[e.length-1];for(let n=1;n<=t;n++){let o=Xr(0,t,n);e.push(ge(r,1,o))}}function fp(e){let t=[0];return dp(t,e.length-1),t}function mp(e,t){return e.map(r=>r*t)}function gS(e,t){return e.map(()=>t||ws).splice(0,e.length-1)}function bo({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){let o=hu(n)?n.map(Ka):Ka(n),i={done:!1,value:t[0]},s=mp(r&&r.length===t.length?r:fp(t),e),a=up(s,t,{ease:Array.isArray(o)?o:gS(t,o)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}var hS=e=>e!==null;function mi(e,{repeat:t,repeatType:r="loop"},n,o=1){let i=e.filter(hS),a=o<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}var vS={decay:As,inertia:As,tween:bo,keyframes:bo,spring:fi};function nl(e){typeof e.type=="string"&&(e.type=vS[e.type])}var Hn=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}};var yS=e=>e/100,pn=class extends Hn{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:r}=this.options;r&&r.updatedAt!==Ge.now()&&this.tick(Ge.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},kr.mainThread++,this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){let{options:t}=this;nl(t);let{type:r=bo,repeat:n=0,repeatDelay:o=0,repeatType:i,velocity:s=0}=t,{keyframes:a}=t,l=r||bo;l!==bo&&typeof a[0]!="number"&&(this.mixKeyframes=Mr(yS,Qa(a[0],a[1])),a=[0,100]);let c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=di(c));let{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+o,this.totalDuration=this.resolvedDuration*(n+1)-o,this.generator=c}updateTime(t){let r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){let{generator:n,totalDuration:o,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);let{delay:c=0,keyframes:u,repeat:d,repeatType:m,repeatDelay:f,type:h,onUpdate:p,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);let y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>o;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let b=this.currentTime,w=n;if(d){let N=Math.min(this.currentTime,o)/a,F=Math.floor(N),E=N%1;!E&&N>=1&&(E=1),E===1&&F--,F=Math.min(F,d+1),!!(F%2)&&(m==="reverse"?(E=1-E,f&&(E-=f/a)):m==="mirror"&&(w=s)),b=yt(0,1,E)*a}let x=v?{done:!1,value:u[0]}:w.next(b);i&&(x.value=i(x.value));let{done:S}=x;!v&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);let R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return R&&h!==As&&(x.value=mi(u,this.options,g,this.speed)),p&&p(x.value),R&&this.finish(),x}then(t,r){return this.finished.then(t,r)}get duration(){return ut(this.calculatedDuration)}get iterationDuration(){let{delay:t=0}=this.options||{};return this.duration+ut(t)}get time(){return ut(this.currentTime)}set time(t){t=ct(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ge.now());let r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ut(this.currentTime))}play(){if(this.isStopped)return;let{driver:t=sp,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();let n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ge.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,kr.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}};function pp(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}var xo=e=>e*180/Math.PI,Tu=e=>{let t=xo(Math.atan2(e[1],e[0]));return Nu(t)},bS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Tu,rotateZ:Tu,skewX:e=>xo(Math.atan(e[1])),skewY:e=>xo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Nu=e=>(e=e%360,e<0&&(e+=360),e),gp=Tu,hp=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),vp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),xS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hp,scaleY:vp,scale:e=>(hp(e)+vp(e))/2,rotateX:e=>Nu(xo(Math.atan2(e[6],e[5]))),rotateY:e=>Nu(xo(Math.atan2(-e[2],e[0]))),rotateZ:gp,rotate:gp,skewX:e=>xo(Math.atan(e[4])),skewY:e=>xo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ds(e){return e.includes("scale")?1:0}function Ms(e,t){if(!e||e==="none")return Ds(t);let r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u),n,o;if(r)n=xS,o=r;else{let a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=bS,o=a}if(!o)return Ds(t);let i=n[t],s=o[1].split(",").map(wS);return typeof i=="function"?i(s):s[i]}var Eu=(e,t)=>{let{transform:r="none"}=getComputedStyle(e);return Ms(r,t)};function wS(e){return parseFloat(e.trim())}var Fr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rr=new Set(Fr);var Pu=e=>e===Zr||e===ee,SS=new Set(["x","y","z"]),CS=Fr.filter(e=>!SS.has(e));function yp(e){let t=[];return CS.forEach(r=>{let n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}var Kn={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ms(t,"x"),y:(e,{transform:t})=>Ms(t,"y")};Kn.translateX=Kn.x;Kn.translateY=Kn.y;var wo=new Set,Au=!1,Du=!1,Mu=!1;function bp(){if(Du){let e=Array.from(wo).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{let o=yp(n);o.length&&(r.set(n,o),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();let o=r.get(n);o&&o.forEach(([i,s])=>{n.getValue(i)?.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Du=!1,Au=!1,wo.forEach(e=>e.complete(Mu)),wo.clear()}function xp(){wo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Du=!0)})}function ku(){Mu=!0,xp(),bp(),Mu=!1}var gn=class{constructor(t,r,n,o,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=o,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(wo.add(this),Au||(Au=!0,me.read(xp),me.resolveKeyframes(bp))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:t,name:r,element:n,motionValue:o}=this;if(t[0]===null){let i=o?.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){let a=n.readValue(r,s);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=s),o&&i===void 0&&o.set(t[0])}pp(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),wo.delete(this)}cancel(){this.state==="scheduled"&&(wo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};var wp=e=>e.startsWith("--");function Sp(e,t,r){wp(t)?e.style.setProperty(t,r):e.style[t]=r}var Cp=vo(()=>window.ScrollTimeline!==void 0);var Rp={};function Tp(e,t){let r=vo(e);return()=>Rp[t]??r()}var ol=Tp(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");var So=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`;var Iu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:So([0,.65,.55,1]),circOut:So([.55,0,1,.45]),backIn:So([.31,.01,.66,-.59]),backOut:So([.33,1.53,.69,.99])};function Fu(e,t){if(e)return typeof e=="function"?ol()?el(e,t):"ease-out":Ss(e)?So(e):Array.isArray(e)?e.map(r=>Fu(r,t)||Iu.easeOut):Iu[e]}function Np(e,t,r,{delay:n=0,duration:o=300,repeat:i=0,repeatType:s="loop",ease:a="easeOut",times:l}={},c=void 0){let u={[t]:r};l&&(u.offset=l);let d=Fu(a,o);Array.isArray(d)&&(u.easing=d),Ht.value&&kr.waapi++;let m={delay:n,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};c&&(m.pseudoElement=c);let f=e.animate(u,m);return Ht.value&&f.finished.finally(()=>{kr.waapi--}),f}function il(e){return typeof e=="function"&&"applyToOptions"in e}function Ep({type:e,...t}){return il(e)&&ol()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}var sl=class extends Hn{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;let{element:r,name:n,keyframes:o,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,mr(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");let c=Ep(t);this.animation=Np(r,n,o,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){let u=mi(o,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):Sp(r,n,u),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){let t=this.animation.effect?.getComputedTiming?.().duration||0;return ut(Number(t))}get iterationDuration(){let{delay:t=0}=this.options||{};return this.duration+ut(t)}get time(){return ut(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ct(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Cp()?(this.animation.timeline=t,Oe):r(this)}};var Pp={anticipate:vs,backInOut:hs,circInOut:xs};function RS(e){return e in Pp}function Ap(e){typeof e.ease=="string"&&RS(e.ease)&&(e.ease=Pp[e.ease])}var Dp=10,al=class extends sl{constructor(t){Ap(t),nl(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){let{motionValue:r,onUpdate:n,onComplete:o,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}let a=new pn({...s,autoplay:!1}),l=ct(this.finishedTime??this.time);r.setWithVelocity(a.sample(l-Dp).value,a.sample(l).value,Dp),a.stop()}};var Vu=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mt.test(e)||e==="0")&&!e.startsWith("url("));function TS(e){let t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Mp(e,t,r,n){let o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;let i=e[e.length-1],s=Vu(o,t),a=Vu(i,t);return dn(s===a,`You are trying to animate ${t} from "${o}" to "${i}". "${s?i:o}" is not an animatable value.`,"value-not-animatable"),!s||!a?!1:TS(e)||(r==="spring"||il(r))&&n}function pi(e){e.duration=0,e.type="keyframes"}var NS=new Set(["opacity","clipPath","filter","transform"]),ES=vo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kp(e){let{motionValue:t,name:r,repeatDelay:n,repeatType:o,damping:i,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:l,transformTemplate:c}=t.owner.getProps();return ES()&&r&&NS.has(r)&&(r!=="transform"||!c)&&!l&&!n&&o!=="mirror"&&i!==0&&s!=="inertia"}var PS=40,ks=class extends Hn{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:s="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ge.now();let m={autoplay:t,delay:r,type:n,repeat:o,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...d},f=u?.KeyframeResolver||gn;this.keyframeResolver=new f(a,(h,p,g)=>this.onKeyframesResolved(h,p,m,!g),l,c,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,o){this.keyframeResolver=void 0;let{name:i,type:s,velocity:a,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Ge.now(),Mp(t,i,s,a)||((At.instantAnimations||!l)&&u?.(mi(t,n,r)),t[0]=t[t.length-1],pi(n),n.repeat=0);let m={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>PS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},f=!c&&kp(m)?new al({...m,element:m.motionValue.owner.current}):new pn(m);f.finished.then(()=>this.notifyFinished()).catch(Oe),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ku()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}};var AS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DS(e){let t=AS.exec(e);if(!t)return[,];let[,r,n,o]=t;return[`--${r??n}`,o]}var MS=4;function Bu(e,t,r=1){mr(r<=MS,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[n,o]=DS(e);if(!n)return;let i=window.getComputedStyle(t).getPropertyValue(n);if(i){let s=i.trim();return fs(s)?parseFloat(s):s}return yo(o)?Bu(o,t,r+1):o}function Co(e,t){return e?.[t]??e?.default??e}var Is=new Set(["width","height","top","left","right","bottom",...Fr]);var Ip={test:e=>e==="auto",parse:e=>e};var ll=e=>t=>t.test(e);var Ou=[Zr,ee,Dt,Ir,bu,yu,Ip],_u=e=>Ou.find(ll(e));function Fp(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ps(e):!0}var kS=new Set(["brightness","contrast","saturate","opacity"]);function IS(e){let[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;let[n]=r.match(li)||[];if(!n)return e;let o=r.replace(n,""),i=kS.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+o+")"}var FS=/\b([a-z-]*)\(.*?\)/gu,Fs={...Mt,getAnimatableNone:e=>{let t=e.match(FS);return t?t.map(IS).join(" "):e}};var Lu={...Zr,transform:Math.round};var Vp={rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:Ns,scaleX:Ns,scaleY:Ns,scaleZ:Ns,skew:Ir,skewX:Ir,skewY:Ir,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:mn,originX:Xa,originY:Xa,originZ:ee};var Ro={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,backgroundPositionX:ee,backgroundPositionY:ee,...Vp,zIndex:Lu,fillOpacity:mn,strokeOpacity:mn,numOctaves:Lu};var Bp={...Ro,color:Ve,backgroundColor:Ve,outlineColor:Ve,fill:Ve,stroke:Ve,borderColor:Ve,borderTopColor:Ve,borderRightColor:Ve,borderBottomColor:Ve,borderLeftColor:Ve,filter:Fs,WebkitFilter:Fs},Vs=e=>Bp[e];function Bs(e,t){let r=Vs(e);return r!==Fs&&(r=Mt),r.getAnimatableNone?r.getAnimatableNone(t):void 0}var VS=new Set(["auto","none","0"]);function Op(e,t,r){let n=0,o;for(;n<e.length&&!o;){let i=e[n];typeof i=="string"&&!VS.has(i)&&Gn(i).values.length&&(o=e[n]),n++}if(o&&r)for(let i of t)e[i]=Bs(r,o)}var Os=class extends gn{constructor(t,r,n,o,i){super(t,r,n,o,i,!0)}readKeyframes(){let{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),yo(c))){let u=Bu(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Is.has(n)||t.length!==2)return;let[o,i]=t,s=_u(o),a=_u(i);if(s!==a)if(Pu(s)&&Pu(a))for(let l=0;l<t.length;l++){let c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Kn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:t,name:r}=this,n=[];for(let o=0;o<t.length;o++)(t[o]===null||Fp(t[o]))&&n.push(o);n.length&&Op(t,n,r)}measureInitialState(){let{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;let o=r[r.length-1];o!==void 0&&t.getValue(n,o).jump(o,!1)}measureEndState(){let{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;let o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);let i=n.length-1,s=n[i];n[i]=Kn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{t.getValue(a).set(l)}),this.resolveNoneKeyframes()}};function _p(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;t&&(n=t.current);let o=r?.[e]??n.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}var _s=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Ls(e){return ms(e)&&"offsetHeight"in e}var Lp=30,BS=e=>!isNaN(parseFloat(e)),$u={current:void 0},cl=class{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{let o=Ge.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ge.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=BS(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new fn);let n=this.events[t].add(r);return t==="change"?()=>{n(),me.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return $u.current&&$u.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let t=Ge.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Lp)return 0;let r=Math.min(this.updatedAt-this.prevUpdatedAt,Lp);return gs(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function pr(e,t){return new cl(e,t)}var{schedule:To,cancel:OS}=Wa(queueMicrotask,!1);var gr={x:!1,y:!1};function ul(){return gr.x||gr.y}function zu(e){return e==="x"||e==="y"?gr[e]?null:(gr[e]=!0,()=>{gr[e]=!1}):gr.x||gr.y?null:(gr.x=gr.y=!0,()=>{gr.x=gr.y=!1})}function dl(e,t){let r=_p(e),n=new AbortController,o={passive:!0,...t,signal:n.signal};return[r,o,()=>n.abort()]}function $p(e){return!(e.pointerType==="touch"||ul())}function ju(e,t,r={}){let[n,o,i]=dl(e,r),s=a=>{if(!$p(a))return;let{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;let u=d=>{$p(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,o)};return n.forEach(a=>{a.addEventListener("pointerenter",s,o)}),i}var Uu=(e,t)=>t?e===t?!0:Uu(e,t.parentElement):!1;var No=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;var _S=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zp(e){return _S.has(e.tagName)||e.tabIndex!==-1}var gi=new WeakSet;function jp(e){return t=>{t.key==="Enter"&&e(t)}}function Gu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}var Up=(e,t)=>{let r=e.currentTarget;if(!r)return;let n=jp(()=>{if(gi.has(r))return;Gu(r,"down");let o=jp(()=>{Gu(r,"up")}),i=()=>Gu(r,"cancel");r.addEventListener("keyup",o,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Gp(e){return No(e)&&!ul()}function Hu(e,t,r={}){let[n,o,i]=dl(e,r),s=a=>{let l=a.currentTarget;if(!Gp(a))return;gi.add(l);let c=t(l,a),u=(f,h)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),gi.has(l)&&gi.delete(l),Gp(f)&&typeof c=="function"&&c(f,{success:h})},d=f=>{u(f,l===window||l===document||r.useGlobalTarget||Uu(l,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",d,o),window.addEventListener("pointercancel",m,o)};return n.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",s,o),Ls(a)&&(a.addEventListener("focus",c=>Up(c,o)),!zp(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function $s(e){return ms(e)&&"ownerSVGElement"in e}function Ku(e){return $s(e)&&e.tagName==="svg"}var Ce=e=>!!(e&&e.getVelocity);var LS=[...Ou,Ve,Mt],Wu=e=>LS.find(ll(e));import*as fl from"react";import{useId as US,useRef as qp,useContext as GS,useInsertionEffect as HS}from"react";import{createContext as $S}from"react";var hi=$S({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});import*as Kp from"react";function Hp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function zS(...e){return t=>{let r=!1,n=e.map(o=>{let i=Hp(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():Hp(e[o],null)}}}}function Wp(...e){return Kp.useCallback(zS(...e),e)}var qu=class extends fl.Component{getSnapshotBeforeUpdate(t){let r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){let n=r.offsetParent,o=Ls(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=o-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}};function Yp({children:e,isPresent:t,anchorX:r,root:n}){let o=US(),i=qp(null),s=qp({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=GS(hi),l=Wp(i,e?.ref);return HS(()=>{let{width:c,height:u,top:d,left:m,right:f}=s.current;if(t||!i.current||!c||!u)return;let h=r==="left"?`left: ${m}`:`right: ${f}`;i.current.dataset.motionPopId=o;let p=document.createElement("style");a&&(p.nonce=a);let g=n??document.head;return g.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${h}px !important;
            top: ${d}px !important;
          }
        `),()=>{g.contains(p)&&g.removeChild(p)}},[t]),jS(qu,{isPresent:t,childRef:i,sizeRef:s,children:fl.cloneElement(e,{ref:l})})}var Qp=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:i,mode:s,anchorX:a,root:l})=>{let c=ii(WS),u=KS(),d=!0,m=Zp(()=>(d=!1,{id:u,initial:t,isPresent:r,custom:o,onExitComplete:f=>{c.set(f,!0);for(let h of c.values())if(!h)return;n&&n()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[r,c,n]);return i&&d&&(m={...m}),Zp(()=>{c.forEach((f,h)=>c.set(h,!1))},[r]),Jp.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),s==="popLayout"&&(e=Xp(Yp,{isPresent:r,anchorX:a,root:l,children:e})),Xp($n.Provider,{value:m,children:e})};function WS(){return new Map}import{useContext as qS,useId as YS,useEffect as XS,useCallback as ZS}from"react";function ml(e=!0){let t=qS($n);if(t===null)return[!0,null];let{isPresent:r,onExitComplete:n,register:o}=t,i=YS();XS(()=>{if(e)return o(i)},[e]);let s=ZS(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}import{Children as JS,isValidElement as QS}from"react";var zs=e=>e.key||"";function Yu(e){let t=[];return JS.forEach(e,r=>{QS(r)&&t.push(r)}),t}var we=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:i="sync",propagate:s=!1,anchorX:a="left",root:l})=>{let[c,u]=ml(s),d=tC(()=>Yu(e),[e]),m=s&&!c?[]:d.map(zs),f=tg(!0),h=tg(d),p=ii(()=>new Map),[g,y]=rg(d),[v,b]=rg(d);ja(()=>{f.current=!1,h.current=d;for(let S=0;S<v.length;S++){let R=zs(v[S]);m.includes(R)?p.delete(R):p.get(R)!==!0&&p.set(R,!1)}},[v,m.length,m.join("-")]);let w=[];if(d!==g){let S=[...d];for(let R=0;R<v.length;R++){let N=v[R],F=zs(N);m.includes(F)||(S.splice(R,0,N),w.push(N))}return i==="wait"&&w.length&&(S=w),b(Yu(S)),y(d),null}let{forceRender:x}=rC(oi);return eg(eC,{children:v.map(S=>{let R=zs(S),N=s&&!c?!1:d===v||m.includes(R),F=()=>{if(p.has(R))p.set(R,!0);else return;let E=!0;p.forEach(A=>{A||(E=!1)}),E&&(x?.(),b(h.current),s&&u?.(),n&&n())};return eg(Qp,{isPresent:N,initial:!f.current||r?void 0:!1,custom:t,presenceAffectsLayout:o,mode:i,root:l,onExitComplete:N?void 0:F,anchorX:a,children:S},R)})})};import{createContext as nC}from"react";var pl=nC({strict:!1});var ng={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hn={};for(let e in ng)hn[e]={isEnabled:t=>ng[e].some(r=>!!t[r])};function og(e){for(let t in e)hn[t]={...hn[t],...e[t]}}var oC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function js(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||oC.has(e)}var ig=e=>!js(e);function iC(e){typeof e=="function"&&(ig=t=>t.startsWith("on")?!js(t):e(t))}try{iC($w("@emotion/is-prop-valid").default)}catch{}function sg(e,t,r){let n={};for(let o in e)o==="values"&&typeof e.values=="object"||(ig(o)||r===!0&&js(o)||!t&&!js(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}import{jsxs as PC,jsx as AC}from"react/jsx-runtime";import{forwardRef as DC,useContext as Ju}from"react";import{createContext as sC}from"react";var Wn=sC({});import{useContext as aC,useMemo as lC}from"react";function qn(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function vn(e){return typeof e=="string"||Array.isArray(e)}var gl=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Us=["initial",...gl];function Eo(e){return qn(e.animate)||Us.some(t=>vn(e[t]))}function hl(e){return!!(Eo(e)||e.variants)}function ag(e,t){if(Eo(e)){let{initial:r,animate:n}=e;return{initial:r===!1||vn(r)?r:void 0,animate:vn(n)?n:void 0}}return e.inherit!==!1?t:{}}function cg(e){let{initial:t,animate:r}=ag(e,aC(Wn));return lC(()=>({initial:t,animate:r}),[lg(t),lg(r)])}function lg(e){return Array.isArray(e)?e.join(" "):e}import{Fragment as vC,useMemo as yC,createElement as bC}from"react";import{useMemo as dC}from"react";function ug(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var vi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;let r=ug(e,t.target.x),n=ug(e,t.target.y);return`${r}% ${n}%`}};var dg={correct:(e,{treeScale:t,projectionDelta:r})=>{let n=e,o=Mt.parse(e);if(o.length>5)return n;let i=Mt.createTransformer(e),s=typeof o[0]!="number"?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;o[0+s]/=a,o[1+s]/=l;let c=ge(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),i(o)}};var Gs={borderRadius:{...vi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vi,borderTopRightRadius:vi,borderBottomLeftRadius:vi,borderBottomRightRadius:vi,boxShadow:dg};function vl(e,{layout:t,layoutId:r}){return rr.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Gs[e]||e==="opacity")}var cC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uC=Fr.length;function fg(e,t,r){let n="",o=!0;for(let i=0;i<uC;i++){let s=Fr[i],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){let c=_s(a,Ro[s]);if(!l){o=!1;let u=cC[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,o?"":n):o&&(n="none"),n}function yi(e,t,r){let{style:n,vars:o,transformOrigin:i}=e,s=!1,a=!1;for(let l in t){let c=t[l];if(rr.has(l)){s=!0;continue}else if(Ts(l)){o[l]=c;continue}else{let u=_s(c,Ro[l]);l.startsWith("origin")?(a=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=fg(t,e.transform,r):n.transform&&(n.transform="none")),a){let{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}var bi=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xu(e,t,r){for(let n in t)!Ce(t[n])&&!vl(n,r)&&(e[n]=t[n])}function fC({transformTemplate:e},t){return dC(()=>{let r=bi();return yi(r,t,e),Object.assign({},r.vars,r.style)},[t])}function mC(e,t){let r=e.style||{},n={};return Xu(n,r,e),Object.assign(n,fC(e,t)),n}function mg(e,t){let r={},n=mC(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}import{useMemo as hC}from"react";var pC={offset:"stroke-dashoffset",array:"stroke-dasharray"},gC={offset:"strokeDashoffset",array:"strokeDasharray"};function pg(e,t,r=1,n=0,o=!0){e.pathLength=1;let i=o?pC:gC;e[i.offset]=ee.transform(-n);let s=ee.transform(t),a=ee.transform(r);e[i.array]=`${s} ${a}`}function yl(e,{attrX:t,attrY:r,attrScale:n,pathLength:o,pathSpacing:i=1,pathOffset:s=0,...a},l,c,u){if(yi(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:m}=e;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=u?.transformBox??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),o!==void 0&&pg(d,o,i,s,!1)}var bl=()=>({...bi(),attrs:{}});var xl=e=>typeof e=="string"&&e.toLowerCase()==="svg";function gg(e,t,r,n){let o=hC(()=>{let i=bl();return yl(i,t,xl(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){let i={};Xu(i,e.style,e),o.style={...i,...o.style}}return o}var hg=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xi(e){return typeof e!="string"||e.includes("-")?!1:!!(hg.indexOf(e)>-1||/[A-Z]/u.test(e))}function vg(e,t,r,{latestValues:n},o,i=!1){let a=(xi(e)?gg:mg)(t,n,o,e),l=sg(t,typeof e=="string",i),c=e!==vC?{...l,...a,ref:r}:{},{children:u}=t,d=yC(()=>Ce(u)?u.get():u,[u]);return bC(e,{...c,children:d})}import{useContext as bg}from"react";function yg(e){let t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function wi(e,t,r,n){if(typeof t=="function"){let[o,i]=yg(n);t=t(r!==void 0?r:e.custom,o,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){let[o,i]=yg(n);t=t(r!==void 0?r:e.custom,o,i)}return t}function Si(e){return Ce(e)?e.get():e}function xC({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,o){return{latestValues:wC(r,n,o,e),renderState:t()}}function wC(e,t,r,n){let o={},i=n(e,{});for(let m in i)o[m]=Si(i[m]);let{initial:s,animate:a}=e,l=Eo(e),c=hl(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;let d=u?a:s;if(d&&typeof d!="boolean"&&!qn(d)){let m=Array.isArray(d)?d:[d];for(let f=0;f<m.length;f++){let h=wi(e,m[f]);if(h){let{transitionEnd:p,transition:g,...y}=h;for(let v in y){let b=y[v];if(Array.isArray(b)){let w=u?b.length-1:0;b=b[w]}b!==null&&(o[v]=b)}for(let v in p)o[v]=p[v]}}}return o}var wl=e=>(t,r)=>{let n=bg(Wn),o=bg($n),i=()=>xC(e,t,n,o);return r?i():ii(i)};function Ci(e,t,r){let{style:n}=e,o={};for(let i in n)(Ce(n[i])||t.style&&Ce(t.style[i])||vl(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(o[i]=n[i]);return o}var xg=wl({scrapeMotionValuesFromProps:Ci,createRenderState:bi});function Sl(e,t,r){let n=Ci(e,t,r);for(let o in e)if(Ce(e[o])||Ce(t[o])){let i=Fr.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[i]=e[o]}return n}var wg=wl({scrapeMotionValuesFromProps:Sl,createRenderState:bl});var Sg=Symbol.for("motionComponentSymbol");import{useCallback as SC}from"react";function yn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Cg(e,t,r){return SC(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):yn(r)&&(r.current=n))},[t])}import{useContext as Hs,useRef as Zu,useInsertionEffect as TC,useEffect as NC}from"react";var Ri=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase();var CC="framerAppearId",Cl="data-"+Ri(CC);import{createContext as RC}from"react";var Rl=RC({});function Rg(e,t,r,n,o){let{visualElement:i}=Hs(Wn),s=Hs(pl),a=Hs($n),l=Hs(hi).reducedMotion,c=Zu(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));let u=c.current,d=Hs(Rl);u&&!u.projection&&o&&(u.type==="html"||u.type==="svg")&&EC(c.current,r,o,d);let m=Zu(!1);TC(()=>{u&&m.current&&u.update(r,a)});let f=r[Cl],h=Zu(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return ja(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),h.current&&u.animationState&&u.animationState.animateChanges())}),NC(()=>{u&&(!h.current&&u.animationState&&u.animationState.animateChanges(),h.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),h.current=!1),u.enteringChildren=void 0)}),u}function EC(e,t,r,n){let{layoutId:o,layout:i,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Tg(e.parent)),e.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:!!s||a&&yn(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function Tg(e){if(e)return e.options.allowProjection!==!1?e.projection:Tg(e.parent)}function Tl(e,{forwardMotionProps:t=!1}={},r,n){r&&og(r);let o=xi(e)?wg:xg;function i(a,l){let c,u={...Ju(hi),...a,layoutId:MC(a)},{isStatic:d}=u,m=cg(a),f=o(a,d);if(!d&&si){kC(u,r);let h=IC(u);c=h.MeasureLayout,m.visualElement=Rg(e,f,u,n,h.ProjectionNode)}return PC(Wn.Provider,{value:m,children:[c&&m.visualElement?AC(c,{visualElement:m.visualElement,...u}):null,vg(e,a,Cg(f,m.visualElement,l),f,d,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;let s=DC(i);return s[Sg]=e,s}function MC({layoutId:e}){let t=Ju(oi).id;return t&&e!==void 0?t+"-"+e:e}function kC(e,t){let r=Ju(pl).strict}function IC(e){let{drag:t,layout:r}=hn;if(!t&&!r)return{};let n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Ng(e,t){if(typeof Proxy>"u")return Tl;let r=new Map,n=(i,s)=>Tl(i,s,e,t),o=(i,s)=>n(i,s);return new Proxy(o,{get:(i,s)=>s==="create"?n:(r.has(s)||r.set(s,Tl(s,void 0,e,t)),r.get(s))})}import{Fragment as VC}from"react";function Nl({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Eg({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Pg(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Qu(e){return e===void 0||e===1}function El({scale:e,scaleX:t,scaleY:r}){return!Qu(e)||!Qu(t)||!Qu(r)}function bn(e){return El(e)||ed(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ed(e){return Ag(e.x)||Ag(e.y)}function Ag(e){return e&&e!=="0%"}function Ks(e,t,r){let n=e-r,o=t*n;return r+o}function Dg(e,t,r,n,o){return o!==void 0&&(e=Ks(e,o,n)),Ks(e,r,n)+t}function td(e,t=0,r=1,n,o){e.min=Dg(e.min,t,r,n,o),e.max=Dg(e.max,t,r,n,o)}function rd(e,{x:t,y:r}){td(e.x,t.translate,t.scale,t.originPoint),td(e.y,r.translate,r.scale,r.originPoint)}var Mg=.999999999999,kg=1.0000000000001;function Fg(e,t,r,n=!1){let o=r.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=r[a],s=i.projectionDelta;let{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Po(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,rd(e,s)),n&&bn(i.latestValues)&&Po(e,i.latestValues))}t.x<kg&&t.x>Mg&&(t.x=1),t.y<kg&&t.y>Mg&&(t.y=1)}function Yn(e,t){e.min=e.min+t,e.max=e.max+t}function Ig(e,t,r,n,o=.5){let i=ge(e.min,e.max,o);td(e,t,r,i,n)}function Po(e,t){Ig(e.x,t.x,t.scaleX,t.scale,t.originX),Ig(e.y,t.y,t.scaleY,t.scale,t.originY)}function nd(e,t){return Nl(Pg(e.getBoundingClientRect(),t))}function Vg(e,t,r){let n=nd(e,r),{scroll:o}=t;return o&&(Yn(n.x,o.offset.x),Yn(n.y,o.offset.y)),n}var Bg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ao=()=>({x:Bg(),y:Bg()}),Og=()=>({min:0,max:0}),_e=()=>({x:Og(),y:Og()});var Ws={current:null},Pl={current:!1};function _g(){if(Pl.current=!0,!!si)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ws.current=e.matches;e.addEventListener("change",t),t()}else Ws.current=!1}var Lg=new WeakMap;function $g(e,t,r){for(let n in t){let o=t[n],i=r[n];if(Ce(o))e.addValue(n,o);else if(Ce(i))e.addValue(n,pr(o,{owner:e}));else if(i!==o)if(e.hasValue(n)){let s=e.getValue(n);s.liveStyle===!0?s.jump(o):s.hasAnimated||s.set(o)}else{let s=e.getStaticValue(n);e.addValue(n,pr(s!==void 0?s:o,{owner:e}))}}for(let n in r)t[n]===void 0&&e.removeValue(n);return t}var zg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Al=class{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let m=Ge.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,me.render(this.render,!1,!0))};let{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Eo(r),this.isVariantNode=hl(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);let{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(let m in d){let f=d[m];l[m]!==void 0&&Ce(f)&&f.set(l[m])}}mount(t){this.current=t,Lg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Pl.current||_g(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ws.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Kt(this.notifyUpdate),Kt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(let t in this.events)this.events[t].clear();for(let t in this.features){let r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();let n=rr.has(t);n&&this.onBindTransform&&this.onBindTransform();let o=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&me.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}),i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{o(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hn){let r=hn[t];if(!r)continue;let{isEnabled:n,Feature:o}=r;if(!this.features[t]&&o&&n(this.props)&&(this.features[t]=new o(this)),this.features[t]){let i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<zg.length;n++){let o=zg[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);let i="on"+o,s=t[i];s&&(this.propEventSubscriptions[o]=this.on(o,s))}this.prevMotionValues=$g(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){let r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){let n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);let r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=pr(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(fs(n)||ps(n))?n=parseFloat(n):!Wu(n)&&Mt.test(r)&&(n=Bs(t,r)),this.setBaseTarget(t,Ce(n)?n.get():n)),Ce(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){let{initial:r}=this.props,n;if(typeof r=="string"||typeof r=="object"){let i=wi(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;let o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Ce(o)?o:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new fn),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){To.render(this.render)}};var Ti=class extends Al{constructor(){super(...arguments),this.KeyframeResolver=Os}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;Ce(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}};function Dl(e,{style:t,vars:r},n,o){let i=e.style,s;for(s in t)i[s]=t[s];o?.applyProjectionStyles(i,n);for(s in r)i.setProperty(s,r[s])}function FC(e){return window.getComputedStyle(e)}var Ml=class extends Ti{constructor(){super(...arguments),this.type="html",this.renderInstance=Dl}readValueFromInstance(t,r){if(rr.has(r))return this.projection?.isProjecting?Ds(r):Eu(t,r);{let n=FC(t),o=(Ts(r)?n.getPropertyValue(r):n[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:r}){return nd(t,r)}build(t,r,n){yi(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Ci(t,r,n)}};var kl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jg(e,t,r,n){Dl(e,t,void 0,n);for(let o in t.attrs)e.setAttribute(kl.has(o)?o:Ri(o),t.attrs[o])}var Il=class extends Ti{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_e}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(rr.has(r)){let n=Vs(r);return n&&n.default||0}return r=kl.has(r)?r:Ri(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Sl(t,r,n)}build(t,r,n){yl(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,o){jg(t,r,n,o)}mount(t){this.isSVGTag=xl(t.tagName),super.mount(t)}};var Ug=(e,t)=>xi(e)?new Il(t):new Ml(t,{allowProjection:e!==VC});function Qr(e,t,r){let n=e.getProps();return wi(n,t,r!==void 0?r:n.custom,e)}var qs=e=>Array.isArray(e);function BC(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,pr(r))}function OC(e){return qs(e)?e[e.length-1]||0:e}function Gg(e,t){let r=Qr(e,t),{transitionEnd:n={},transition:o={},...i}=r||{};i={...i,...n};for(let s in i){let a=OC(i[s]);BC(e,s,a)}}function Hg(e){return!!(Ce(e)&&e.add)}function Ys(e,t){let r=e.getValue("willChange");if(Hg(r))return r.add(t);if(!r&&At.WillChange){let n=new At.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Fl(e){return e.props[Cl]}var _C=e=>e!==null;function Kg(e,{repeat:t,repeatType:r="loop"},n){let o=e.filter(_C),i=t&&r!=="loop"&&t%2===1?0:o.length-1;return!i||n===void 0?o[i]:n}var LC={type:"spring",stiffness:500,damping:25,restSpeed:10},$C=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zC={type:"keyframes",duration:.8},jC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wg=(e,{keyframes:t})=>t.length>2?zC:rr.has(e)?e.startsWith("scale")?$C(t[1]):LC:jC;function qg({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}var Ni=(e,t,r,n={},o,i)=>s=>{let a=Co(n,e)||{},l=a.delay||n.delay||0,{elapsed:c=0}=n;c=c-ct(l);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:m=>{t.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:o};qg(a)||Object.assign(u,Wg(e,u)),u.duration&&(u.duration=ct(u.duration)),u.repeatDelay&&(u.repeatDelay=ct(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(pi(u),u.delay===0&&(d=!0)),(At.instantAnimations||At.skipAnimations)&&(d=!0,pi(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!i&&t.get()!==void 0){let m=Kg(u.keyframes,a);if(m!==void 0){me.update(()=>{u.onUpdate(m),u.onComplete()});return}}return a.isSync?new pn(u):new ks(u)};function UC({protectedKeys:e,needsAnimating:t},r){let n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Vl(e,t,{delay:r=0,transitionOverride:n,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=t;n&&(i=n);let l=[],c=o&&e.animationState&&e.animationState.getState()[o];for(let u in a){let d=e.getValue(u,e.latestValues[u]??null),m=a[u];if(m===void 0||c&&UC(c,u))continue;let f={delay:r,...Co(i||{},u)},h=d.get();if(h!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===h&&!f.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){let y=Fl(e);if(y){let v=window.MotionHandoffAnimation(y,u,me);v!==null&&(f.startTime=v,p=!0)}}Ys(e,u),d.start(Ni(u,d,m,e.shouldReduceMotion&&Is.has(u)?{type:!1}:f,e,p));let g=d.animation;g&&l.push(g)}return s&&Promise.all(l).then(()=>{me.update(()=>{s&&Gg(e,s)})}),l}function Bl(e,t,r,n=0,o=1){let i=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),s=e.size,a=(s-1)*n;return typeof r=="function"?r(i,s):o===1?i*n:a-i*n}function Ol(e,t,r={}){let n=Qr(e,t,r.type==="exit"?e.presenceContext?.custom:void 0),{transition:o=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(o=r.transitionOverride);let i=n?()=>Promise.all(Vl(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{let{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=o;return GC(e,t,l,c,u,d,r)}:()=>Promise.resolve(),{when:a}=o;if(a){let[l,c]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>c())}else return Promise.all([i(),s(r.delay)])}function GC(e,t,r=0,n=0,o=0,i=1,s){let a=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),a.push(Ol(l,t,{...s,delay:r+(typeof n=="function"?0:n)+Bl(e.variantChildren,l,n,o,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function Yg(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){let o=t.map(i=>Ol(e,i,r));n=Promise.all(o)}else if(typeof t=="string")n=Ol(e,t,r);else{let o=typeof t=="function"?Qr(e,t,r.custom):t;n=Promise.all(Vl(e,o,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function od(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}var HC=Us.length;function id(e){if(!e)return;if(!e.isControllingVariants){let r=e.parent?id(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}let t={};for(let r=0;r<HC;r++){let n=Us[r],o=e.props[n];(vn(o)||o===!1)&&(t[n]=o)}return t}var KC=[...gl].reverse(),WC=gl.length;function qC(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Yg(e,r,n)))}function Zg(e){let t=qC(e),r=Xg(),n=!0,o=l=>(c,u)=>{let d=Qr(e,u,l==="exit"?e.presenceContext?.custom:void 0);if(d){let{transition:m,transitionEnd:f,...h}=d;c={...c,...h,...f}}return c};function i(l){t=l(e)}function s(l){let{props:c}=e,u=id(e.parent)||{},d=[],m=new Set,f={},h=1/0;for(let g=0;g<WC;g++){let y=KC[g],v=r[y],b=c[y]!==void 0?c[y]:u[y],w=vn(b),x=y===l?v.isActive:null;x===!1&&(h=g);let S=b===u[y]&&b!==c[y]&&w;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...f},!v.isActive&&x===null||!b&&!v.prevProp||qn(b)||typeof b=="boolean")continue;let R=YC(v.prevProp,b),N=R||y===l&&v.isActive&&!S&&w||g>h&&w,F=!1,E=Array.isArray(b)?b:[b],A=E.reduce(o(y),{});x===!1&&(A={});let{prevResolvedValues:D={}}=v,k={...D,...A},O=B=>{N=!0,m.has(B)&&(F=!0,m.delete(B)),v.needsAnimating[B]=!0;let X=e.getValue(B);X&&(X.liveStyle=!1)};for(let B in k){let X=A[B],$=D[B];if(f.hasOwnProperty(B))continue;let z=!1;qs(X)&&qs($)?z=!od(X,$):z=X!==$,z?X!=null?O(B):m.add(B):X!==void 0&&m.has(B)?O(B):v.protectedKeys[B]=!0}v.prevProp=b,v.prevResolvedValues=A,v.isActive&&(f={...f,...A}),n&&e.blockInitialAnimation&&(N=!1);let M=S&&R;N&&(!M||F)&&d.push(...E.map(B=>{let X={type:y};if(typeof B=="string"&&n&&!M&&e.manuallyAnimateOnMount&&e.parent){let{parent:$}=e,z=Qr($,B);if($.enteringChildren&&z){let{delayChildren:se}=z.transition||{};X.delay=Bl($.enteringChildren,e,se)}}return{animation:B,options:X}}))}if(m.size){let g={};if(typeof c.initial!="boolean"){let y=Qr(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(g.transition=y.transition)}m.forEach(y=>{let v=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),g[y]=v??null}),d.push({animation:g})}let p=!!d.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(d):Promise.resolve()}function a(l,c){if(r[l].isActive===c)return Promise.resolve();e.variantChildren?.forEach(d=>d.animationState?.setActive(l,c)),r[l].isActive=c;let u=s(l);for(let d in r)r[d].protectedKeys={};return u}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Xg()}}}function YC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!od(t,e):!1}function Do(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xg(){return{animate:Do(!0),whileInView:Do(),whileHover:Do(),whileTap:Do(),whileDrag:Do(),whileFocus:Do(),exit:Do()}}var bt=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};var _l=class extends bt{constructor(t){super(t),t.animationState||(t.animationState=Zg(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();qn(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}};var XC=0,Ll=class extends bt{constructor(){super(...arguments),this.id=XC++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;let o=this.node.animationState.setActive("exit",!t);r&&!t&&o.then(()=>{r(this.id)})}mount(){let{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}};var Jg={animation:{Feature:_l},exit:{Feature:Ll}};function xn(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function wn(e){return{point:{x:e.pageX,y:e.pageY}}}var Qg=e=>t=>No(t)&&e(t,wn(t));function Xn(e,t,r,n){return xn(e,t,Qg(r),n)}var nh=1e-4,ZC=1-nh,JC=1+nh,oh=.01,QC=0-oh,eR=0+oh;function dt(e){return e.max-e.min}function ih(e,t,r){return Math.abs(e-t)<=r}function eh(e,t,r,n=.5){e.origin=n,e.originPoint=ge(t.min,t.max,e.origin),e.scale=dt(r)/dt(t),e.translate=ge(r.min,r.max,e.origin)-e.originPoint,(e.scale>=ZC&&e.scale<=JC||isNaN(e.scale))&&(e.scale=1),(e.translate>=QC&&e.translate<=eR||isNaN(e.translate))&&(e.translate=0)}function Ei(e,t,r,n){eh(e.x,t.x,r.x,n?n.originX:void 0),eh(e.y,t.y,r.y,n?n.originY:void 0)}function th(e,t,r){e.min=r.min+t.min,e.max=e.min+dt(t)}function sh(e,t,r){th(e.x,t.x,r.x),th(e.y,t.y,r.y)}function rh(e,t,r){e.min=t.min-r.min,e.max=e.min+dt(t)}function Xs(e,t,r){rh(e.x,t.x,r.x),rh(e.y,t.y,r.y)}function Wt(e){return[e("x"),e("y")]}var $l=({current:e})=>e?e.ownerDocument.defaultView:null;var ah=(e,t)=>Math.abs(e-t);function lh(e,t){let r=ah(e.x,t.x),n=ah(e.y,t.y);return Math.sqrt(r**2+n**2)}var Pi=class{constructor(t,r,{transformPagePoint:n,contextWindow:o=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let m=ad(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=lh(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!h)return;let{point:p}=m,{timestamp:g}=Ue;this.history.push({...p,timestamp:g});let{onStart:y,onMove:v}=this.handlers;f||(y&&y(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=sd(f,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();let{onEnd:h,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let y=ad(m.type==="pointercancel"?this.lastMoveEventInfo:sd(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(m,y),p&&p(m,y)},!No(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=o||window;let a=wn(t),l=sd(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ue;this.history=[{...c,timestamp:u}];let{onSessionStart:d}=r;d&&d(t,ad(l,this.history)),this.removeListeners=Mr(Xn(this.contextWindow,"pointermove",this.handlePointerMove),Xn(this.contextWindow,"pointerup",this.handlePointerUp),Xn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Kt(this.updatePoint)}};function sd(e,t){return t?{point:t(e.point)}:e}function ch(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ad({point:e},t){return{point:e,delta:ch(e,uh(t)),offset:ch(e,tR(t)),velocity:rR(t,.1)}}function tR(e){return e[0]}function uh(e){return e[e.length-1]}function rR(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null,o=uh(e);for(;r>=0&&(n=e[r],!(o.timestamp-n.timestamp>ct(t)));)r--;if(!n)return{x:0,y:0};let i=ut(o.timestamp-n.timestamp);if(i===0)return{x:0,y:0};let s={x:(o.x-n.x)/i,y:(o.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function gh(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ge(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ge(r,e,n.max):Math.min(e,r)),e}function dh(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function hh(e,{top:t,left:r,bottom:n,right:o}){return{x:dh(e.x,r,o),y:dh(e.y,t,n)}}function fh(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function vh(e,t){return{x:fh(e.x,t.x),y:fh(e.y,t.y)}}function yh(e,t){let r=.5,n=dt(e),o=dt(t);return o>n?r=Xr(t.min,t.max-n,e.min):n>o&&(r=Xr(e.min,e.max-o,t.min)),yt(0,1,r)}function bh(e,t){let r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}var zl=.35;function xh(e=zl){return e===!1?e=0:e===!0&&(e=zl),{x:mh(e,"left","right"),y:mh(e,"top","bottom")}}function mh(e,t,r){return{min:ph(e,t),max:ph(e,r)}}function ph(e,t){return typeof e=="number"?e:e[t]||0}var nR=new WeakMap,Ul=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){let{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;let i=d=>{let{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(wn(d).point)},s=(d,m)=>{let{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zu(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wt(y=>{let v=this.getAxisMotionValue(y).get()||0;if(Dt.test(v)){let{projection:b}=this.visualElement;if(b&&b.layout){let w=b.layout.layoutBox[y];w&&(v=dt(w)*(parseFloat(v)/100))}}this.originPoint[y]=v}),p&&me.postRender(()=>p(d,m)),Ys(this.visualElement,"transform");let{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;let{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;let{offset:y}=m;if(h&&this.currentDirection===null){this.currentDirection=oR(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",m.point,y),this.updateAxis("y",m.point,y),this.visualElement.render(),g&&g(d,m)},l=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Wt(d=>this.getAnimationState(d)==="paused"&&this.getAxisMotionValue(d).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Pi(t,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:$l(this.visualElement)})}stop(t,r){let n=t||this.latestPointerEvent,o=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!o||!n)return;let{velocity:s}=o;this.startAnimation(s);let{onDragEnd:a}=this.getProps();a&&me.postRender(()=>a(n,o))}cancel(){this.isDragging=!1;let{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){let{drag:o}=this.getProps();if(!n||!jl(t,o,this.currentDirection))return;let i=this.getAxisMotionValue(t),s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=gh(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){let{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&yn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=hh(n.layoutBox,t):this.constraints=!1,this.elastic=xh(r),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Wt(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=bh(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){let{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!yn(t))return!1;let n=t.current;mr(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:o}=this.visualElement;if(!o||!o.layout)return!1;let i=Vg(n,o.root,this.visualElement.getTransformPagePoint()),s=vh(o.layout.layoutBox,i);if(r){let a=r(Eg(s));this.hasMutatedConstraints=!!a,a&&(s=Nl(a))}return s}startAnimation(t){let{drag:r,dragMomentum:n,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Wt(u=>{if(!jl(u,r,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});let m=o?200:1e6,f=o?40:1e7,h={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,h)});return Promise.all(c).then(a)}startAxisValueAnimation(t,r){let n=this.getAxisMotionValue(t);return Ys(this.visualElement,t),n.start(Ni(t,n,0,r,this.visualElement,!1))}stopAnimation(){Wt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wt(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){let r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),o=n[r];return o||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Wt(r=>{let{drag:n}=this.getProps();if(!jl(r,n,this.currentDirection))return;let{projection:o}=this.visualElement,i=this.getAxisMotionValue(r);if(o&&o.layout){let{min:s,max:a}=o.layout.layoutBox[r];i.set(t[r]-ge(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!yn(r)||!n||!this.constraints)return;this.stopAnimation();let o={x:0,y:0};Wt(s=>{let a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){let l=a.get();o[s]=yh({min:l,max:l},this.constraints[s])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Wt(s=>{if(!jl(s,t,null))return;let a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(ge(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;nR.set(this.visualElement,this);let t=this.visualElement.current,r=Xn(t,"pointerdown",l=>{let{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{let{dragConstraints:l}=this.getProps();yn(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),me.read(n);let s=xn(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Wt(u=>{let d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),a&&a()}}getProps(){let t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=zl,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}};function jl(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function oR(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}var Gl=class extends bt{constructor(t){super(t),this.removeGroupControls=Oe,this.removeListeners=Oe,this.controls=new Ul(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oe}unmount(){this.removeGroupControls(),this.removeListeners()}};var wh=e=>(t,r)=>{e&&me.postRender(()=>e(t,r))},Hl=class extends bt{constructor(){super(...arguments),this.removePointerDownListener=Oe}onPointerDown(t){this.session=new Pi(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$l(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:wh(t),onStart:wh(r),onMove:n,onEnd:(i,s)=>{delete this.session,o&&me.postRender(()=>o(i,s))}}}mount(){this.removePointerDownListener=Xn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};import{jsx as iR}from"react/jsx-runtime";import{useContext as Sh,Component as sR}from"react";var Ai={hasAnimatedSinceResize:!0,hasEverUpdated:!1};var ld=!1,cd=class extends sR{componentDidMount(){let{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:o}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),n&&n.register&&o&&n.register(i),ld&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ai.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:r,visualElement:n,drag:o,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,ld=!0,o||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||me.postRender(()=>{let a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),To.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:o}=t;ld=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}};function Kl(e){let[t,r]=ml(),n=Sh(oi);return iR(cd,{...e,layoutGroup:n,switchLayoutGroup:Sh(Rl),isPresent:t,safeToRemove:r})}function Ch(e,t,r){let n=Ce(e)?e:pr(e);return n.start(Ni("",n,t,r)),n.animation}var Rh=(e,t)=>e.depth-t.depth;var Wl=class{constructor(){this.children=[],this.isDirty=!1}add(t){go(this.children,t),this.isDirty=!0}remove(t){ho(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Rh),this.isDirty=!1,this.children.forEach(t)}};function Th(e,t){let r=Ge.now(),n=({timestamp:o})=>{let i=o-r;i>=t&&(Kt(n),e(i-t))};return me.setup(n,!0),()=>Kt(n)}var Ah=["TopLeft","TopRight","BottomLeft","BottomRight"],aR=Ah.length,Nh=e=>typeof e=="string"?parseFloat(e):e,Eh=e=>typeof e=="number"||ee.test(e);function Dh(e,t,r,n,o,i){o?(e.opacity=ge(0,r.opacity??1,lR(n)),e.opacityExit=ge(t.opacity??1,0,cR(n))):i&&(e.opacity=ge(t.opacity??1,r.opacity??1,n));for(let s=0;s<aR;s++){let a=`border${Ah[s]}Radius`,l=Ph(t,a),c=Ph(r,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Eh(l)===Eh(c)?(e[a]=Math.max(ge(Nh(l),Nh(c),n),0),(Dt.test(c)||Dt.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||r.rotate)&&(e.rotate=ge(t.rotate||0,r.rotate||0,n))}function Ph(e,t){return e[t]!==void 0?e[t]:e.borderRadius}var lR=Mh(0,.5,bs),cR=Mh(.5,.95,Oe);function Mh(e,t,r){return n=>n<e?0:n>t?1:r(Xr(e,t,n))}function kh(e,t){e.min=t.min,e.max=t.max}function hr(e,t){kh(e.x,t.x),kh(e.y,t.y)}function ud(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ih(e,t,r,n,o){return e-=t,e=Ks(e,1/r,n),o!==void 0&&(e=Ks(e,1/o,n)),e}function uR(e,t=0,r=1,n=.5,o,i=e,s=e){if(Dt.test(t)&&(t=parseFloat(t),t=ge(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=ge(i.min,i.max,n);e===i&&(a-=t),e.min=Ih(e.min,t,r,a,o),e.max=Ih(e.max,t,r,a,o)}function Fh(e,t,[r,n,o],i,s){uR(e,t[r],t[n],t[o],t.scale,i,s)}var dR=["x","scaleX","originX"],fR=["y","scaleY","originY"];function dd(e,t,r,n){Fh(e.x,t,dR,r?r.x:void 0,n?n.x:void 0),Fh(e.y,t,fR,r?r.y:void 0,n?n.y:void 0)}function Vh(e){return e.translate===0&&e.scale===1}function fd(e){return Vh(e.x)&&Vh(e.y)}function Bh(e,t){return e.min===t.min&&e.max===t.max}function _h(e,t){return Bh(e.x,t.x)&&Bh(e.y,t.y)}function Oh(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function md(e,t){return Oh(e.x,t.x)&&Oh(e.y,t.y)}function pd(e){return dt(e.x)/dt(e.y)}function gd(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}var ql=class{constructor(){this.members=[]}add(t){go(this.members,t),t.scheduleRender()}remove(t){if(ho(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){let r=this.members.findIndex(o=>t===o);if(r===0)return!1;let n;for(let o=r;o>=0;o--){let i=this.members[o];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){let n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function Lh(e,t,r){let n="",o=e.x.translate/t.x,i=e.y.translate/t.y,s=r?.z||0;if((o||i||s)&&(n=`translate3d(${o}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:c,rotate:u,rotateX:d,rotateY:m,skewX:f,skewY:h}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),d&&(n+=`rotateX(${d}deg) `),m&&(n+=`rotateY(${m}deg) `),f&&(n+=`skewX(${f}deg) `),h&&(n+=`skewY(${h}deg) `)}let a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}var Mo={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},hd=["","X","Y","Z"],mR=1e3,pR=0;function vd(e,t,r,n){let{latestValues:o}=t;o[e]&&(r[e]=o[e],t.setStaticValue(e,0),n&&(n[e]=0))}function qh(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let r=Fl(t);if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:o,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",me,!(o||i))}let{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&qh(n)}function Yl({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(s={},a=t?.()){this.id=pR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ht.value&&(Mo.nodes=Mo.calculatedTargetDeltas=Mo.calculatedProjections=0),this.nodes.forEach(vR),this.nodes.forEach(wR),this.nodes.forEach(SR),this.nodes.forEach(yR),Ht.addProjectionMetrics&&Ht.addProjectionMetrics(Mo)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Wl)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new fn),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){let l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=$s(s)&&!Ku(s),this.instance=s;let{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u,d=0,m=()=>this.root.updateBlockedByResize=!1;me.read(()=>{d=window.innerWidth}),e(s,()=>{let f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,u&&u(),u=Th(m,250),Ai.hasAnimatedSinceResize&&(Ai.hasAnimatedSinceResize=!1,this.nodes.forEach(jh)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let h=this.options.transition||c.getDefaultTransition()||ER,{onLayoutAnimationStart:p,onLayoutAnimationComplete:g}=c.getProps(),y=!this.targetLayout||!md(this.targetLayout,f),v=!d&&m;if(this.options.layoutRoot||this.resumeFrom||v||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let b={...Co(h,"layout"),onPlay:p,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,v)}else d||jh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Kt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CR),this.animationId++)}getTransformTemplate(){let{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qh(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){let d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}let{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;let c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($h);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zh);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xR),this.nodes.forEach(gR),this.nodes.forEach(hR)):this.nodes.forEach(zh),this.clearAllSnapshots();let a=Ge.now();Ue.delta=yt(0,1e3/60,a-Ue.timestamp),Ue.timestamp=a,Ue.isProcessing=!0,Rs.update.process(Ue),Rs.preRender.process(Ue),Rs.render.process(Ue),Ue.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,To.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bR),this.sharedNodes.forEach(RR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dt(this.snapshot.measuredBox.x)&&!dt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();let s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=_e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){let l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!o)return;let s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!fd(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(a||bn(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){let a=this.measurePageBox(),l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),PR(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:s}=this.options;if(!s)return _e();let a=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(AR))){let{scroll:c}=this.root;c&&(Yn(a.x,c.offset.x),Yn(a.y,c.offset.y))}return a}removeElementScroll(s){let a=_e();if(hr(a,s),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){let c=this.path[l],{scroll:u,options:d}=c;c!==this.root&&u&&d.layoutScroll&&(u.wasRoot&&hr(a,s),Yn(a.x,u.offset.x),Yn(a.y,u.offset.y))}return a}applyTransform(s,a=!1){let l=_e();hr(l,s);for(let c=0;c<this.path.length;c++){let u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Po(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),bn(u.latestValues)&&Po(l,u.latestValues)}return bn(this.latestValues)&&Po(l,this.latestValues),l}removeTransform(s){let a=_e();hr(a,s);for(let l=0;l<this.path.length;l++){let c=this.path[l];if(!c.instance||!bn(c.latestValues))continue;El(c.latestValues)&&c.updateSnapshot();let u=_e(),d=c.measurePageBox();hr(u,d),dd(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return bn(this.latestValues)&&dd(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ue.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){let a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);let l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:u,layoutId:d}=this.options;if(!this.layout||!(u||d))return;this.resolvedRelativeTargetAt=Ue.timestamp;let m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_e(),this.targetWithTransforms=_e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sh(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hr(this.target,this.layout.layoutBox),rd(this.target,this.targetDelta)):hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0),Ht.value&&Mo.calculatedTargetDeltas++)}getClosestProjectingParent(){if(!(!this.parent||El(this.parent.latestValues)||ed(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,a,l){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),Xs(this.relativeTargetOrigin,a,l),hr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let s=this.getLead(),a=!!this.resumingFrom||this!==s,l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ue.timestamp&&(l=!1),l)return;let{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;hr(this.layoutCorrected,this.layout.layoutBox);let d=this.treeScale.x,m=this.treeScale.y;Fg(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=_e());let{target:f}=s;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ud(this.prevProjectionDelta.x,this.projectionDelta.x),ud(this.prevProjectionDelta.y,this.projectionDelta.y)),Ei(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!gd(this.projectionDelta.x,this.prevProjectionDelta.x)||!gd(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f)),Ht.value&&Mo.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){let a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ao(),this.projectionDelta=Ao(),this.projectionDeltaWithTransform=Ao()}setAnimationOrigin(s,a=!1){let l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;let m=_e(),f=l?l.source:void 0,h=this.layout?this.layout.source:void 0,p=f!==h,g=this.getStack(),y=!g||g.members.length<=1,v=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(NR));this.animationProgress=0;let b;this.mixTargetDelta=w=>{let x=w/1e3;Uh(d.x,s.x,x),Uh(d.y,s.y,x),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xs(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TR(this.relativeTarget,this.relativeTargetOrigin,m,x),b&&_h(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=_e()),hr(b,this.relativeTarget)),p&&(this.animationValues=u,Dh(u,c,this.latestValues,x,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Kt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{Ai.hasAnimatedSinceResize=!0,kr.layout++,this.motionValue||(this.motionValue=pr(0)),this.currentAnimation=Ch(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onStop:()=>{kr.layout--},onComplete:()=>{kr.layout--,s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let s=this.getLead(),{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&Yh(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||_e();let d=dt(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;let m=dt(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+m}hr(a,l),Po(a,u),Ei(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new ql),this.sharedNodes.get(s).add(a);let c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){let s=this.getStack();return s?s.lead===this:!0}getLead(){let{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){let{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){let c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){let s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){let{visualElement:s}=this.options;if(!s)return;let a=!1,{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;let c={};l.z&&vd("z",s,c,this.animationValues);for(let u=0;u<hd.length;u++)vd(`rotate${hd[u]}`,s,c,this.animationValues),vd(`skew${hd[u]}`,s,c,this.animationValues);s.render();for(let u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}applyProjectionStyles(s,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}let l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Si(a?.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}let c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Si(a?.pointerEvents)||""),this.hasProjected&&!bn(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";let u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=Lh(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),s.transform=d;let{x:m,y:f}=this.projectionDelta;s.transformOrigin=`${m.origin*100}% ${f.origin*100}% 0`,c.animationValues?s.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:s.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(let h in Gs){if(u[h]===void 0)continue;let{correct:p,applyTo:g,isCSSVariable:y}=Gs[h],v=d==="none"?u[h]:p(u[h],c);if(g){let b=g.length;for(let w=0;w<b;w++)s[g[w]]=v}else y?this.options.visualElement.renderState.vars[h]=v:s[h]=v}this.options.layoutId&&(s.pointerEvents=c===this?Si(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach($h),this.root.sharedNodes.clear()}}}function gR(e){e.updateLayout()}function hR(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:n}=e.layout,{animationType:o}=e.options,i=t.source!==e.layout.source;o==="size"?Wt(u=>{let d=i?t.measuredBox[u]:t.layoutBox[u],m=dt(d);d.min=r[u].min,d.max=d.min+m}):Yh(o,t.layoutBox,r)&&Wt(u=>{let d=i?t.measuredBox[u]:t.layoutBox[u],m=dt(r[u]);d.max=d.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+m)});let s=Ao();Ei(s,r,t.layoutBox);let a=Ao();i?Ei(a,e.applyTransform(n,!0),t.measuredBox):Ei(a,r,t.layoutBox);let l=!fd(s),c=!1;if(!e.resumeFrom){let u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){let{snapshot:d,layout:m}=u;if(d&&m){let f=_e();Xs(f,t.layoutBox,d.layoutBox);let h=_e();Xs(h,r,m.layoutBox),md(f,h)||(c=!0),u.options.layoutRoot&&(e.relativeTarget=h,e.relativeTargetOrigin=f,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){let{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function vR(e){Ht.value&&Mo.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bR(e){e.clearSnapshot()}function $h(e){e.clearMeasurements()}function zh(e){e.isLayoutDirty=!1}function xR(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function jh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wR(e){e.resolveTargetDelta()}function SR(e){e.calcProjection()}function CR(e){e.resetSkewAndRotation()}function RR(e){e.removeLeadSnapshot()}function Uh(e,t,r){e.translate=ge(t.translate,0,r),e.scale=ge(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Gh(e,t,r,n){e.min=ge(t.min,r.min,n),e.max=ge(t.max,r.max,n)}function TR(e,t,r,n){Gh(e.x,t.x,r.x,n),Gh(e.y,t.y,r.y,n)}function NR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var ER={duration:.45,ease:[.4,0,.1,1]},Hh=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Kh=Hh("applewebkit/")&&!Hh("chrome/")?Math.round:Oe;function Wh(e){e.min=Kh(e.min),e.max=Kh(e.max)}function PR(e){Wh(e.x),Wh(e.y)}function Yh(e,t,r){return e==="position"||e==="preserve-aspect"&&!ih(pd(t),pd(r),.2)}function AR(e){return e!==e.root&&e.scroll?.wasRoot}var Xh=Yl({attachResizeListener:(e,t)=>xn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0});var yd={current:void 0},Xl=Yl({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yd.current){let e=new Xh({});e.mount(window),e.setOptions({layoutScroll:!0}),yd.current=e}return yd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"});var Zh={pan:{Feature:Hl},drag:{Feature:Gl,ProjectionNode:Xl,MeasureLayout:Kl}};function Jh(e,t,r){let{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");let o="onHover"+r,i=n[o];i&&me.postRender(()=>i(t,wn(t)))}var Zl=class extends bt{mount(){let{current:t}=this.node;t&&(this.unmount=ju(t,(r,n)=>(Jh(this.node,n,"Start"),o=>Jh(this.node,o,"End"))))}unmount(){}};var Jl=class extends bt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mr(xn(this.node.current,"focus",()=>this.onFocus()),xn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function Qh(e,t,r){let{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");let o="onTap"+(r==="End"?"":r),i=n[o];i&&me.postRender(()=>i(t,wn(t)))}var Ql=class extends bt{mount(){let{current:t}=this.node;t&&(this.unmount=Hu(t,(r,n)=>(Qh(this.node,n,"Start"),(o,{success:i})=>Qh(this.node,o,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};var xd=new WeakMap,bd=new WeakMap,DR=e=>{let t=xd.get(e.target);t&&t(e)},MR=e=>{e.forEach(DR)};function kR({root:e,...t}){let r=e||document;bd.has(r)||bd.set(r,{});let n=bd.get(r),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(MR,{root:e,...t})),n[o]}function ev(e,t,r){let n=kR(t);return xd.set(e,r),n.observe(e),()=>{xd.delete(e),n.unobserve(e)}}var IR={some:0,all:1},ec=class extends bt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:o="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:IR[o]},a=l=>{let{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);let{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),m=c?u:d;m&&m(l)};return ev(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;let{props:t,prevProps:r}=this.node;["amount","margin","root"].some(FR(t,r))&&this.startObserver()}unmount(){}};function FR({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}var tv={inView:{Feature:ec},tap:{Feature:Ql},focus:{Feature:Jl},hover:{Feature:Zl}};var rv={layout:{ProjectionNode:Xl,MeasureLayout:Kl}};var nv={...Jg,...tv,...Zh,...rv};var Z=Ng(nv,Ug);import{CheckCircle as Zs,Clock as tc,AlertCircle as ov,XCircle as rc,FileEdit as VR,Pause as BR}from"lucide-react";import{Fragment as GR,jsx as Zn,jsxs as sv}from"react/jsx-runtime";var iv={completed:{bg:"bg-status-success/10",text:"text-status-success",border:"border-status-success/30",dot:"bg-status-success",icon:Zs,label:"Completed"},approved:{bg:"bg-status-success/10",text:"text-status-success",border:"border-status-success/30",dot:"bg-status-success",icon:Zs,label:"Approved"},active:{bg:"bg-status-success/10",text:"text-status-success",border:"border-status-success/30",dot:"bg-status-success",icon:Zs,label:"Active",defaultPulse:!0},executed:{bg:"bg-status-success/10",text:"text-status-success",border:"border-status-success/30",dot:"bg-status-success",icon:Zs,label:"Executed"},success:{bg:"bg-status-success/10",text:"text-status-success",border:"border-status-success/30",dot:"bg-status-success",icon:Zs,label:"Success"},pending:{bg:"bg-status-warning/10",text:"text-status-warning",border:"border-status-warning/30",dot:"bg-status-warning",icon:tc,label:"Pending"},pending_approval:{bg:"bg-status-warning/10",text:"text-status-warning",border:"border-status-warning/30",dot:"bg-status-warning",icon:tc,label:"Pending Approval"},processing:{bg:"bg-status-warning/10",text:"text-status-warning",border:"border-status-warning/30",dot:"bg-status-warning",icon:tc,label:"Processing",defaultPulse:!0},in_progress:{bg:"bg-status-warning/10",text:"text-status-warning",border:"border-status-warning/30",dot:"bg-status-warning",icon:tc,label:"In Progress",defaultPulse:!0},warning:{bg:"bg-status-warning/10",text:"text-status-warning",border:"border-status-warning/30",dot:"bg-status-warning",icon:ov,label:"Warning"},failed:{bg:"bg-status-danger/10",text:"text-status-danger",border:"border-status-danger/30",dot:"bg-status-danger",icon:rc,label:"Failed"},rejected:{bg:"bg-status-danger/10",text:"text-status-danger",border:"border-status-danger/30",dot:"bg-status-danger",icon:rc,label:"Rejected"},error:{bg:"bg-status-danger/10",text:"text-status-danger",border:"border-status-danger/30",dot:"bg-status-danger",icon:rc,label:"Error"},cancelled:{bg:"bg-status-danger/10",text:"text-status-danger",border:"border-status-danger/30",dot:"bg-status-danger",icon:rc,label:"Cancelled"},draft:{bg:"bg-surface-subtle",text:"text-text-secondary",border:"border-default",dot:"bg-text-muted",icon:VR,label:"Draft"},inactive:{bg:"bg-surface-subtle",text:"text-text-secondary",border:"border-default",dot:"bg-text-muted",icon:BR,label:"Inactive"},unknown:{bg:"bg-surface-subtle",text:"text-text-secondary",border:"border-default",dot:"bg-text-muted",icon:ov,label:"Unknown"}};function OR(e){let t=e.toLowerCase().replace(/[\s-]/g,"_");return iv[t]||iv.unknown}var _R={initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2,ease:"easeOut"}},LR={initial:{scale:.5,opacity:.75},animate:{scale:1.5,opacity:0},transition:{duration:1.5,repeat:1/0,ease:"easeOut"}},$R={sm:"w-1.5 h-1.5",md:"w-2 h-2",lg:"w-2.5 h-2.5"},zR={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"},wd=Sd.memo(function({color:t,pulse:r,size:n}){return sv("span",{className:"relative inline-flex items-center justify-center",children:[Zn("span",{className:T("rounded-full",t,$R[n])}),r&&Zn(Z.span,{className:T("absolute rounded-full",t,zR[n],"opacity-75"),...LR})]})}),jR={sm:"px-2 py-0.5 text-micro gap-1",md:"px-2.5 py-1 text-small gap-1.5",lg:"px-3 py-1.5 text-base gap-2"},UR={sm:"w-3 h-3",md:"w-3.5 h-3.5",lg:"w-4 h-4"},nc=Sd.memo(function({status:t,className:r,showIcon:n=!0,size:o="md",variant:i="badge",pulse:s,label:a}){let l=OR(t),c=l.icon,u=a||l.label||t.charAt(0).toUpperCase()+t.slice(1).replace(/_/g," "),d=s??l.defaultPulse??!1;return i==="dot"?Zn("span",{className:T("inline-flex items-center",r),role:"status","aria-label":`Status: ${u}`,title:u,children:Zn(wd,{color:l.dot,pulse:d,size:o})}):sv(Z.span,{className:T("inline-flex items-center rounded-full border font-medium",l.bg,l.text,l.border,jR[o],r),role:"status","aria-label":`Status: ${u}`,..._R,children:[n&&Zn(GR,{children:d?Zn(wd,{color:l.dot,pulse:d,size:o}):Zn(c,{className:UR[o],"aria-hidden":"true"})}),Zn("span",{children:u})]})});nc.displayName="StatusBadge";import*as Cn from"react";import{jsx as xt,jsxs as Cd}from"react/jsx-runtime";var Jn={xs:{container:"w-4 h-4",stroke:2},sm:{container:"w-5 h-5",stroke:2},md:{container:"w-6 h-6",stroke:2.5},lg:{container:"w-8 h-8",stroke:3},xl:{container:"w-12 h-12",stroke:3}},Sn={default:"text-text-muted",primary:"text-accent-primary",success:"text-status-success",warning:"text-status-warning",danger:"text-status-danger"},HR=Cn.memo(function({size:t,color:r}){let{container:n,stroke:o}=Jn[t];return Cd("svg",{className:T(n,Sn[r],"animate-spin"),viewBox:"0 0 24 24",fill:"none",children:[xt("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:o}),xt("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),KR={y:[0,-6,0]},WR={scale:[1,1.2,1],opacity:[.7,1,.7]},qR={scaleY:[.4,1,.4]},av={rotate:360},YR={y:[0,-12,0]},XR={scale:[.5,1,.5],opacity:[.5,1,.5]},ZR=Cn.memo(function({size:t,color:r}){let n=t==="xs"?"w-1 h-1":t==="sm"?"w-1.5 h-1.5":t==="md"?"w-2 h-2":t==="lg"?"w-2.5 h-2.5":"w-3 h-3";return xt("div",{className:T("flex items-center gap-1",Jn[t].container),children:[0,1,2].map(o=>xt(Z.span,{className:T(n,"rounded-full bg-current",Sn[r]),animate:KR,transition:{duration:.6,repeat:1/0,delay:o*.15,ease:"easeInOut"}},o))})}),JR=Cn.memo(function({size:t,color:r}){return xt(Z.div,{className:T(Jn[t].container,"rounded-full bg-current",Sn[r]),animate:WR,transition:{duration:1.2,repeat:1/0,ease:"easeInOut"}})}),QR=Cn.memo(function({size:t,color:r}){let n=t==="xs"?"h-3":t==="sm"?"h-4":t==="md"?"h-5":t==="lg"?"h-6":"h-8",o=t==="xs"||t==="sm"?"w-0.5":"w-1";return xt("div",{className:T("flex items-end gap-0.5",Jn[t].container),children:[0,1,2].map(i=>xt(Z.span,{className:T(o,n,"rounded-full bg-current",Sn[r]),animate:qR,transition:{duration:.8,repeat:1/0,delay:i*.15,ease:"easeInOut"},style:{transformOrigin:"bottom"}},i))})}),eT=Cn.memo(function({size:t,color:r}){let{container:n,stroke:o}=Jn[t];return xt(Z.svg,{className:T(n,Sn[r]),viewBox:"0 0 24 24",fill:"none",animate:av,transition:{duration:1,repeat:1/0,ease:"linear"},children:xt("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:o,strokeLinecap:"round",strokeDasharray:"40 60"})})}),tT=Cn.memo(function({size:t,color:r}){let{container:n,stroke:o}=Jn[t];return Cd("div",{className:T(n,"relative"),children:[xt(Z.svg,{className:T("absolute inset-0",Sn[r]),viewBox:"0 0 24 24",fill:"none",animate:av,transition:{duration:1,repeat:1/0,ease:"linear"},children:xt("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:o,strokeLinecap:"round",strokeDasharray:"30 70"})}),xt(Z.svg,{className:T("absolute inset-0 opacity-50",Sn[r]),viewBox:"0 0 24 24",fill:"none",animate:{rotate:-360},transition:{duration:1.5,repeat:1/0,ease:"linear"},children:xt("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",strokeWidth:o,strokeLinecap:"round",strokeDasharray:"20 40"})})]})}),rT=Cn.memo(function({size:t,color:r}){return xt(Z.div,{className:T(Jn[t].container,"rounded-full bg-current",Sn[r]),animate:YR,transition:{duration:.6,repeat:1/0,ease:"easeInOut"}})}),nT=Cn.memo(function({size:t,color:r}){let n=t==="xs"?"w-1 h-1":t==="sm"?"w-1.5 h-1.5":t==="md"?"w-2 h-2":t==="lg"?"w-2.5 h-2.5":"w-3 h-3";return xt("div",{className:T("flex items-center gap-0.5",Jn[t].container),children:[0,1,2,3,4].map(o=>xt(Z.span,{className:T(n,"rounded-full bg-current",Sn[r]),animate:XR,transition:{duration:1,repeat:1/0,delay:o*.1,ease:"easeInOut"}},o))})}),oT={default:HR,dots:ZR,pulse:JR,bars:QR,ring:eT,"dual-ring":tT,bounce:rT,wave:nT};function lv({variant:e="default",size:t="md",color:r="default",label:n="Loading",className:o}){let i=oT[e];return Cd("div",{role:"status","aria-label":n,className:T("inline-flex items-center justify-center",o),children:[xt(i,{size:t,color:r}),xt("span",{className:"sr-only",children:n})]})}lv.displayName="Spinner";import*as oc from"react";import{jsx as Js}from"react/jsx-runtime";var cv={fadeIn:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},fadeOut:{initial:{opacity:1},animate:{opacity:0},exit:{opacity:1}},slideUp:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},slideDown:{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20}},slideLeft:{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20}},slideRight:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}},scaleIn:{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9}},scaleOut:{initial:{opacity:1,scale:1},animate:{opacity:0,scale:.9},exit:{opacity:1,scale:1}},blur:{initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:0,filter:"blur(10px)"}},bounce:{initial:{opacity:0,y:30},animate:{opacity:1,y:0,transition:{type:"spring",stiffness:400,damping:20}},exit:{opacity:0,y:30}},flip:{initial:{opacity:0,rotateX:90},animate:{opacity:1,rotateX:0},exit:{opacity:0,rotateX:-90}},none:{initial:{},animate:{},exit:{}}};function uv({preset:e="fadeIn",variants:t,delay:r=0,duration:n=.3,animate:o=!0,exitAnimation:i=!0,usePresence:s=!1,presenceKey:a,children:l,className:c}){let u=t||cv[e],d=oc.useMemo(()=>({duration:n,delay:r,ease:"easeOut"}),[n,r]),m=Js(Z.div,{className:c,initial:"initial",animate:o?"animate":"initial",exit:i?"exit":void 0,variants:u,transition:d,children:l});return s?Js(we,{mode:"wait",children:o&&Js(oc.Fragment,{children:m},a)}):m}uv.displayName="MotionEffect";function dv({staggerDelay:e=.1,children:t,className:r}){return Js(Z.div,{className:r,initial:"initial",animate:"animate",variants:{animate:{transition:{staggerChildren:e}}},children:t})}dv.displayName="StaggerContainer";function fv({preset:e="slideUp",children:t,className:r}){return Js(Z.div,{className:r,variants:cv[e],children:t})}fv.displayName="StaggerItem";import{jsx as Rd,jsxs as Td}from"react/jsx-runtime";function mv({icon:e,value:t,label:r,trend:n,className:o}){let i=`stat-card-${r.toLowerCase().replace(/\s+/g,"-")}`;return Td(le,{variant:"card",padding:"md",className:T("text-center transition-all hover:bg-surface-hover","focus-within:ring-2 focus-within:ring-primary focus-within:ring-offset-2",o),role:"region","aria-labelledby":`${i}-label`,tabIndex:0,children:[Rd(za,{icon:e,size:"md",color:"secondary",className:"mx-auto mb-2"}),Td("div",{className:"flex items-center justify-center gap-2",children:[Rd(L,{variant:"heading",weight:"bold",className:"tabular-nums",children:typeof t=="number"?t.toLocaleString():t}),n&&Td("span",{className:T("text-small font-medium",n.direction==="up"&&"text-status-success",n.direction==="down"&&"text-status-danger",n.direction==="neutral"&&"text-text-secondary"),children:[n.direction==="up"&&"\u2191",n.direction==="down"&&"\u2193",n.value,"%"]})]}),Rd(L,{id:`${i}-label`,variant:"caption",color:"secondary",className:"mt-1",children:r})]})}mv.displayName="StatCard";import*as Mi from"react";import{X as iT}from"lucide-react";import{Fragment as aT,jsx as Di,jsxs as ic}from"react/jsx-runtime";var sT={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};function pv({open:e,onClose:t,title:r,subtitle:n,children:o,width:i="md",className:s}){let a=Mi.useRef(null);return Mi.useEffect(()=>{let l=c=>{c.key==="Escape"&&e&&t()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,t]),Mi.useEffect(()=>{e&&a.current&&a.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')[0]?.focus()},[e]),Mi.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),e?ic(aT,{children:[Di("div",{className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),ic("div",{ref:a,role:"dialog","aria-modal":"true","aria-labelledby":"detail-sheet-title",className:T("fixed inset-y-0 right-0 z-50 w-full",sT[i],"flex flex-col","bg-background border-l border-default","shadow-2xl","animate-in slide-in-from-right duration-300",s),children:[ic("div",{className:"flex items-start justify-between p-layout-md border-b border-default",children:[ic("div",{children:[Di(L,{id:"detail-sheet-title",variant:"heading",weight:"semibold",children:r}),n&&Di(L,{variant:"small",color:"secondary",className:"mt-1",children:n})]}),Di(fe,{variant:"ghost",size:"sm",onClick:t,"aria-label":"Close",className:"flex-shrink-0",children:Di(iT,{className:"w-4 h-4"})})]}),Di("div",{className:"flex-1 overflow-y-auto p-layout-md",children:o})]})]}):null}pv.displayName="DetailSheet";import*as ko from"react";import{MoreHorizontal as lT}from"lucide-react";import{jsx as ki,jsxs as gv}from"react/jsx-runtime";function hv({items:e,trigger:t,align:r="right",className:n}){let[o,i]=ko.useState(!1),s=ko.useRef(null);return ko.useEffect(()=>{let a=l=>{s.current&&!s.current.contains(l.target)&&i(!1)};return o&&document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[o]),ko.useEffect(()=>{let a=l=>{l.key==="Escape"&&i(!1)};return o&&document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[o]),gv("div",{ref:s,className:T("relative inline-block",n),children:[ki("div",{onClick:()=>i(!o),children:t||ki(fe,{variant:"ghost",size:"sm","aria-label":"Open menu",children:ki(lT,{className:"w-4 h-4"})})}),o&&ki("div",{role:"menu",className:T("absolute z-50 mt-1 min-w-[160px]","bg-surface-card border border-default rounded-lg shadow-lg","py-1","animate-in fade-in-0 zoom-in-95",r==="right"?"right-0":"left-0"),children:e.map((a,l)=>{let c=a.icon;return gv("button",{role:"menuitem",disabled:a.disabled,onClick:()=>{a.onClick(),i(!1)},className:T("flex items-center gap-2 w-full px-3 py-2 text-left","transition-colors","focus:outline-none focus:bg-surface-hover",a.disabled&&"opacity-50 cursor-not-allowed",a.variant==="danger"?"text-status-danger hover:bg-status-danger/10":"text-text-primary hover:bg-surface-hover"),children:[c&&ki(c,{className:"w-4 h-4","aria-hidden":"true"}),ki(L,{variant:"small",children:a.label})]},l)})})]})}hv.displayName="ActionMenu";import{Inbox as cT}from"lucide-react";import{jsx as Qs,jsxs as uT}from"react/jsx-runtime";function sc({icon:e=cT,title:t,description:r,action:n,className:o}){return uT(le,{variant:"subtle",padding:"lg",className:T("flex flex-col items-center justify-center text-center min-h-[200px]",o),children:[Qs("div",{className:"w-12 h-12 rounded-full bg-surface-nested flex items-center justify-center mb-4",children:Qs(e,{className:"w-6 h-6 text-text-tertiary","aria-hidden":"true"})}),Qs(L,{variant:"subheading",color:"primary",weight:"medium",children:t}),r&&Qs(L,{variant:"body",color:"secondary",className:"mt-2 max-w-sm",children:r}),n&&Qs(fe,{variant:n.variant||"primary",onClick:n.onClick,className:"mt-4",children:n.label})]})}sc.displayName="EmptyState";import{jsx as Vr,jsxs as Io}from"react/jsx-runtime";function Nd({className:e}){return Vr("div",{className:T("animate-pulse rounded-md bg-surface-subtle",e)})}function vv({variant:e="skeleton",text:t,rows:r=3,className:n}){return e==="spinner"?Io("div",{className:T("flex flex-col items-center justify-center gap-3 p-8",n),children:[Vr("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"}),t&&Vr(L,{variant:"small",color:"secondary",children:t})]}):e==="pulse"?Io(le,{variant:"subtle",padding:"md",className:T("animate-pulse",n),children:[Io("div",{className:"flex items-center gap-4",children:[Vr("div",{className:"w-10 h-10 rounded-full bg-surface-nested"}),Io("div",{className:"flex-1 space-y-2",children:[Vr("div",{className:"h-4 bg-surface-nested rounded w-3/4"}),Vr("div",{className:"h-3 bg-surface-nested rounded w-1/2"})]})]}),t&&Vr(L,{variant:"small",color:"tertiary",className:"mt-4 text-center",children:t})]}):Io("div",{className:T("space-y-3",n),children:[Array.from({length:r}).map((o,i)=>Io("div",{className:"flex items-center gap-4",children:[Vr(Nd,{className:"w-10 h-10 rounded-full"}),Io("div",{className:"flex-1 space-y-2",children:[Vr(Nd,{className:"h-4 w-full"}),Vr(Nd,{className:"h-3 w-3/4"})]})]},i)),t&&Vr(L,{variant:"small",color:"tertiary",className:"text-center",children:t})]})}vv.displayName="LoadingState";import{AlertTriangle as dT,RefreshCw as fT}from"lucide-react";import{jsx as ea,jsxs as yv}from"react/jsx-runtime";function bv({title:e="Something went wrong",message:t,onRetry:r,retryLabel:n="Try again",className:o}){return yv(le,{variant:"card",padding:"lg",className:T("flex flex-col items-center justify-center text-center min-h-[200px]","border-status-danger/30",o),children:[ea("div",{className:"w-12 h-12 rounded-full bg-status-danger/10 flex items-center justify-center mb-4",children:ea(dT,{className:"w-6 h-6 text-status-danger","aria-hidden":"true"})}),ea(L,{variant:"subheading",color:"primary",weight:"medium",children:e}),ea(L,{variant:"body",color:"secondary",className:"mt-2 max-w-sm",children:t}),r&&yv(fe,{variant:"outline",onClick:r,className:"mt-4 gap-2",children:[ea(fT,{className:"w-4 h-4"}),n]})]})}bv.displayName="ErrorState";import*as lc from"react";import{Check as gT,X as ac,RotateCcw as Sv,MessageSquare as hT,Loader2 as Fo}from"lucide-react";import*as Ke from"react";import{jsx as pT}from"react/jsx-runtime";var mT={draft:{allowedTransitions:["submitted","cancelled"],allowedActions:["edit","delete","submit"],allowedRoles:["admin","editor","creator"]},submitted:{allowedTransitions:["approved","rejected","draft"],allowedActions:["view","approve","reject","return"],allowedRoles:["admin","approver","manager"]},approved:{allowedTransitions:["cancelled"],allowedActions:["view","cancel"],allowedRoles:["admin"]},rejected:{allowedTransitions:["draft"],allowedActions:["view","resubmit"],allowedRoles:["admin","editor","creator"]},cancelled:{allowedTransitions:[],allowedActions:["view"],allowedRoles:["admin","viewer"]}},xv=Ke.createContext(null);function wv({children:e,user:t=null,permissions:r={},fieldSecurity:n={},statePermissions:o=mT,onAudit:i,guestRole:s="guest"}){let[a,l]=Ke.useState(t);Ke.useEffect(()=>{l(t)},[t]);let c=Ke.useMemo(()=>a?a.roles:[s],[a,s]),u=Ke.useCallback(w=>{let x=r[w];return x?c.some(S=>x.includes(S)):!1},[r,c]),d=Ke.useCallback((...w)=>w.every(x=>u(x)),[u]),m=Ke.useCallback((...w)=>w.some(x=>u(x)),[u]),f=Ke.useCallback(w=>c.includes(w),[c]),h=Ke.useCallback((...w)=>w.some(x=>c.includes(x)),[c]),p=Ke.useCallback(w=>{let x=n[w];if(!x)return{};let S={};for(let N of c){let F=x[N];F&&(S={hidden:S.hidden||F.hidden,readonly:S.readonly||F.readonly,required:S.required||F.required,message:F.message||S.message})}let R=x["*"];return R&&(S={hidden:S.hidden??R.hidden,readonly:S.readonly??R.readonly,required:S.required??R.required,message:S.message??R.message}),S},[n,c]),g=Ke.useCallback((w,x)=>{let S=o[w];return!S||!S.allowedTransitions.includes(x)?!1:c.some(R=>S.allowedRoles.includes(R))},[o,c]),y=Ke.useCallback((w,x)=>{let S=o[w];return!S||!S.allowedActions.includes(x)?!1:c.some(R=>S.allowedRoles.includes(R))},[o,c]),v=Ke.useCallback(w=>{if(!i)return;let x={...w,userId:a?.id||"anonymous",timestamp:new Date};Promise.resolve(i(x)).catch(S=>{console.error("[BioPermission] Audit callback failed:",S)})},[i,a]),b=Ke.useMemo(()=>({user:a,can:u,canAll:d,canAny:m,hasRole:f,hasAnyRole:h,getFieldRules:p,canTransition:g,canActInState:y,audit:v,setUser:l}),[a,u,d,m,f,h,p,g,y,v]);return pT(xv.Provider,{value:b,children:e})}function vr(){let e=Ke.useContext(xv);return e||{user:null,can:()=>!0,canAll:()=>!0,canAny:()=>!0,hasRole:()=>!1,hasAnyRole:()=>!1,getFieldRules:()=>({}),canTransition:()=>!0,canActInState:()=>!0,audit:()=>{},setUser:()=>{}}}import{Fragment as yT,jsx as ft,jsxs as Br}from"react/jsx-runtime";function vT({state:e,onApprove:t,onReject:r,onReturn:n,onCancel:o,onResubmit:i,loading:s=!1,disabled:a=!1,requireRejectReason:l=!1,rejectReasonPlaceholder:c="Enter reason for rejection...",className:u,size:d="md",direction:m="horizontal"}){let{canActInState:f,canTransition:h,audit:p}=vr(),[g,y]=lc.useState(!1),[v,b]=lc.useState(""),[w,x]=lc.useState(null),S={sm:"px-2 py-1 text-xs gap-1",md:"px-3 py-1.5 text-sm gap-1.5",lg:"px-4 py-2 text-base gap-2"},R={sm:14,md:16,lg:18},N=async(k,O)=>{if(!(!O||s||a)){x(k);try{await O(),p({action:k==="approve"?"approve":k==="reject"?"reject":"custom",resource:"document",metadata:{fromState:e,action:k}})}finally{x(null)}}},F=async()=>{if(!(l&&!v.trim())){x("reject");try{await r?.(v||void 0),p({action:"reject",resource:"document",metadata:{fromState:e,reason:v}}),y(!1),b("")}finally{x(null)}}},E=T("inline-flex items-center justify-center rounded-md font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:opacity-50 disabled:pointer-events-none",S[d]),D=(()=>{let k=[];return e==="draft"&&f("draft","delete")&&o&&k.push(Br("button",{onClick:()=>N("cancel",o),disabled:a||s||w!==null,className:T(E,"bg-red-50 text-red-700 hover:bg-red-100"),"aria-label":"Cancel document",children:[w==="cancel"?ft(Fo,{size:R[d],className:"animate-spin"}):ft(ac,{size:R[d]}),"Cancel"]},"cancel")),e==="submitted"&&(f("submitted","approve")&&t&&k.push(Br("button",{onClick:()=>N("approve",t),disabled:a||s||w!==null,className:T(E,"bg-green-600 text-white hover:bg-green-700"),"aria-label":"Approve document",children:[w==="approve"?ft(Fo,{size:R[d],className:"animate-spin"}):ft(gT,{size:R[d]}),"Approve"]},"approve")),f("submitted","reject")&&r&&k.push(Br("button",{onClick:()=>l?y(!0):N("reject",()=>r()),disabled:a||s||w!==null,className:T(E,"bg-red-600 text-white hover:bg-red-700"),"aria-label":"Reject document",children:[w==="reject"?ft(Fo,{size:R[d],className:"animate-spin"}):ft(ac,{size:R[d]}),"Reject"]},"reject")),h("submitted","draft")&&n&&k.push(Br("button",{onClick:()=>N("return",n),disabled:a||s||w!==null,className:T(E,"bg-gray-100 text-gray-700 hover:bg-gray-200"),"aria-label":"Return to draft",children:[w==="return"?ft(Fo,{size:R[d],className:"animate-spin"}):ft(Sv,{size:R[d]}),"Return to Draft"]},"return"))),e==="rejected"&&h("rejected","draft")&&i&&k.push(Br("button",{onClick:()=>N("resubmit",i),disabled:a||s||w!==null,className:T(E,"bg-blue-600 text-white hover:bg-blue-700"),"aria-label":"Resubmit document",children:[w==="resubmit"?ft(Fo,{size:R[d],className:"animate-spin"}):ft(Sv,{size:R[d]}),"Resubmit"]},"resubmit")),e==="approved"&&f("approved","cancel")&&o&&k.push(Br("button",{onClick:()=>N("cancel",o),disabled:a||s||w!==null,className:T(E,"bg-red-50 text-red-700 hover:bg-red-100"),"aria-label":"Cancel approved document",children:[w==="cancel"?ft(Fo,{size:R[d],className:"animate-spin"}):ft(ac,{size:R[d]}),"Cancel"]},"cancel")),k})();return D.length===0?null:Br(yT,{children:[ft("div",{className:T("flex",m==="horizontal"?"flex-row gap-2":"flex-col gap-2",u),"data-testid":"bio-approval-actions","data-state":e,children:D}),g&&ft("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",role:"dialog","aria-modal":"true","aria-labelledby":"reject-dialog-title",children:Br("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4",children:[Br("h3",{id:"reject-dialog-title",className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[ft(hT,{size:20}),"Rejection Reason"]}),ft("textarea",{value:v,onChange:k=>b(k.target.value),placeholder:c,className:"w-full h-32 p-3 border rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Rejection reason",autoFocus:!0}),Br("div",{className:"flex justify-end gap-2 mt-4",children:[ft("button",{onClick:()=>{y(!1),b("")},className:T(E,"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Cancel"}),Br("button",{onClick:F,disabled:l&&!v.trim(),className:T(E,"bg-red-600 text-white hover:bg-red-700"),children:[w==="reject"?ft(Fo,{size:R[d],className:"animate-spin"}):ft(ac,{size:R[d]}),"Reject"]})]})]})})]})}import*as ta from"react";import{Minus as bT,Plus as xT,Equal as wT,ArrowRight as Cv}from"lucide-react";import{jsx as Re,jsxs as kt}from"react/jsx-runtime";function Rv(e,t,r={},n=[]){let o=new Set([...Object.keys(e),...Object.keys(t)]),i=[];for(let a of o){if(n.includes(a))continue;let l=e[a],c=t[a],u=r[a]||ST(a),d;a in e?a in t?Tv(l,c)?d="unchanged":d="changed":d="removed":d="added",i.push({field:a,label:u,type:d,before:l,after:c})}let s={changed:0,added:1,removed:2,unchanged:3};return i.sort((a,l)=>s[a.type]-s[l.type])}function Tv(e,t){if(e===t)return!0;if(e===null||t===null||typeof e!=typeof t)return!1;if(typeof e=="object"){let r=e,n=t,o=Object.keys(r),i=Object.keys(n);if(o.length!==i.length)return!1;for(let s of o)if(!i.includes(s)||!Tv(r[s],n[s]))return!1;return!0}return!1}function ST(e){return e.replace(/([A-Z])/g," $1").replace(/[_-]/g," ").replace(/^\w/,t=>t.toUpperCase()).trim()}function yr(e){return e===null?"null":e===void 0?"undefined":typeof e=="boolean"?e?"Yes":"No":e instanceof Date?e.toLocaleString():typeof e=="object"?JSON.stringify(e,null,2):String(e)}function CT({before:e,after:t,title:r,mode:n="inline",showOnlyChanges:o=!1,fieldLabels:i={},excludeFields:s=[],className:a,timestamp:l,changedBy:c}){let u=ta.useMemo(()=>Rv(e,t,i,s),[e,t,i,s]),d=o?u.filter(v=>v.type!=="unchanged"):u,m=u.filter(v=>v.type!=="unchanged").length,f=({type:v})=>{let b={size:14,className:"flex-shrink-0"};switch(v){case"added":return Re(xT,{...b,className:T(b.className,"text-green-600")});case"removed":return Re(bT,{...b,className:T(b.className,"text-red-600")});case"changed":return Re(Cv,{...b,className:T(b.className,"text-amber-600")});default:return Re(wT,{...b,className:T(b.className,"text-gray-400")})}},h=v=>{switch(v){case"added":return"bg-green-50";case"removed":return"bg-red-50";case"changed":return"bg-amber-50";default:return""}},p=()=>Re("div",{className:"divide-y divide-gray-100",children:d.map(v=>kt("div",{className:T("flex items-start gap-3 py-2 px-3",h(v.type)),"data-diff-type":v.type,children:[Re(f,{type:v.type}),kt("div",{className:"flex-1 min-w-0",children:[Re("div",{className:"font-medium text-sm text-gray-700",children:v.label}),v.type==="unchanged"?Re("div",{className:"text-sm text-gray-500",children:yr(v.after)}):v.type==="added"?Re("div",{className:"text-sm text-green-700",children:yr(v.after)}):v.type==="removed"?Re("div",{className:"text-sm text-red-700 line-through",children:yr(v.before)}):kt("div",{className:"text-sm flex items-center gap-2",children:[Re("span",{className:"text-red-700 line-through",children:yr(v.before)}),Re(Cv,{size:12,className:"text-gray-400"}),Re("span",{className:"text-green-700",children:yr(v.after)})]})]})]},v.field))}),g=()=>kt("div",{className:"grid grid-cols-2 divide-x divide-gray-200",children:[kt("div",{className:"p-2",children:[Re("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 px-2",children:"Before"}),d.map(v=>kt("div",{className:T("py-1 px-2 rounded text-sm",v.type==="removed"||v.type==="changed"?"bg-red-50":""),children:[kt("span",{className:"font-medium text-gray-600",children:[v.label,":"]})," ",Re("span",{className:v.type==="removed"||v.type==="changed"?"text-red-700":"text-gray-700",children:v.type==="added"?"-":yr(v.before)})]},`before-${v.field}`))]}),kt("div",{className:"p-2",children:[Re("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 px-2",children:"After"}),d.map(v=>kt("div",{className:T("py-1 px-2 rounded text-sm",v.type==="added"||v.type==="changed"?"bg-green-50":""),children:[kt("span",{className:"font-medium text-gray-600",children:[v.label,":"]})," ",Re("span",{className:v.type==="added"||v.type==="changed"?"text-green-700":"text-gray-700",children:v.type==="removed"?"-":yr(v.after)})]},`after-${v.field}`))]})]}),y=()=>Re("pre",{className:"text-xs font-mono bg-gray-50 p-3 rounded overflow-x-auto",children:d.map(v=>v.type==="unchanged"?Re("div",{className:"text-gray-600",children:`  ${v.label}: ${yr(v.after)}`},v.field):v.type==="added"?Re("div",{className:"text-green-700 bg-green-50",children:`+ ${v.label}: ${yr(v.after)}`},v.field):v.type==="removed"?Re("div",{className:"text-red-700 bg-red-50",children:`- ${v.label}: ${yr(v.before)}`},v.field):kt(ta.Fragment,{children:[Re("div",{className:"text-red-700 bg-red-50",children:`- ${v.label}: ${yr(v.before)}`}),Re("div",{className:"text-green-700 bg-green-50",children:`+ ${v.label}: ${yr(v.after)}`})]},v.field))});return kt("div",{className:T("border rounded-lg overflow-hidden",a),"data-testid":"bio-diff-viewer","data-mode":n,children:[(r||l||c)&&Re("div",{className:"bg-gray-50 border-b px-4 py-3 flex items-center justify-between",children:kt("div",{children:[r&&Re("h4",{className:"font-semibold text-gray-900",children:r}),kt("div",{className:"flex items-center gap-3 text-sm text-gray-500 mt-0.5",children:[c&&kt("span",{children:["By: ",c]}),l&&Re("span",{children:l.toLocaleString()}),kt("span",{children:[m," ",m===1?"change":"changes"]})]})]})}),d.length===0?Re("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No changes detected"}):n==="side-by-side"?g():n==="unified"?y():p()]})}function RT(e,t,r={}){let n=ta.useMemo(()=>Rv(e,t,r.fieldLabels??{},r.excludeFields??[]),[e,t,r.fieldLabels,r.excludeFields]);return{entries:n,changeCount:n.filter(o=>o.type!=="unchanged").length,hasChanges:n.some(o=>o.type!=="unchanged"),changedFields:n.filter(o=>o.type==="changed").map(o=>o.field),addedFields:n.filter(o=>o.type==="added").map(o=>o.field),removedFields:n.filter(o=>o.type==="removed").map(o=>o.field)}}import*as Nv from"react";import{ChevronRight as TT,Home as NT,MoreHorizontal as ET}from"lucide-react";import{jsx as en,jsxs as Ed}from"react/jsx-runtime";function PT(e,t={}){let{labels:r={},homeLabel:n="Home"}=t,o=e.split("/").filter(Boolean),i=[{label:n,href:"/",icon:NT}],s="";for(let a of o){s+=`/${a}`;let l=r[a]||r[s]||AT(a);i.push({label:l,href:s})}return i.length>1&&delete i[i.length-1].href,i}function AT(e){return e.startsWith("[")&&e.endsWith("]")?e.slice(1,-1).toUpperCase():e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function DT({items:e,onNavigate:t,showHomeIcon:r=!0,maxItems:n=4,separator:o=en(TT,{className:"w-4 h-4 text-text-muted"}),className:i}){let[s,a]=Nv.useState(!1),l=e.length>n&&!s,c=e;l&&(c=[e[0],{label:"...",href:void 0},...e.slice(-(n-2))]);let u=(d,m)=>{if(d.label==="..."){m.preventDefault(),a(!0);return}d.href&&t&&(m.preventDefault(),t(d.href))};return en("nav",{"aria-label":"Breadcrumb",className:T("flex items-center",i),"data-testid":"bio-breadcrumb",children:en("ol",{className:"flex items-center gap-1",children:c.map((d,m)=>{let f=m===c.length-1,h=d.label==="...",p=d.icon,g=m===0&&r&&p;return Ed("li",{className:"flex items-center gap-1",children:[m>0&&en("span",{className:"mx-1",children:o}),h?en("button",{onClick:y=>u(d,y),className:"p-1 hover:bg-surface-hover rounded transition-colors","aria-label":"Show all breadcrumbs",children:en(ET,{className:"w-4 h-4"})}):d.href?Ed("a",{href:d.href,onClick:y=>u(d,y),className:T("flex items-center gap-1 px-1 py-0.5 rounded transition-colors","text-text-secondary hover:text-text-primary hover:bg-surface-hover"),children:[g&&en(p,{className:"w-4 h-4"}),(!g||d.label!=="Home")&&en(L,{variant:"small",children:d.label})]}):Ed("span",{className:"flex items-center gap-1 px-1 py-0.5",children:[g&&en(p,{className:"w-4 h-4"}),en(L,{variant:"small",className:T(f&&"font-medium text-text-primary"),"aria-current":f?"page":void 0,children:d.label})]})]},`${d.label}-${m}`)})})})}import Q,{forwardRef as MT,isValidElement as Pd}from"react";import kT from"react-dom";import Yt from"react";import Ev from"react";import jT from"react";var IT=e=>{switch(e){case"success":return BT;case"info":return _T;case"warning":return OT;case"error":return LT;default:return null}},FT=Array(12).fill(0),VT=({visible:e,className:t})=>Yt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Yt.createElement("div",{className:"sonner-spinner"},FT.map((r,n)=>Yt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),BT=Yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Yt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),OT=Yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Yt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_T=Yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Yt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LT=Yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Yt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$T=Yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Yt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Yt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zT=()=>{let[e,t]=Ev.useState(document.hidden);return Ev.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Ad=1,UT=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ad++,i=this.toasts.find(a=>a.id===o),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(a=>a.id===o?(this.publish({...a,...e,id:o,title:r}),{...a,...e,id:o,dismissible:s,title:r}):a):this.addToast({title:r,...n,dismissible:s,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),o=r!==void 0,i,s=n.then(async l=>{if(i=["resolve",l],jT.isValidElement(l))o=!1,this.create({id:r,type:"default",message:l});else if(HT(l)&&!l.ok){o=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:c,description:u})}else if(t.success!==void 0){o=!1;let c=typeof t.success=="function"?await t.success(l):t.success,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async l=>{if(i=["reject",l],t.error!==void 0){o=!1;let c=typeof t.error=="function"?await t.error(l):t.error,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var l;o&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,c)=>s.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=t?.id||Ad++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},qt=new UT,GT=(e,t)=>{let r=t?.id||Ad++;return qt.addToast({title:e,...t,id:r}),r},HT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",KT=GT,WT=()=>qt.toasts,qT=()=>qt.getActiveToasts(),_r=Object.assign(KT,{success:qt.success,info:qt.info,warning:qt.warning,error:qt.error,custom:qt.custom,message:qt.message,promise:qt.promise,dismiss:qt.dismiss,loading:qt.loading},{getHistory:WT,getToasts:qT});function YT(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}YT(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cc(e){return e.label!==void 0}var XT=3,ZT="32px",JT="16px",Pv=4e3,QT=356,eN=14,tN=20,rN=200;function Or(...e){return e.filter(Boolean).join(" ")}function nN(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var oN=e=>{var t,r,n,o,i,s,a,l,c,u,d;let{invert:m,toast:f,unstyled:h,interacting:p,setHeights:g,visibleToasts:y,heights:v,index:b,toasts:w,expanded:x,removeToast:S,defaultRichColors:R,closeButton:N,style:F,cancelButtonStyle:E,actionButtonStyle:A,className:D="",descriptionClassName:k="",duration:O,position:M,gap:_,loadingIcon:B,expandByDefault:X,classNames:$,icons:z,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:I}=e,[U,W]=Q.useState(null),[K,ie]=Q.useState(null),[te,xe]=Q.useState(!1),[ve,ce]=Q.useState(!1),[tr,Rt]=Q.useState(!1),[Pr,Gt]=Q.useState(!1),[Ar,Dr]=Q.useState(!1),[ti,fo]=Q.useState(0),[Vn,C]=Q.useState(0),P=Q.useRef(f.duration||O||Pv),V=Q.useRef(null),H=Q.useRef(null),G=b===0,j=b+1<=y,Y=f.type,ae=f.dismissible!==!1,ye=f.className||"",Je=f.descriptionClassName||"",ur=Q.useMemo(()=>v.findIndex(re=>re.toastId===f.id)||0,[v,f.id]),lt=Q.useMemo(()=>{var re;return(re=f.closeButton)!=null?re:N},[f.closeButton,N]),mo=Q.useMemo(()=>f.duration||O||Pv,[f.duration,O]),ln=Q.useRef(0),dr=Q.useRef(0),Bn=Q.useRef(0),fr=Q.useRef(null),[is,po]=M.split("-"),_a=Q.useMemo(()=>v.reduce((re,ue,pe)=>pe>=ur?re:re+ue.height,0),[v,ur]),La=zT(),cu=f.invert||m,Qe=Y==="loading";dr.current=Q.useMemo(()=>ur*_+_a,[ur,_a]),Q.useEffect(()=>{P.current=mo},[mo]),Q.useEffect(()=>{xe(!0)},[]),Q.useEffect(()=>{let re=H.current;if(re){let ue=re.getBoundingClientRect().height;return C(ue),g(pe=>[{toastId:f.id,height:ue,position:f.position},...pe]),()=>g(pe=>pe.filter(ze=>ze.toastId!==f.id))}},[g,f.id]),Q.useLayoutEffect(()=>{if(!te)return;let re=H.current,ue=re.style.height;re.style.height="auto";let pe=re.getBoundingClientRect().height;re.style.height=ue,C(pe),g(ze=>ze.find(ht=>ht.toastId===f.id)?ze.map(ht=>ht.toastId===f.id?{...ht,height:pe}:ht):[{toastId:f.id,height:pe,position:f.position},...ze])},[te,f.title,f.description,g,f.id]);let $e=Q.useCallback(()=>{ce(!0),fo(dr.current),g(re=>re.filter(ue=>ue.toastId!==f.id)),setTimeout(()=>{S(f)},rN)},[f,S,g,dr]);Q.useEffect(()=>{if(f.promise&&Y==="loading"||f.duration===1/0||f.type==="loading")return;let re;return x||p||I&&La?(()=>{if(Bn.current<ln.current){let ue=new Date().getTime()-ln.current;P.current=P.current-ue}Bn.current=new Date().getTime()})():P.current!==1/0&&(ln.current=new Date().getTime(),re=setTimeout(()=>{var ue;(ue=f.onAutoClose)==null||ue.call(f,f),$e()},P.current)),()=>clearTimeout(re)},[x,p,f,Y,I,La,$e]),Q.useEffect(()=>{f.delete&&$e()},[$e,f.delete]);function _t(){var re,ue,pe;return z!=null&&z.loading?Q.createElement("div",{className:Or($?.loader,(re=f?.classNames)==null?void 0:re.loader,"sonner-loader"),"data-visible":Y==="loading"},z.loading):B?Q.createElement("div",{className:Or($?.loader,(ue=f?.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":Y==="loading"},B):Q.createElement(VT,{className:Or($?.loader,(pe=f?.classNames)==null?void 0:pe.loader),visible:Y==="loading"})}return Q.createElement("li",{tabIndex:0,ref:H,className:Or(D,ye,$?.toast,(t=f?.classNames)==null?void 0:t.toast,$?.default,$?.[Y],(r=f?.classNames)==null?void 0:r[Y]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:R,"data-styled":!(f.jsx||f.unstyled||h),"data-mounted":te,"data-promise":!!f.promise,"data-swiped":Ar,"data-removed":ve,"data-visible":j,"data-y-position":is,"data-x-position":po,"data-index":b,"data-front":G,"data-swiping":tr,"data-dismissible":ae,"data-type":Y,"data-invert":cu,"data-swipe-out":Pr,"data-swipe-direction":K,"data-expanded":!!(x||X&&te),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${ve?ti:dr.current}px`,"--initial-height":X?"auto":`${Vn}px`,...F,...f.style},onDragEnd:()=>{Rt(!1),W(null),fr.current=null},onPointerDown:re=>{Qe||!ae||(V.current=new Date,fo(dr.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(Rt(!0),fr.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,ue,pe,ze;if(Pr||!ae)return;fr.current=null;let ht=Number(((re=H.current)==null?void 0:re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pe=Number(((ue=H.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Pt=new Date().getTime()-((pe=V.current)==null?void 0:pe.getTime()),je=U==="x"?ht:Pe,vt=Math.abs(je)/Pt;if(Math.abs(je)>=tN||vt>.11){fo(dr.current),(ze=f.onDismiss)==null||ze.call(f,f),ie(U==="x"?ht>0?"right":"left":Pe>0?"down":"up"),$e(),Gt(!0),Dr(!1);return}Rt(!1),W(null)},onPointerMove:re=>{var ue,pe,ze,ht;if(!fr.current||!ae||((ue=window.getSelection())==null?void 0:ue.toString().length)>0)return;let Pe=re.clientY-fr.current.y,Pt=re.clientX-fr.current.x,je=(pe=e.swipeDirections)!=null?pe:nN(M);!U&&(Math.abs(Pt)>1||Math.abs(Pe)>1)&&W(Math.abs(Pt)>Math.abs(Pe)?"x":"y");let vt={x:0,y:0};U==="y"?(je.includes("top")||je.includes("bottom"))&&(je.includes("top")&&Pe<0||je.includes("bottom")&&Pe>0)&&(vt.y=Pe):U==="x"&&(je.includes("left")||je.includes("right"))&&(je.includes("left")&&Pt<0||je.includes("right")&&Pt>0)&&(vt.x=Pt),(Math.abs(vt.x)>0||Math.abs(vt.y)>0)&&Dr(!0),(ze=H.current)==null||ze.style.setProperty("--swipe-amount-x",`${vt.x}px`),(ht=H.current)==null||ht.style.setProperty("--swipe-amount-y",`${vt.y}px`)}},lt&&!f.jsx?Q.createElement("button",{"aria-label":se,"data-disabled":Qe,"data-close-button":!0,onClick:Qe||!ae?()=>{}:()=>{var re;$e(),(re=f.onDismiss)==null||re.call(f,f)},className:Or($?.closeButton,(o=f?.classNames)==null?void 0:o.closeButton)},(i=z?.close)!=null?i:$T):null,f.jsx||Pd(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:Q.createElement(Q.Fragment,null,Y||f.icon||f.promise?Q.createElement("div",{"data-icon":"",className:Or($?.icon,(s=f?.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||_t():null,f.type!=="loading"?f.icon||z?.[Y]||IT(Y):null):null,Q.createElement("div",{"data-content":"",className:Or($?.content,(a=f?.classNames)==null?void 0:a.content)},Q.createElement("div",{"data-title":"",className:Or($?.title,(l=f?.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?Q.createElement("div",{"data-description":"",className:Or(k,Je,$?.description,(c=f?.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),Pd(f.cancel)?f.cancel:f.cancel&&cc(f.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||E,onClick:re=>{var ue,pe;cc(f.cancel)&&ae&&((pe=(ue=f.cancel).onClick)==null||pe.call(ue,re),$e())},className:Or($?.cancelButton,(u=f?.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,Pd(f.action)?f.action:f.action&&cc(f.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||A,onClick:re=>{var ue,pe;cc(f.action)&&((pe=(ue=f.action).onClick)==null||pe.call(ue,re),!re.defaultPrevented&&$e())},className:Or($?.actionButton,(d=f?.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function Av(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function iN(e,t){let r={};return[e,t].forEach((n,o)=>{let i=o===1,s=i?"--mobile-offset":"--offset",a=i?JT:ZT;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${s}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${s}-${c}`]=a:r[`${s}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),r}var Dv=MT(function(e,t){let{invert:r,position:n="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:m,style:f,visibleToasts:h=XT,toastOptions:p,dir:g=Av(),gap:y=eN,loadingIcon:v,icons:b,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:x}=e,[S,R]=Q.useState([]),N=Q.useMemo(()=>Array.from(new Set([n].concat(S.filter(I=>I.position).map(I=>I.position)))),[S,n]),[F,E]=Q.useState([]),[A,D]=Q.useState(!1),[k,O]=Q.useState(!1),[M,_]=Q.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=Q.useRef(null),X=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=Q.useRef(null),z=Q.useRef(!1),se=Q.useCallback(I=>{R(U=>{var W;return(W=U.find(K=>K.id===I.id))!=null&&W.delete||qt.dismiss(I.id),U.filter(({id:K})=>K!==I.id)})},[]);return Q.useEffect(()=>qt.subscribe(I=>{if(I.dismiss){R(U=>U.map(W=>W.id===I.id?{...W,delete:!0}:W));return}setTimeout(()=>{kT.flushSync(()=>{R(U=>{let W=U.findIndex(K=>K.id===I.id);return W!==-1?[...U.slice(0,W),{...U[W],...I},...U.slice(W+1)]:[I,...U]})})})}),[]),Q.useEffect(()=>{if(u!=="system"){_(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_("dark"):_("light")),typeof window>"u")return;let I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:U})=>{_(U?"dark":"light")})}catch{I.addListener(({matches:W})=>{try{_(W?"dark":"light")}catch(K){console.error(K)}})}},[u]),Q.useEffect(()=>{S.length<=1&&D(!1)},[S]),Q.useEffect(()=>{let I=U=>{var W,K;o.every(ie=>U[ie]||U.code===ie)&&(D(!0),(W=B.current)==null||W.focus()),U.code==="Escape"&&(document.activeElement===B.current||(K=B.current)!=null&&K.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[o]),Q.useEffect(()=>{if(B.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,z.current=!1)}},[B.current]),Q.createElement("section",{ref:t,"aria-label":`${w} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((I,U)=>{var W;let[K,ie]=I.split("-");return S.length?Q.createElement("ol",{key:I,dir:g==="auto"?Av():g,tabIndex:-1,ref:B,className:a,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":K,"data-lifted":A&&S.length>1&&!i,"data-x-position":ie,style:{"--front-toast-height":`${((W=F[0])==null?void 0:W.height)||0}px`,"--width":`${QT}px`,"--gap":`${y}px`,...f,...iN(l,c)},onBlur:te=>{z.current&&!te.currentTarget.contains(te.relatedTarget)&&(z.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||z.current||(z.current=!0,$.current=te.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{k||D(!1)},onDragEnd:()=>D(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},S.filter(te=>!te.position&&U===0||te.position===I).map((te,xe)=>{var ve,ce;return Q.createElement(oN,{key:te.id,icons:b,index:xe,toast:te,defaultRichColors:d,duration:(ve=p?.duration)!=null?ve:m,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:r,visibleToasts:h,closeButton:(ce=p?.closeButton)!=null?ce:s,interacting:k,position:I,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:se,toasts:S.filter(tr=>tr.position==te.position),heights:F.filter(tr=>tr.position==te.position),setHeights:E,expandByDefault:i,gap:y,loadingIcon:v,expanded:A,pauseWhenPageIsHidden:x,swipeDirections:e.swipeDirections})})):null}))});import{CheckCircle as sN,XCircle as aN,AlertCircle as lN,Info as cN,Loader2 as uN}from"lucide-react";import{jsx as Ii}from"react/jsx-runtime";function dN({position:e="bottom-right",theme:t="dark",closeButton:r=!0,richColors:n=!0,visibleToasts:o=4,gap:i=8,expand:s=!1,className:a}){return Ii(Dv,{position:e,theme:t,closeButton:r,richColors:n,visibleToasts:o,gap:i,expand:s,className:a,toastOptions:{classNames:{toast:T("group toast bg-surface-card border-border-default","shadow-lg rounded-lg"),title:"text-text-primary font-medium",description:"text-text-secondary text-sm",actionButton:"bg-accent-primary text-white",cancelButton:"bg-surface-subtle text-text-secondary",closeButton:"bg-surface-subtle border-border-default",success:"border-status-success/30",error:"border-status-error/30",warning:"border-status-warning/30",info:"border-status-info/30"}}})}var ra={success:Ii(sN,{className:"w-5 h-5 text-status-success"}),error:Ii(aN,{className:"w-5 h-5 text-status-error"}),warning:Ii(lN,{className:"w-5 h-5 text-status-warning"}),info:Ii(cN,{className:"w-5 h-5 text-status-info"}),loading:Ii(uN,{className:"w-5 h-5 text-accent-primary animate-spin"})},fN={show:(e,t)=>_r(e,t),success:(e,t)=>_r.success(e,{icon:ra.success,...t}),error:(e,t)=>_r.error(e,{icon:ra.error,...t}),warning:(e,t)=>_r.warning(e,{icon:ra.warning,...t}),info:(e,t)=>_r.info(e,{icon:ra.info,...t}),loading:(e,t)=>_r.loading(e,{icon:ra.loading,...t}),promise:(e,t,r)=>_r.promise(e,{loading:t.loading,success:t.success,error:t.error,...r}),custom:(e,t)=>_r.custom(()=>e,t),dismiss:e=>{_r.dismiss(e)},dismissAll:()=>{_r.dismiss()}};import*as ua from"react";function kv(e){return"init"in e}function Dd(e){return!!e.write}function Mv(e){return"v"in e||"e"in e}function uc(e){if("e"in e)throw e.e;if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v}var dc=new WeakMap;function Iv(e){var t;return fc(e)&&!!((t=dc.get(e))!=null&&t[0])}function mN(e){let t=dc.get(e);t?.[0]&&(t[0]=!1,t[1].forEach(r=>r()))}function pc(e,t){let r=dc.get(e);if(!r){r=[!0,new Set],dc.set(e,r);let n=()=>{r[0]=!1};e.then(n,n)}r[1].add(t)}function fc(e){return typeof e?.then=="function"}function Fv(e,t,r){if(!r.p.has(e)){r.p.add(e);let n=()=>r.p.delete(e);t.then(n,n)}}function Vv(e,t,r){var n;let o=new Set;for(let i of((n=r.get(e))==null?void 0:n.t)||[])o.add(i);for(let i of t.p)o.add(i);return o}var pN=(e,t,...r)=>t.read(...r),gN=(e,t,...r)=>t.write(...r),hN=(e,t)=>{if(t.INTERNAL_onInit)return t.INTERNAL_onInit(e);if(t.unstable_onInit)return console.warn("[DEPRECATED] atom.unstable_onInit is renamed to atom.INTERNAL_onInit."),t.unstable_onInit(e)},vN=(e,t,r)=>{var n;return(n=t.onMount)==null?void 0:n.call(t,r)},yN=(e,t)=>{var r;let n=It(e),o=n[0],i=n[6],s=n[9];if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!t)throw new Error("Atom is undefined or null");let a=o.get(t);return a||(a={d:new Map,p:new Set,n:0},o.set(t,a),(r=i.i)==null||r.call(i,t),s?.(e,t)),a},bN=e=>{let t=It(e),r=t[1],n=t[3],o=t[4],i=t[5],s=t[6],a=t[13],l=[],c=u=>{try{u()}catch(d){l.push(d)}};do{s.f&&c(s.f);let u=new Set,d=u.add.bind(u);n.forEach(m=>{var f;return(f=r.get(m))==null?void 0:f.l.forEach(d)}),n.clear(),i.forEach(d),i.clear(),o.forEach(d),o.clear(),u.forEach(c),n.size&&a(e)}while(n.size||i.size||o.size);if(l.length)throw new AggregateError(l)},xN=e=>{let t=It(e),r=t[1],n=t[2],o=t[3],i=t[11],s=t[14],a=t[17],l=[],c=new WeakSet,u=new WeakSet,d=Array.from(o);for(;d.length;){let m=d[d.length-1],f=i(e,m);if(u.has(m)){d.pop();continue}if(c.has(m)){if(n.get(m)===f.n)l.push([m,f]);else if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&n.has(m))throw new Error("[Bug] invalidated atom exists");u.add(m),d.pop();continue}c.add(m);for(let h of Vv(m,f,r))c.has(h)||d.push(h)}for(let m=l.length-1;m>=0;--m){let[f,h]=l[m],p=!1;for(let g of h.d.keys())if(g!==f&&o.has(g)){p=!0;break}p&&(s(e,f),a(e,f)),n.delete(f)}},Md=new WeakSet,wN=(e,t)=>{var r,n;let o=It(e),i=o[1],s=o[2],a=o[3],l=o[6],c=o[7],u=o[11],d=o[12],m=o[13],f=o[14],h=o[16],p=o[17],g=u(e,t);if(Mv(g)){if(i.has(t)&&s.get(t)!==g.n)return g;let N=!1;for(let[F,E]of g.d)if(f(e,F).n!==E){N=!0;break}if(!N)return g}g.d.clear();let y=!0;function v(){i.has(t)&&(p(e,t),m(e),d(e))}function b(N){var F;if(N===t){let A=u(e,N);if(!Mv(A))if(kv(N))mc(e,N,N.init);else throw new Error("no atom init");return uc(A)}let E=f(e,N);try{return uc(E)}finally{g.d.set(N,E.n),Iv(g.v)&&Fv(t,g.v,E),i.has(t)&&((F=i.get(N))==null||F.t.add(t)),y||v()}}let w,x,S={get signal(){return w||(w=new AbortController),w.signal},get setSelf(){return(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!Dd(t)&&console.warn("setSelf function cannot be used with read-only atom"),!x&&Dd(t)&&(x=(...N)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&y&&console.warn("setSelf function cannot be called in sync"),!y)try{return h(e,t,...N)}finally{m(e),d(e)}}),x}},R=g.n;try{(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&Md.delete(e);let N=c(e,t,b,S);return(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&Md.has(e)&&console.warn("Detected store mutation during atom read. This is not supported."),mc(e,t,N),fc(N)&&(pc(N,()=>w?.abort()),N.then(v,v)),(r=l.r)==null||r.call(l,t),g}catch(N){return delete g.v,g.e=N,++g.n,g}finally{y=!1,R!==g.n&&s.get(t)===R&&(s.set(t,g.n),a.add(t),(n=l.c)==null||n.call(l,t))}},SN=(e,t)=>{let r=It(e),n=r[1],o=r[2],i=r[11],s=[t];for(;s.length;){let a=s.pop(),l=i(e,a);for(let c of Vv(a,l,n)){let u=i(e,c);o.set(c,u.n),s.push(c)}}},Bv=(e,t,...r)=>{let n=It(e),o=n[3],i=n[6],s=n[8],a=n[11],l=n[12],c=n[13],u=n[14],d=n[15],m=n[17],f=!0,h=g=>uc(u(e,g)),p=(g,...y)=>{var v;let b=a(e,g);try{if(g===t){if(!kv(g))throw new Error("atom not writable");(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&Md.add(e);let w=b.n,x=y[0];mc(e,g,x),m(e,g),w!==b.n&&(o.add(g),d(e,g),(v=i.c)==null||v.call(i,g));return}else return Bv(e,g,...y)}finally{f||(c(e),l(e))}};try{return s(e,t,h,p,...r)}finally{f=!1}},CN=(e,t)=>{var r;let n=It(e),o=n[1],i=n[3],s=n[6],a=n[11],l=n[15],c=n[18],u=n[19],d=a(e,t),m=o.get(t);if(m&&!Iv(d.v)){for(let[f,h]of d.d)if(!m.d.has(f)){let p=a(e,f);c(e,f).t.add(t),m.d.add(f),h!==p.n&&(i.add(f),l(e,f),(r=s.c)==null||r.call(s,f))}for(let f of m.d)if(!d.d.has(f)){m.d.delete(f);let h=u(e,f);h?.t.delete(t)}}},Ov=(e,t)=>{var r;let n=It(e),o=n[1],i=n[4],s=n[6],a=n[10],l=n[11],c=n[12],u=n[13],d=n[14],m=n[16],f=l(e,t),h=o.get(t);if(!h){d(e,t);for(let p of f.d.keys())Ov(e,p).t.add(t);if(h={l:new Set,d:new Set(f.d.keys()),t:new Set},o.set(t,h),Dd(t)){let p=()=>{let g=!0,y=(...v)=>{try{return m(e,t,...v)}finally{g||(u(e),c(e))}};try{let v=a(e,t,y);v&&(h.u=()=>{g=!0;try{v()}finally{g=!1}})}finally{g=!1}};i.add(p)}(r=s.m)==null||r.call(s,t)}return h},RN=(e,t)=>{var r,n;let o=It(e),i=o[1],s=o[5],a=o[6],l=o[11],c=o[19],u=l(e,t),d=i.get(t);if(!d||d.l.size)return d;let m=!1;for(let f of d.t)if((r=i.get(f))!=null&&r.d.has(t)){m=!0;break}if(!m){d.u&&s.add(d.u),d=void 0,i.delete(t);for(let f of u.d.keys()){let h=c(e,f);h?.t.delete(t)}(n=a.u)==null||n.call(a,t);return}return d},mc=(e,t,r)=>{let n=It(e)[11],o=n(e,t),i="v"in o,s=o.v;if(fc(r))for(let a of o.d.keys())Fv(t,r,n(e,a));o.v=r,delete o.e,(!i||!Object.is(s,o.v))&&(++o.n,fc(s)&&mN(s))},TN=(e,t)=>{let r=It(e)[14];return uc(r(e,t))},NN=(e,t,...r)=>{let n=It(e),o=n[12],i=n[13],s=n[16];try{return s(e,t,...r)}finally{i(e),o(e)}},EN=(e,t,r)=>{let n=It(e),o=n[12],i=n[18],s=n[19],l=i(e,t).l;return l.add(r),o(e),()=>{l.delete(r),s(e,t),o(e)}},_v=new WeakMap,It=e=>{let t=_v.get(e);if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!t)throw new Error("Store must be created by buildStore to read its building blocks");return t};function Lv(...e){let t={get(n){let o=It(t)[21];return o(t,n)},set(n,...o){let i=It(t)[22];return i(t,n,...o)},sub(n,o){let i=It(t)[23];return i(t,n,o)}},r=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},pN,gN,hN,vN,yN,bN,xN,wN,SN,Bv,CN,Ov,RN,mc,TN,NN,EN,void 0].map((n,o)=>e[o]||n);return _v.set(t,Object.freeze(r)),t}var PN=0;function Lt(e,t){let r=`atom${++PN}`,n={toString(){return(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&this.debugLabel?r+":"+this.debugLabel:r}};return typeof e=="function"?n.read=e:(n.init=e,n.read=AN,n.write=DN),t&&(n.write=t),n}function AN(e){return e(this)}function DN(e,t,r){return t(this,typeof r=="function"?r(e(this)):r)}var $v;function kd(){return $v?$v():Lv()}var na;function zv(){return na||(na=kd(),(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=na),globalThis.__JOTAI_DEFAULT_STORE__!==na&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),na}import Gv,{createContext as MN,useContext as kN,useRef as IN,createElement as jv,useReducer as FN,useEffect as VN,useDebugValue as BN,useCallback as ON}from"react";var Fd=MN(void 0);function Hv(e){let t=kN(Fd);return e?.store||t||zv()}function Kv({children:e,store:t}){let r=IN(null);return t?jv(Fd.Provider,{value:t},e):(r.current===null&&(r.current=kd()),jv(Fd.Provider,{value:r.current},e))}var Vd=e=>typeof e?.then=="function",Bd=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},_N=Gv.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(Bd(e),e)}),Id=new WeakMap,Uv=(e,t)=>{let r=Id.get(e);return r||(r=new Promise((n,o)=>{let i=e,s=c=>u=>{i===c&&n(u)},a=c=>u=>{i===c&&o(u)},l=()=>{try{let c=t();Vd(c)?(Id.set(c,r),i=c,c.then(s(c),a(c)),pc(c,l)):n(c)}catch(c){o(c)}};e.then(s(e),a(e)),pc(e,l)}),Id.set(e,r)),r};function LN(e,t){let{delay:r,unstable_promiseStatus:n=!Gv.use}=t||{},o=Hv(t),[[i,s,a],l]=FN(u=>{let d=o.get(e);return Object.is(u[0],d)&&u[1]===o&&u[2]===e?u:[d,o,e]},void 0,()=>[o.get(e),o,e]),c=i;if((s!==o||a!==e)&&(l(),c=o.get(e)),VN(()=>{let u=o.sub(e,()=>{if(n)try{let d=o.get(e);Vd(d)&&Bd(Uv(d,()=>o.get(e)))}catch{}if(typeof r=="number"){setTimeout(l,r);return}l()});return l(),u},[o,e,r,n]),BN(c),Vd(c)){let u=Uv(c,()=>o.get(e));return n&&Bd(u),_N(u)}return c}function Wv(e,t){let r=Hv(t);return ON((...o)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return r.set(e,...o)},[r,e])}function $t(e,t){return[LN(e,t),Wv(e,t)]}import*as sa from"react";function Qn(e,t){return typeof e=="function"?e(t):e}function nr(e,t){return r=>{t.setState(n=>({...n,[e]:Qn(r,n[e])}))}}function yc(e){return e instanceof Function}function $N(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function zN(e,t){let r=[],n=o=>{o.forEach(i=>{r.push(i);let s=t(i);s!=null&&s.length&&n(s)})};return n(e),r}function ne(e,t,r){let n=[],o;return i=>{let s;r.key&&r.debug&&(s=Date.now());let a=e(i);if(!(a.length!==n.length||a.some((u,d)=>n[d]!==u)))return o;n=a;let c;if(r.key&&r.debug&&(c=Date.now()),o=t(...a),r==null||r.onChange==null||r.onChange(o),r.key&&r.debug&&r!=null&&r.debug()){let u=Math.round((Date.now()-s)*100)/100,d=Math.round((Date.now()-c)*100)/100,m=d/16,f=(h,p)=>{for(h=String(h);h.length<p;)h=" "+h;return h};console.info(`%c\u23F1 ${f(d,5)} /${f(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,r?.key)}return o}}function oe(e,t,r,n){return{debug:()=>{var o;return(o=e?.debugAll)!=null?o:e[t]},key:!1,onChange:n}}function jN(e,t,r,n){let o=()=>{var s;return(s=i.getValue())!=null?s:e.options.renderFallbackValue},i={id:`${t.id}_${r.id}`,row:t,column:r,getValue:()=>t.getValue(n),renderValue:o,getContext:ne(()=>[e,r,t,i],(s,a,l,c)=>({table:s,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),oe(e.options,"debugCells","cell.getContext"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(i,r,t,e)},{}),i}function UN(e,t,r,n){var o,i;let a={...e._getDefaultColumnDef(),...t},l=a.accessorKey,c=(o=(i=a.id)!=null?i:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?o:typeof a.header=="string"?a.header:void 0,u;if(a.accessorFn?u=a.accessorFn:l&&(l.includes(".")?u=m=>{let f=m;for(let p of l.split(".")){var h;f=(h=f)==null?void 0:h[p]}return f}:u=m=>m[a.accessorKey]),!c)throw new Error;let d={id:`${String(c)}`,accessorFn:u,parent:n,depth:r,columnDef:a,columns:[],getFlatColumns:ne(()=>[!0],()=>{var m;return[d,...(m=d.columns)==null?void 0:m.flatMap(f=>f.getFlatColumns())]},oe(e.options,"debugColumns","column.getFlatColumns")),getLeafColumns:ne(()=>[e._getOrderColumnsFn()],m=>{var f;if((f=d.columns)!=null&&f.length){let h=d.columns.flatMap(p=>p.getLeafColumns());return m(h)}return[d]},oe(e.options,"debugColumns","column.getLeafColumns"))};for(let m of e._features)m.createColumn==null||m.createColumn(d,e);return d}var Ft="debugHeaders";function qv(e,t,r){var n;let i={id:(n=r.id)!=null?n:t.id,column:t,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{let s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(i),s},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(i,e)}),i}var GN={createTable:e=>{e.getHeaderGroups=ne(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,o)=>{var i,s;let a=(i=n?.map(d=>r.find(m=>m.id===d)).filter(Boolean))!=null?i:[],l=(s=o?.map(d=>r.find(m=>m.id===d)).filter(Boolean))!=null?s:[],c=r.filter(d=>!(n!=null&&n.includes(d.id))&&!(o!=null&&o.includes(d.id)));return gc(t,[...a,...c,...l],e)},oe(e.options,Ft,"getHeaderGroups")),e.getCenterHeaderGroups=ne(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,o)=>(r=r.filter(i=>!(n!=null&&n.includes(i.id))&&!(o!=null&&o.includes(i.id))),gc(t,r,e,"center")),oe(e.options,Ft,"getCenterHeaderGroups")),e.getLeftHeaderGroups=ne(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,r,n)=>{var o;let i=(o=n?.map(s=>r.find(a=>a.id===s)).filter(Boolean))!=null?o:[];return gc(t,i,e,"left")},oe(e.options,Ft,"getLeftHeaderGroups")),e.getRightHeaderGroups=ne(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,r,n)=>{var o;let i=(o=n?.map(s=>r.find(a=>a.id===s)).filter(Boolean))!=null?o:[];return gc(t,i,e,"right")},oe(e.options,Ft,"getRightHeaderGroups")),e.getFooterGroups=ne(()=>[e.getHeaderGroups()],t=>[...t].reverse(),oe(e.options,Ft,"getFooterGroups")),e.getLeftFooterGroups=ne(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),oe(e.options,Ft,"getLeftFooterGroups")),e.getCenterFooterGroups=ne(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),oe(e.options,Ft,"getCenterFooterGroups")),e.getRightFooterGroups=ne(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),oe(e.options,Ft,"getRightFooterGroups")),e.getFlatHeaders=ne(()=>[e.getHeaderGroups()],t=>t.map(r=>r.headers).flat(),oe(e.options,Ft,"getFlatHeaders")),e.getLeftFlatHeaders=ne(()=>[e.getLeftHeaderGroups()],t=>t.map(r=>r.headers).flat(),oe(e.options,Ft,"getLeftFlatHeaders")),e.getCenterFlatHeaders=ne(()=>[e.getCenterHeaderGroups()],t=>t.map(r=>r.headers).flat(),oe(e.options,Ft,"getCenterFlatHeaders")),e.getRightFlatHeaders=ne(()=>[e.getRightHeaderGroups()],t=>t.map(r=>r.headers).flat(),oe(e.options,Ft,"getRightFlatHeaders")),e.getCenterLeafHeaders=ne(()=>[e.getCenterFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),oe(e.options,Ft,"getCenterLeafHeaders")),e.getLeftLeafHeaders=ne(()=>[e.getLeftFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),oe(e.options,Ft,"getLeftLeafHeaders")),e.getRightLeafHeaders=ne(()=>[e.getRightFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),oe(e.options,Ft,"getRightLeafHeaders")),e.getLeafHeaders=ne(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,r,n)=>{var o,i,s,a,l,c;return[...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(s=(a=r[0])==null?void 0:a.headers)!=null?s:[],...(l=(c=n[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},oe(e.options,Ft,"getLeafHeaders"))}};function gc(e,t,r,n){var o,i;let s=0,a=function(m,f){f===void 0&&(f=1),s=Math.max(s,f),m.filter(h=>h.getIsVisible()).forEach(h=>{var p;(p=h.columns)!=null&&p.length&&a(h.columns,f+1)},0)};a(e);let l=[],c=(m,f)=>{let h={depth:f,id:[n,`${f}`].filter(Boolean).join("_"),headers:[]},p=[];m.forEach(g=>{let y=[...p].reverse()[0],v=g.column.depth===h.depth,b,w=!1;if(v&&g.column.parent?b=g.column.parent:(b=g.column,w=!0),y&&y?.column===b)y.subHeaders.push(g);else{let x=qv(r,b,{id:[n,f,b.id,g?.id].filter(Boolean).join("_"),isPlaceholder:w,placeholderId:w?`${p.filter(S=>S.column===b).length}`:void 0,depth:f,index:p.length});x.subHeaders.push(g),p.push(x)}h.headers.push(g),g.headerGroup=h}),l.push(h),f>0&&c(p,f-1)},u=t.map((m,f)=>qv(r,m,{depth:s,index:f}));c(u,s-1),l.reverse();let d=m=>m.filter(h=>h.column.getIsVisible()).map(h=>{let p=0,g=0,y=[0];h.subHeaders&&h.subHeaders.length?(y=[],d(h.subHeaders).forEach(b=>{let{colSpan:w,rowSpan:x}=b;p+=w,y.push(x)})):p=1;let v=Math.min(...y);return g=g+v,h.colSpan=p,h.rowSpan=g,{colSpan:p,rowSpan:g}});return d((o=(i=l[0])==null?void 0:i.headers)!=null?o:[]),l}var Yd=(e,t,r,n,o,i,s)=>{let a={id:t,index:n,original:r,depth:o,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];let c=e.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,n),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];let c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,n),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>zN(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],c=a;for(;;){let u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:ne(()=>[e.getAllLeafColumns()],l=>l.map(c=>jN(e,a,c,c.id)),oe(e.options,"debugRows","getAllCells")),_getAllCellsByColumnId:ne(()=>[a.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),oe(e.options,"debugRows","getAllCellsByColumnId"))};for(let l=0;l<e._features.length;l++){let c=e._features[l];c==null||c.createRow==null||c.createRow(a,e)}return a},HN={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Xv=(e,t,r)=>{var n,o;let i=r==null||(n=r.toString())==null?void 0:n.toLowerCase();return!!(!((o=e.getValue(t))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(i))};Xv.autoRemove=e=>Lr(e);var Zv=(e,t,r)=>{var n;return!!(!((n=e.getValue(t))==null||(n=n.toString())==null)&&n.includes(r))};Zv.autoRemove=e=>Lr(e);var Jv=(e,t,r)=>{var n;return((n=e.getValue(t))==null||(n=n.toString())==null?void 0:n.toLowerCase())===r?.toLowerCase()};Jv.autoRemove=e=>Lr(e);var Qv=(e,t,r)=>{var n;return(n=e.getValue(t))==null?void 0:n.includes(r)};Qv.autoRemove=e=>Lr(e);var ey=(e,t,r)=>!r.some(n=>{var o;return!((o=e.getValue(t))!=null&&o.includes(n))});ey.autoRemove=e=>Lr(e)||!(e!=null&&e.length);var ty=(e,t,r)=>r.some(n=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(n)});ty.autoRemove=e=>Lr(e)||!(e!=null&&e.length);var ry=(e,t,r)=>e.getValue(t)===r;ry.autoRemove=e=>Lr(e);var ny=(e,t,r)=>e.getValue(t)==r;ny.autoRemove=e=>Lr(e);var Xd=(e,t,r)=>{let[n,o]=r,i=e.getValue(t);return i>=n&&i<=o};Xd.resolveFilterValue=e=>{let[t,r]=e,n=typeof t!="number"?parseFloat(t):t,o=typeof r!="number"?parseFloat(r):r,i=t===null||Number.isNaN(n)?-1/0:n,s=r===null||Number.isNaN(o)?1/0:o;if(i>s){let a=i;i=s,s=a}return[i,s]};Xd.autoRemove=e=>Lr(e)||Lr(e[0])&&Lr(e[1]);var Rn={includesString:Xv,includesStringSensitive:Zv,equalsString:Jv,arrIncludes:Qv,arrIncludesAll:ey,arrIncludesSome:ty,equals:ry,weakEquals:ny,inNumberRange:Xd};function Lr(e){return e==null||e===""}var KN={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:nr("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{let r=t.getCoreRowModel().flatRows[0],n=r?.getValue(e.id);return typeof n=="string"?Rn.includesString:typeof n=="number"?Rn.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?Rn.equals:Array.isArray(n)?Rn.arrIncludes:Rn.weakEquals},e.getFilterFn=()=>{var r,n;return yc(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(r=(n=t.options.filterFns)==null?void 0:n[e.columnDef.filterFn])!=null?r:Rn[e.columnDef.filterFn]},e.getCanFilter=()=>{var r,n,o;return((r=e.columnDef.enableColumnFilter)!=null?r:!0)&&((n=t.options.enableColumnFilters)!=null?n:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var r;return(r=t.getState().columnFilters)==null||(r=r.find(n=>n.id===e.id))==null?void 0:r.value},e.getFilterIndex=()=>{var r,n;return(r=(n=t.getState().columnFilters)==null?void 0:n.findIndex(o=>o.id===e.id))!=null?r:-1},e.setFilterValue=r=>{t.setColumnFilters(n=>{let o=e.getFilterFn(),i=n?.find(u=>u.id===e.id),s=Qn(r,i?i.value:void 0);if(Yv(o,s,e)){var a;return(a=n?.filter(u=>u.id!==e.id))!=null?a:[]}let l={id:e.id,value:s};if(i){var c;return(c=n?.map(u=>u.id===e.id?l:u))!=null?c:[]}return n!=null&&n.length?[...n,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{let r=e.getAllLeafColumns(),n=o=>{var i;return(i=Qn(t,o))==null?void 0:i.filter(s=>{let a=r.find(l=>l.id===s.id);if(a){let l=a.getFilterFn();if(Yv(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(n)},e.resetColumnFilters=t=>{var r,n;e.setColumnFilters(t?[]:(r=(n=e.initialState)==null?void 0:n.columnFilters)!=null?r:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Yv(e,t,r){return(e&&e.autoRemove?e.autoRemove(t,r):!1)||typeof t>"u"||typeof t=="string"&&!t}var WN=(e,t,r)=>r.reduce((n,o)=>{let i=o.getValue(e);return n+(typeof i=="number"?i:0)},0),qN=(e,t,r)=>{let n;return r.forEach(o=>{let i=o.getValue(e);i!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}),n},YN=(e,t,r)=>{let n;return r.forEach(o=>{let i=o.getValue(e);i!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}),n},XN=(e,t,r)=>{let n,o;return r.forEach(i=>{let s=i.getValue(e);s!=null&&(n===void 0?s>=s&&(n=o=s):(n>s&&(n=s),o<s&&(o=s)))}),[n,o]},ZN=(e,t)=>{let r=0,n=0;if(t.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++r,n+=i)}),r)return n/r},JN=(e,t)=>{if(!t.length)return;let r=t.map(i=>i.getValue(e));if(!$N(r))return;if(r.length===1)return r[0];let n=Math.floor(r.length/2),o=r.sort((i,s)=>i-s);return r.length%2!==0?o[n]:(o[n-1]+o[n])/2},QN=(e,t)=>Array.from(new Set(t.map(r=>r.getValue(e))).values()),eE=(e,t)=>new Set(t.map(r=>r.getValue(e))).size,tE=(e,t)=>t.length,Od={sum:WN,min:qN,max:YN,extent:XN,mean:ZN,median:JN,unique:QN,uniqueCount:eE,count:tE},rE={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,r;return(t=(r=e.getValue())==null||r.toString==null?void 0:r.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:nr("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(r=>r!=null&&r.includes(e.id)?r.filter(n=>n!==e.id):[...r??[],e.id])},e.getCanGroup=()=>{var r,n;return((r=e.columnDef.enableGrouping)!=null?r:!0)&&((n=t.options.enableGrouping)!=null?n:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var r;return(r=t.getState().grouping)==null?void 0:r.includes(e.id)},e.getGroupedIndex=()=>{var r;return(r=t.getState().grouping)==null?void 0:r.indexOf(e.id)},e.getToggleGroupingHandler=()=>{let r=e.getCanGroup();return()=>{r&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{let r=t.getCoreRowModel().flatRows[0],n=r?.getValue(e.id);if(typeof n=="number")return Od.sum;if(Object.prototype.toString.call(n)==="[object Date]")return Od.extent},e.getAggregationFn=()=>{var r,n;if(!e)throw new Error;return yc(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(r=(n=t.options.aggregationFns)==null?void 0:n[e.columnDef.aggregationFn])!=null?r:Od[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var r,n;e.setGrouping(t?[]:(r=(n=e.initialState)==null?void 0:n.grouping)!=null?r:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=r=>{if(e._groupingValuesCache.hasOwnProperty(r))return e._groupingValuesCache[r];let n=t.getColumn(r);return n!=null&&n.columnDef.getGroupingValue?(e._groupingValuesCache[r]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[r]):e.getValue(r)},e._groupingValuesCache={}},createCell:(e,t,r,n)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===r.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=r.subRows)!=null&&o.length)}}};function nE(e,t,r){if(!(t!=null&&t.length)||!r)return e;let n=e.filter(i=>!t.includes(i.id));return r==="remove"?n:[...t.map(i=>e.find(s=>s.id===i)).filter(Boolean),...n]}var oE={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:nr("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=ne(r=>[ia(t,r)],r=>r.findIndex(n=>n.id===e.id),oe(t.options,"debugColumns","getIndex")),e.getIsFirstColumn=r=>{var n;return((n=ia(t,r)[0])==null?void 0:n.id)===e.id},e.getIsLastColumn=r=>{var n;let o=ia(t,r);return((n=o[o.length-1])==null?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var r;e.setColumnOrder(t?[]:(r=e.initialState.columnOrder)!=null?r:[])},e._getOrderColumnsFn=ne(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,r,n)=>o=>{let i=[];if(!(t!=null&&t.length))i=o;else{let s=[...t],a=[...o];for(;a.length&&s.length;){let l=s.shift(),c=a.findIndex(u=>u.id===l);c>-1&&i.push(a.splice(c,1)[0])}i=[...i,...a]}return nE(i,r,n)},oe(e.options,"debugTable","_getOrderColumnsFn"))}},_d=()=>({left:[],right:[]}),iE={getInitialState:e=>({columnPinning:_d(),...e}),getDefaultOptions:e=>({onColumnPinningChange:nr("columnPinning",e)}),createColumn:(e,t)=>{e.pin=r=>{let n=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var i,s;if(r==="right"){var a,l;return{left:((a=o?.left)!=null?a:[]).filter(d=>!(n!=null&&n.includes(d))),right:[...((l=o?.right)!=null?l:[]).filter(d=>!(n!=null&&n.includes(d))),...n]}}if(r==="left"){var c,u;return{left:[...((c=o?.left)!=null?c:[]).filter(d=>!(n!=null&&n.includes(d))),...n],right:((u=o?.right)!=null?u:[]).filter(d=>!(n!=null&&n.includes(d)))}}return{left:((i=o?.left)!=null?i:[]).filter(d=>!(n!=null&&n.includes(d))),right:((s=o?.right)!=null?s:[]).filter(d=>!(n!=null&&n.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(n=>{var o,i,s;return((o=n.columnDef.enablePinning)!=null?o:!0)&&((i=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{let r=e.getLeafColumns().map(a=>a.id),{left:n,right:o}=t.getState().columnPinning,i=r.some(a=>n?.includes(a)),s=r.some(a=>o?.includes(a));return i?"left":s?"right":!1},e.getPinnedIndex=()=>{var r,n;let o=e.getIsPinned();return o?(r=(n=t.getState().columnPinning)==null||(n=n[o])==null?void 0:n.indexOf(e.id))!=null?r:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=ne(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(r,n,o)=>{let i=[...n??[],...o??[]];return r.filter(s=>!i.includes(s.column.id))},oe(t.options,"debugRows","getCenterVisibleCells")),e.getLeftVisibleCells=ne(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(r,n)=>(n??[]).map(i=>r.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),oe(t.options,"debugRows","getLeftVisibleCells")),e.getRightVisibleCells=ne(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(r,n)=>(n??[]).map(i=>r.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),oe(t.options,"debugRows","getRightVisibleCells"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var r,n;return e.setColumnPinning(t?_d():(r=(n=e.initialState)==null?void 0:n.columnPinning)!=null?r:_d())},e.getIsSomeColumnsPinned=t=>{var r;let n=e.getState().columnPinning;if(!t){var o,i;return!!((o=n.left)!=null&&o.length||(i=n.right)!=null&&i.length)}return!!((r=n[t])!=null&&r.length)},e.getLeftLeafColumns=ne(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,r)=>(r??[]).map(n=>t.find(o=>o.id===n)).filter(Boolean),oe(e.options,"debugColumns","getLeftLeafColumns")),e.getRightLeafColumns=ne(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,r)=>(r??[]).map(n=>t.find(o=>o.id===n)).filter(Boolean),oe(e.options,"debugColumns","getRightLeafColumns")),e.getCenterLeafColumns=ne(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n)=>{let o=[...r??[],...n??[]];return t.filter(i=>!o.includes(i.id))},oe(e.options,"debugColumns","getCenterLeafColumns"))}};function sE(e){return e||(typeof document<"u"?document:null)}var hc={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Ld=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),aE={getDefaultColumnDef:()=>hc,getInitialState:e=>({columnSizing:{},columnSizingInfo:Ld(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:nr("columnSizing",e),onColumnSizingInfoChange:nr("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var r,n,o;let i=t.getState().columnSizing[e.id];return Math.min(Math.max((r=e.columnDef.minSize)!=null?r:hc.minSize,(n=i??e.columnDef.size)!=null?n:hc.size),(o=e.columnDef.maxSize)!=null?o:hc.maxSize)},e.getStart=ne(r=>[r,ia(t,r),t.getState().columnSizing],(r,n)=>n.slice(0,e.getIndex(r)).reduce((o,i)=>o+i.getSize(),0),oe(t.options,"debugColumns","getStart")),e.getAfter=ne(r=>[r,ia(t,r),t.getState().columnSizing],(r,n)=>n.slice(e.getIndex(r)+1).reduce((o,i)=>o+i.getSize(),0),oe(t.options,"debugColumns","getAfter")),e.resetSize=()=>{t.setColumnSizing(r=>{let{[e.id]:n,...o}=r;return o})},e.getCanResize=()=>{var r,n;return((r=e.columnDef.enableResizing)!=null?r:!0)&&((n=t.options.enableColumnResizing)!=null?n:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let r=0,n=o=>{if(o.subHeaders.length)o.subHeaders.forEach(n);else{var i;r+=(i=o.column.getSize())!=null?i:0}};return n(e),r},e.getStart=()=>{if(e.index>0){let r=e.headerGroup.headers[e.index-1];return r.getStart()+r.getSize()}return 0},e.getResizeHandler=r=>{let n=t.getColumn(e.column.id),o=n?.getCanResize();return i=>{if(!n||!o||(i.persist==null||i.persist(),$d(i)&&i.touches&&i.touches.length>1))return;let s=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[n.id,n.getSize()]],l=$d(i)?Math.round(i.touches[0].clientX):i.clientX,c={},u=(y,v)=>{typeof v=="number"&&(t.setColumnSizingInfo(b=>{var w,x;let S=t.options.columnResizeDirection==="rtl"?-1:1,R=(v-((w=b?.startOffset)!=null?w:0))*S,N=Math.max(R/((x=b?.startSize)!=null?x:0),-.999999);return b.columnSizingStart.forEach(F=>{let[E,A]=F;c[E]=Math.round(Math.max(A+A*N,0)*100)/100}),{...b,deltaOffset:R,deltaPercentage:N}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(b=>({...b,...c})))},d=y=>u("move",y),m=y=>{u("end",y),t.setColumnSizingInfo(v=>({...v,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},f=sE(r),h={moveHandler:y=>d(y.clientX),upHandler:y=>{f?.removeEventListener("mousemove",h.moveHandler),f?.removeEventListener("mouseup",h.upHandler),m(y.clientX)}},p={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),d(y.touches[0].clientX),!1),upHandler:y=>{var v;f?.removeEventListener("touchmove",p.moveHandler),f?.removeEventListener("touchend",p.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),m((v=y.touches[0])==null?void 0:v.clientX)}},g=lE()?{passive:!1}:!1;$d(i)?(f?.addEventListener("touchmove",p.moveHandler,g),f?.addEventListener("touchend",p.upHandler,g)):(f?.addEventListener("mousemove",h.moveHandler,g),f?.addEventListener("mouseup",h.upHandler,g)),t.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var r;e.setColumnSizing(t?{}:(r=e.initialState.columnSizing)!=null?r:{})},e.resetHeaderSizeInfo=t=>{var r;e.setColumnSizingInfo(t?Ld():(r=e.initialState.columnSizingInfo)!=null?r:Ld())},e.getTotalSize=()=>{var t,r;return(t=(r=e.getHeaderGroups()[0])==null?void 0:r.headers.reduce((n,o)=>n+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,r;return(t=(r=e.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((n,o)=>n+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,r;return(t=(r=e.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((n,o)=>n+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,r;return(t=(r=e.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((n,o)=>n+o.getSize(),0))!=null?t:0}}},vc=null;function lE(){if(typeof vc=="boolean")return vc;let e=!1;try{let t={get passive(){return e=!0,!1}},r=()=>{};window.addEventListener("test",r,t),window.removeEventListener("test",r)}catch{e=!1}return vc=e,vc}function $d(e){return e.type==="touchstart"}var cE={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:nr("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=r=>{e.getCanHide()&&t.setColumnVisibility(n=>({...n,[e.id]:r??!e.getIsVisible()}))},e.getIsVisible=()=>{var r,n;let o=e.columns;return(r=o.length?o.some(i=>i.getIsVisible()):(n=t.getState().columnVisibility)==null?void 0:n[e.id])!=null?r:!0},e.getCanHide=()=>{var r,n;return((r=e.columnDef.enableHiding)!=null?r:!0)&&((n=t.options.enableHiding)!=null?n:!0)},e.getToggleVisibilityHandler=()=>r=>{e.toggleVisibility==null||e.toggleVisibility(r.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=ne(()=>[e.getAllCells(),t.getState().columnVisibility],r=>r.filter(n=>n.column.getIsVisible()),oe(t.options,"debugRows","_getAllVisibleCells")),e.getVisibleCells=ne(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(r,n,o)=>[...r,...n,...o],oe(t.options,"debugRows","getVisibleCells"))},createTable:e=>{let t=(r,n)=>ne(()=>[n(),n().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),oe(e.options,"debugColumns",r));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=r=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(r),e.resetColumnVisibility=r=>{var n;e.setColumnVisibility(r?{}:(n=e.initialState.columnVisibility)!=null?n:{})},e.toggleAllColumnsVisible=r=>{var n;r=(n=r)!=null?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:r||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>r=>{var n;e.toggleAllColumnsVisible((n=r.target)==null?void 0:n.checked)}}};function ia(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}var uE={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},dE={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:nr("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var r;let n=(r=e.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[t.id])==null?void 0:r.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var r,n,o,i;return((r=e.columnDef.enableGlobalFilter)!=null?r:!0)&&((n=t.options.enableGlobalFilter)!=null?n:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Rn.includesString,e.getGlobalFilterFn=()=>{var t,r;let{globalFilterFn:n}=e.options;return yc(n)?n:n==="auto"?e.getGlobalAutoFilterFn():(t=(r=e.options.filterFns)==null?void 0:r[n])!=null?t:Rn[n]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},fE={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:nr("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,r=!1;e._autoResetExpanded=()=>{var n,o;if(!t){e._queue(()=>{t=!0});return}if((n=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?n:!e.options.manualExpanding){if(r)return;r=!0,e._queue(()=>{e.resetExpanded(),r=!1})}},e.setExpanded=n=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(n),e.toggleAllRowsExpanded=n=>{n??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=n=>{var o,i;e.setExpanded(n?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{let n=e.getState().expanded;return n===!0||Object.values(n).some(Boolean)},e.getIsAllRowsExpanded=()=>{let n=e.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let n=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{let s=i.split(".");n=Math.max(n,s.length)}),n},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=r=>{t.setExpanded(n=>{var o;let i=n===!0?!0:!!(n!=null&&n[e.id]),s={};if(n===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=n,r=(o=r)!=null?o:!i,!i&&r)return{...s,[e.id]:!0};if(i&&!r){let{[e.id]:a,...l}=s;return l}return n})},e.getIsExpanded=()=>{var r;let n=t.getState().expanded;return!!((r=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?r:n===!0||n?.[e.id])},e.getCanExpand=()=>{var r,n,o;return(r=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?r:((n=t.options.enableExpanding)!=null?n:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let r=!0,n=e;for(;r&&n.parentId;)n=t.getRow(n.parentId,!0),r=n.getIsExpanded();return r},e.getToggleExpandedHandler=()=>{let r=e.getCanExpand();return()=>{r&&e.toggleExpanded()}}}},Gd=0,Hd=10,zd=()=>({pageIndex:Gd,pageSize:Hd}),mE={getInitialState:e=>({...e,pagination:{...zd(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:nr("pagination",e)}),createTable:e=>{let t=!1,r=!1;e._autoResetPageIndex=()=>{var n,o;if(!t){e._queue(()=>{t=!0});return}if((n=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?n:!e.options.manualPagination){if(r)return;r=!0,e._queue(()=>{e.resetPageIndex(),r=!1})}},e.setPagination=n=>{let o=i=>Qn(n,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=n=>{var o;e.setPagination(n?zd():(o=e.initialState.pagination)!=null?o:zd())},e.setPageIndex=n=>{e.setPagination(o=>{let i=Qn(n,o.pageIndex),s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,s)),{...o,pageIndex:i}})},e.resetPageIndex=n=>{var o,i;e.setPageIndex(n?Gd:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?o:Gd)},e.resetPageSize=n=>{var o,i;e.setPageSize(n?Hd:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?o:Hd)},e.setPageSize=n=>{e.setPagination(o=>{let i=Math.max(1,Qn(n,o.pageSize)),s=o.pageSize*o.pageIndex,a=Math.floor(s/i);return{...o,pageIndex:a,pageSize:i}})},e.setPageCount=n=>e.setPagination(o=>{var i;let s=Qn(n,(i=e.options.pageCount)!=null?i:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...o,pageCount:s}}),e.getPageOptions=ne(()=>[e.getPageCount()],n=>{let o=[];return n&&n>0&&(o=[...new Array(n)].fill(null).map((i,s)=>s)),o},oe(e.options,"debugTable","getPageOptions")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{let{pageIndex:n}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:n<o-1},e.previousPage=()=>e.setPageIndex(n=>n-1),e.nextPage=()=>e.setPageIndex(n=>n+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var n;return(n=e.options.pageCount)!=null?n:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var n;return(n=e.options.rowCount)!=null?n:e.getPrePaginationRowModel().rows.length}}},jd=()=>({top:[],bottom:[]}),pE={getInitialState:e=>({rowPinning:jd(),...e}),getDefaultOptions:e=>({onRowPinningChange:nr("rowPinning",e)}),createRow:(e,t)=>{e.pin=(r,n,o)=>{let i=n?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],s=o?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],a=new Set([...s,e.id,...i]);t.setRowPinning(l=>{var c,u;if(r==="bottom"){var d,m;return{top:((d=l?.top)!=null?d:[]).filter(p=>!(a!=null&&a.has(p))),bottom:[...((m=l?.bottom)!=null?m:[]).filter(p=>!(a!=null&&a.has(p))),...Array.from(a)]}}if(r==="top"){var f,h;return{top:[...((f=l?.top)!=null?f:[]).filter(p=>!(a!=null&&a.has(p))),...Array.from(a)],bottom:((h=l?.bottom)!=null?h:[]).filter(p=>!(a!=null&&a.has(p)))}}return{top:((c=l?.top)!=null?c:[]).filter(p=>!(a!=null&&a.has(p))),bottom:((u=l?.bottom)!=null?u:[]).filter(p=>!(a!=null&&a.has(p)))}})},e.getCanPin=()=>{var r;let{enableRowPinning:n,enablePinning:o}=t.options;return typeof n=="function"?n(e):(r=n??o)!=null?r:!0},e.getIsPinned=()=>{let r=[e.id],{top:n,bottom:o}=t.getState().rowPinning,i=r.some(a=>n?.includes(a)),s=r.some(a=>o?.includes(a));return i?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var r,n;let o=e.getIsPinned();if(!o)return-1;let i=(r=o==="top"?t.getTopRows():t.getBottomRows())==null?void 0:r.map(s=>{let{id:a}=s;return a});return(n=i?.indexOf(e.id))!=null?n:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var r,n;return e.setRowPinning(t?jd():(r=(n=e.initialState)==null?void 0:n.rowPinning)!=null?r:jd())},e.getIsSomeRowsPinned=t=>{var r;let n=e.getState().rowPinning;if(!t){var o,i;return!!((o=n.top)!=null&&o.length||(i=n.bottom)!=null&&i.length)}return!!((r=n[t])!=null&&r.length)},e._getPinnedRows=(t,r,n)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(r??[]).map(s=>{let a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(r??[]).map(s=>t.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:n}))},e.getTopRows=ne(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,r)=>e._getPinnedRows(t,r,"top"),oe(e.options,"debugRows","getTopRows")),e.getBottomRows=ne(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,r)=>e._getPinnedRows(t,r,"bottom"),oe(e.options,"debugRows","getBottomRows")),e.getCenterRows=ne(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,r,n)=>{let o=new Set([...r??[],...n??[]]);return t.filter(i=>!o.has(i.id))},oe(e.options,"debugRows","getCenterRows"))}},gE={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:nr("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var r;return e.setRowSelection(t?{}:(r=e.initialState.rowSelection)!=null?r:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(r=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();let n={...r},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(i=>{i.getCanSelect()&&(n[i.id]=!0)}):o.forEach(i=>{delete n[i.id]}),n})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(r=>{let n=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...r};return e.getRowModel().rows.forEach(i=>{Kd(o,i.id,n,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=ne(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,r)=>Object.keys(t).length?Ud(e,r):{rows:[],flatRows:[],rowsById:{}},oe(e.options,"debugTable","getSelectedRowModel")),e.getFilteredSelectedRowModel=ne(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,r)=>Object.keys(t).length?Ud(e,r):{rows:[],flatRows:[],rowsById:{}},oe(e.options,"debugTable","getFilteredSelectedRowModel")),e.getGroupedSelectedRowModel=ne(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,r)=>Object.keys(t).length?Ud(e,r):{rows:[],flatRows:[],rowsById:{}},oe(e.options,"debugTable","getGroupedSelectedRowModel")),e.getIsAllRowsSelected=()=>{let t=e.getFilteredRowModel().flatRows,{rowSelection:r}=e.getState(),n=!!(t.length&&Object.keys(r).length);return n&&t.some(o=>o.getCanSelect()&&!r[o.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{let t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:r}=e.getState(),n=!!t.length;return n&&t.some(o=>!r[o.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var t;let r=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return r>0&&r<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{let t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(r,n)=>{let o=e.getIsSelected();t.setRowSelection(i=>{var s;if(r=typeof r<"u"?r:!o,e.getCanSelect()&&o===r)return i;let a={...i};return Kd(a,e.id,r,(s=n?.selectChildren)!=null?s:!0,t),a})},e.getIsSelected=()=>{let{rowSelection:r}=t.getState();return Zd(e,r)},e.getIsSomeSelected=()=>{let{rowSelection:r}=t.getState();return Wd(e,r)==="some"},e.getIsAllSubRowsSelected=()=>{let{rowSelection:r}=t.getState();return Wd(e,r)==="all"},e.getCanSelect=()=>{var r;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(r=t.options.enableRowSelection)!=null?r:!0},e.getCanSelectSubRows=()=>{var r;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(r=t.options.enableSubRowSelection)!=null?r:!0},e.getCanMultiSelect=()=>{var r;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(r=t.options.enableMultiRowSelection)!=null?r:!0},e.getToggleSelectedHandler=()=>{let r=e.getCanSelect();return n=>{var o;r&&e.toggleSelected((o=n.target)==null?void 0:o.checked)}}}},Kd=(e,t,r,n,o)=>{var i;let s=o.getRow(t,!0);r?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[t]=!0)):delete e[t],n&&(i=s.subRows)!=null&&i.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>Kd(e,a.id,r,n,o))};function Ud(e,t){let r=e.getState().rowSelection,n=[],o={},i=function(s,a){return s.map(l=>{var c;let u=Zd(l,r);if(u&&(n.push(l),o[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:i(l.subRows)}),u)return l}).filter(Boolean)};return{rows:i(t.rows),flatRows:n,rowsById:o}}function Zd(e,t){var r;return(r=t[e.id])!=null?r:!1}function Wd(e,t,r){var n;if(!((n=e.subRows)!=null&&n.length))return!1;let o=!0,i=!1;return e.subRows.forEach(s=>{if(!(i&&!o)&&(s.getCanSelect()&&(Zd(s,t)?i=!0:o=!1),s.subRows&&s.subRows.length)){let a=Wd(s,t);a==="all"?i=!0:(a==="some"&&(i=!0),o=!1)}}),o?"all":i?"some":!1}var qd=/([0-9]+)/gm,hE=(e,t,r)=>oy(eo(e.getValue(r)).toLowerCase(),eo(t.getValue(r)).toLowerCase()),vE=(e,t,r)=>oy(eo(e.getValue(r)),eo(t.getValue(r))),yE=(e,t,r)=>Jd(eo(e.getValue(r)).toLowerCase(),eo(t.getValue(r)).toLowerCase()),bE=(e,t,r)=>Jd(eo(e.getValue(r)),eo(t.getValue(r))),xE=(e,t,r)=>{let n=e.getValue(r),o=t.getValue(r);return n>o?1:n<o?-1:0},wE=(e,t,r)=>Jd(e.getValue(r),t.getValue(r));function Jd(e,t){return e===t?0:e>t?1:-1}function eo(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function oy(e,t){let r=e.split(qd).filter(Boolean),n=t.split(qd).filter(Boolean);for(;r.length&&n.length;){let o=r.shift(),i=n.shift(),s=parseInt(o,10),a=parseInt(i,10),l=[s,a].sort();if(isNaN(l[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return r.length-n.length}var oa={alphanumeric:hE,alphanumericCaseSensitive:vE,text:yE,textCaseSensitive:bE,datetime:xE,basic:wE},SE={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:nr("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{let r=t.getFilteredRowModel().flatRows.slice(10),n=!1;for(let o of r){let i=o?.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return oa.datetime;if(typeof i=="string"&&(n=!0,i.split(qd).length>1))return oa.alphanumeric}return n?oa.text:oa.basic},e.getAutoSortDir=()=>{let r=t.getFilteredRowModel().flatRows[0];return typeof r?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var r,n;if(!e)throw new Error;return yc(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(r=(n=t.options.sortingFns)==null?void 0:n[e.columnDef.sortingFn])!=null?r:oa[e.columnDef.sortingFn]},e.toggleSorting=(r,n)=>{let o=e.getNextSortingOrder(),i=typeof r<"u"&&r!==null;t.setSorting(s=>{let a=s?.find(f=>f.id===e.id),l=s?.findIndex(f=>f.id===e.id),c=[],u,d=i?r:o==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&n?a?u="toggle":u="add":s!=null&&s.length&&l!==s.length-1?u="replace":a?u="toggle":u="replace",u==="toggle"&&(i||o||(u="remove")),u==="add"){var m;c=[...s,{id:e.id,desc:d}],c.splice(0,c.length-((m=t.options.maxMultiSortColCount)!=null?m:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=s.map(f=>f.id===e.id?{...f,desc:d}:f):u==="remove"?c=s.filter(f=>f.id!==e.id):c=[{id:e.id,desc:d}];return c})},e.getFirstSortDir=()=>{var r,n;return((r=(n=e.columnDef.sortDescFirst)!=null?n:t.options.sortDescFirst)!=null?r:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=r=>{var n,o;let i=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==i&&((n=t.options.enableSortingRemoval)==null||n)&&(!(r&&(o=t.options.enableMultiRemove)!=null)||o)?!1:s==="desc"?"asc":"desc":i},e.getCanSort=()=>{var r,n;return((r=e.columnDef.enableSorting)!=null?r:!0)&&((n=t.options.enableSorting)!=null?n:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var r,n;return(r=(n=e.columnDef.enableMultiSort)!=null?n:t.options.enableMultiSort)!=null?r:!!e.accessorFn},e.getIsSorted=()=>{var r;let n=(r=t.getState().sorting)==null?void 0:r.find(o=>o.id===e.id);return n?n.desc?"desc":"asc":!1},e.getSortIndex=()=>{var r,n;return(r=(n=t.getState().sorting)==null?void 0:n.findIndex(o=>o.id===e.id))!=null?r:-1},e.clearSorting=()=>{t.setSorting(r=>r!=null&&r.length?r.filter(n=>n.id!==e.id):[])},e.getToggleSortingHandler=()=>{let r=e.getCanSort();return n=>{r&&(n.persist==null||n.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(n):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var r,n;e.setSorting(t?[]:(r=(n=e.initialState)==null?void 0:n.sorting)!=null?r:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},CE=[GN,cE,oE,iE,HN,KN,uE,dE,SE,rE,fE,mE,pE,gE,aE];function iy(e){var t,r;let n=[...CE,...(t=e._features)!=null?t:[]],o={_features:n},i=o._features.reduce((m,f)=>Object.assign(m,f.getDefaultOptions==null?void 0:f.getDefaultOptions(o)),{}),s=m=>o.options.mergeOptions?o.options.mergeOptions(i,m):{...i,...m},l={...{},...(r=e.initialState)!=null?r:{}};o._features.forEach(m=>{var f;l=(f=m.getInitialState==null?void 0:m.getInitialState(l))!=null?f:l});let c=[],u=!1,d={_features:n,options:{...i,...e},initialState:l,_queue:m=>{c.push(m),u||(u=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();u=!1}).catch(f=>setTimeout(()=>{throw f})))},reset:()=>{o.setState(o.initialState)},setOptions:m=>{let f=Qn(m,o.options);o.options=s(f)},getState:()=>o.options.state,setState:m=>{o.options.onStateChange==null||o.options.onStateChange(m)},_getRowId:(m,f,h)=>{var p;return(p=o.options.getRowId==null?void 0:o.options.getRowId(m,f,h))!=null?p:`${h?[h.id,f].join("."):f}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(m,f)=>{let h=(f?o.getPrePaginationRowModel():o.getRowModel()).rowsById[m];if(!h&&(h=o.getCoreRowModel().rowsById[m],!h))throw new Error;return h},_getDefaultColumnDef:ne(()=>[o.options.defaultColumn],m=>{var f;return m=(f=m)!=null?f:{},{header:h=>{let p=h.header.column.columnDef;return p.accessorKey?p.accessorKey:p.accessorFn?p.id:null},cell:h=>{var p,g;return(p=(g=h.renderValue())==null||g.toString==null?void 0:g.toString())!=null?p:null},...o._features.reduce((h,p)=>Object.assign(h,p.getDefaultColumnDef==null?void 0:p.getDefaultColumnDef()),{}),...m}},oe(e,"debugColumns","_getDefaultColumnDef")),_getColumnDefs:()=>o.options.columns,getAllColumns:ne(()=>[o._getColumnDefs()],m=>{let f=function(h,p,g){return g===void 0&&(g=0),h.map(y=>{let v=UN(o,y,g,p),b=y;return v.columns=b.columns?f(b.columns,v,g+1):[],v})};return f(m)},oe(e,"debugColumns","getAllColumns")),getAllFlatColumns:ne(()=>[o.getAllColumns()],m=>m.flatMap(f=>f.getFlatColumns()),oe(e,"debugColumns","getAllFlatColumns")),_getAllFlatColumnsById:ne(()=>[o.getAllFlatColumns()],m=>m.reduce((f,h)=>(f[h.id]=h,f),{}),oe(e,"debugColumns","getAllFlatColumnsById")),getAllLeafColumns:ne(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(m,f)=>{let h=m.flatMap(p=>p.getLeafColumns());return f(h)},oe(e,"debugColumns","getAllLeafColumns")),getColumn:m=>o._getAllFlatColumnsById()[m]};Object.assign(o,d);for(let m=0;m<o._features.length;m++){let f=o._features[m];f==null||f.createTable==null||f.createTable(o)}return o}function sy(){return e=>ne(()=>[e.options.data],t=>{let r={rows:[],flatRows:[],rowsById:{}},n=function(o,i,s){i===void 0&&(i=0);let a=[];for(let c=0;c<o.length;c++){let u=Yd(e,e._getRowId(o[c],c,s),o[c],c,i,void 0,s?.id);if(r.flatRows.push(u),r.rowsById[u.id]=u,a.push(u),e.options.getSubRows){var l;u.originalSubRows=e.options.getSubRows(o[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=n(u.originalSubRows,i+1,u))}}return a};return r.rows=n(t),r},oe(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function RE(e){let t=[],r=n=>{var o;t.push(n),(o=n.subRows)!=null&&o.length&&n.getIsExpanded()&&n.subRows.forEach(r)};return e.rows.forEach(r),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function TE(e,t,r){return r.options.filterFromLeafRows?NE(e,t,r):EE(e,t,r)}function NE(e,t,r){var n;let o=[],i={},s=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,a=function(l,c){c===void 0&&(c=0);let u=[];for(let m=0;m<l.length;m++){var d;let f=l[m],h=Yd(r,f.id,f.original,f.index,f.depth,void 0,f.parentId);if(h.columnFilters=f.columnFilters,(d=f.subRows)!=null&&d.length&&c<s){if(h.subRows=a(f.subRows,c+1),f=h,t(f)&&!h.subRows.length){u.push(f),i[f.id]=f,o.push(f);continue}if(t(f)||h.subRows.length){u.push(f),i[f.id]=f,o.push(f);continue}}else f=h,t(f)&&(u.push(f),i[f.id]=f,o.push(f))}return u};return{rows:a(e),flatRows:o,rowsById:i}}function EE(e,t,r){var n;let o=[],i={},s=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,a=function(l,c){c===void 0&&(c=0);let u=[];for(let m=0;m<l.length;m++){let f=l[m];if(t(f)){var d;if((d=f.subRows)!=null&&d.length&&c<s){let p=Yd(r,f.id,f.original,f.index,f.depth,void 0,f.parentId);p.subRows=a(f.subRows,c+1),f=p}u.push(f),o.push(f),i[f.id]=f}}return u};return{rows:a(e),flatRows:o,rowsById:i}}function ay(){return e=>ne(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,r,n)=>{if(!t.rows.length||!(r!=null&&r.length)&&!n){for(let m=0;m<t.flatRows.length;m++)t.flatRows[m].columnFilters={},t.flatRows[m].columnFiltersMeta={};return t}let o=[],i=[];(r??[]).forEach(m=>{var f;let h=e.getColumn(m.id);if(!h)return;let p=h.getFilterFn();p&&o.push({id:m.id,filterFn:p,resolvedValue:(f=p.resolveFilterValue==null?void 0:p.resolveFilterValue(m.value))!=null?f:m.value})});let s=(r??[]).map(m=>m.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(m=>m.getCanGlobalFilter());n&&a&&l.length&&(s.push("__global__"),l.forEach(m=>{var f;i.push({id:m.id,filterFn:a,resolvedValue:(f=a.resolveFilterValue==null?void 0:a.resolveFilterValue(n))!=null?f:n})}));let c,u;for(let m=0;m<t.flatRows.length;m++){let f=t.flatRows[m];if(f.columnFilters={},o.length)for(let h=0;h<o.length;h++){c=o[h];let p=c.id;f.columnFilters[p]=c.filterFn(f,p,c.resolvedValue,g=>{f.columnFiltersMeta[p]=g})}if(i.length){for(let h=0;h<i.length;h++){u=i[h];let p=u.id;if(u.filterFn(f,p,u.resolvedValue,g=>{f.columnFiltersMeta[p]=g})){f.columnFilters.__global__=!0;break}}f.columnFilters.__global__!==!0&&(f.columnFilters.__global__=!1)}}let d=m=>{for(let f=0;f<s.length;f++)if(m.columnFilters[s[f]]===!1)return!1;return!0};return TE(t.rows,d,e)},oe(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function ly(e){return t=>ne(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(r,n)=>{if(!n.rows.length)return n;let{pageSize:o,pageIndex:i}=r,{rows:s,flatRows:a,rowsById:l}=n,c=o*i,u=c+o;s=s.slice(c,u);let d;t.options.paginateExpandedRows?d={rows:s,flatRows:a,rowsById:l}:d=RE({rows:s,flatRows:a,rowsById:l}),d.flatRows=[];let m=f=>{d.flatRows.push(f),f.subRows.length&&f.subRows.forEach(m)};return d.rows.forEach(m),d},oe(t.options,"debugTable","getPaginationRowModel"))}function cy(){return e=>ne(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,r)=>{if(!r.rows.length||!(t!=null&&t.length))return r;let n=e.getState().sorting,o=[],i=n.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),s={};i.forEach(l=>{let c=e.getColumn(l.id);c&&(s[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});let a=l=>{let c=l.map(u=>({...u}));return c.sort((u,d)=>{for(let f=0;f<i.length;f+=1){var m;let h=i[f],p=s[h.id],g=p.sortUndefined,y=(m=h?.desc)!=null?m:!1,v=0;if(g){let b=u.getValue(h.id),w=d.getValue(h.id),x=b===void 0,S=w===void 0;if(x||S){if(g==="first")return x?-1:1;if(g==="last")return x?1:-1;v=x&&S?0:x?g:-g}}if(v===0&&(v=p.sortingFn(u,d,h.id)),v!==0)return y&&(v*=-1),p.invertSorting&&(v*=-1),v}return u.index-d.index}),c.forEach(u=>{var d;o.push(u),(d=u.subRows)!=null&&d.length&&(u.subRows=a(u.subRows))}),c};return{rows:a(r.rows),flatRows:o,rowsById:r.rowsById}},oe(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function bc(e,t){return e?PE(e)?sa.createElement(e,t):e:null}function PE(e){return AE(e)||typeof e=="function"||DE(e)}function AE(e){return typeof e=="function"&&(()=>{let t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function DE(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function uy(e){let t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[r]=sa.useState(()=>({current:iy(t)})),[n,o]=sa.useState(()=>r.current.initialState);return r.current.setOptions(i=>({...i,...e,state:{...n,...e.state},onStateChange:s=>{o(s),e.onStateChange==null||e.onStateChange(s)}})),r.current}import{Table as iP,Loader2 as sP}from"lucide-react";function ME(e){return e.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/^\s+/,"").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function kE(e){let t=e.constructor.name;return t==="ZodOptional"||t==="ZodNullable"||t==="ZodDefault"||t==="$ZodOptional"||t==="$ZodNullable"||t==="$ZodDefault"}function Qd(e){let t=e,r=!0;for(;kE(t);){r=!1;let n=t._def?.innerType;if(n)t=n;else break}return{inner:t,required:r}}function IE(e){let{inner:t}=Qd(e),r=t.constructor.name;return r.includes("String")?"string":r.includes("Number")?"number":r.includes("Boolean")?"boolean":r.includes("Date")?"date":r.includes("Enum")||r.includes("NativeEnum")?"enum":r.includes("Array")?"array":r.includes("Object")?"object":"string"}function FE(e){let{inner:t}=Qd(e);if(t.constructor.name.includes("Enum")){let n=t._def;if(n?.values)return[...n.values]}}function VE(e){return e._def?.description}function BE(e,t){let{required:r}=Qd(t),n=VE(t),o=IE(t),i=o==="enum"?FE(t):void 0;return{name:e,type:o,label:ME(e),description:n,required:r,validation:i?{options:i}:void 0}}function Fi(e){let t=[],r=e._def,n=r?.shape||{},o=r?.description;for(let[i,s]of Object.entries(n))t.push(BE(i,s));return{name:o||"Object",description:o,fields:t}}import*as aa from"react";var OE=Lt(""),_E=Lt([]),LE=Lt([]),$E=Lt({pageIndex:0,pageSize:10}),zE=Lt({}),jE=Lt({});function dy({data:e,columns:t,enableSorting:r=!0,enableFiltering:n=!0,enablePagination:o=!0,enableRowSelection:i=!1,enableMultiRowSelection:s=!0,pageSize:a=10,pageSizeOptions:l=[10,20,50,100],getRowId:c}){let[u,d]=$t(_E),[m,f]=$t(LE),[h,p]=$t(OE),[g,y]=$t($E),[v,b]=$t(zE),[w,x]=$t(jE);aa.useEffect(()=>{y(F=>({...F,pageSize:a}))},[a,y]);let S=uy({data:e,columns:t,state:{sorting:u,columnFilters:m,globalFilter:h,pagination:g,rowSelection:v,columnVisibility:w},onSortingChange:d,onColumnFiltersChange:f,onGlobalFilterChange:p,onPaginationChange:y,onRowSelectionChange:b,onColumnVisibilityChange:x,getCoreRowModel:sy(),...r&&{getSortedRowModel:cy()},...n&&{getFilteredRowModel:ay()},...o&&{getPaginationRowModel:ly()},enableSorting:r,enableFilters:n,enableRowSelection:i,enableMultiRowSelection:s,getRowId:c}),R=S.getFilteredRowModel().rows,N=aa.useMemo(()=>S.getSelectedRowModel().rows.map(F=>F.original),[S,v]);return{table:S,sorting:{state:u,set:d,toggle:F=>{let E=S.getColumn(F);E&&E.toggleSorting()},clear:()=>d([])},filtering:{global:h,setGlobal:p,columns:m,setColumn:(F,E)=>{f(A=>A.find(k=>k.id===F)?A.map(k=>k.id===F?{...k,value:E}:k):[...A,{id:F,value:E}])},clear:()=>{p(""),f([])}},pagination:{pageIndex:g.pageIndex,pageSize:g.pageSize,pageCount:S.getPageCount(),canPreviousPage:S.getCanPreviousPage(),canNextPage:S.getCanNextPage(),goToPage:F=>S.setPageIndex(F),nextPage:()=>S.nextPage(),previousPage:()=>S.previousPage(),setPageSize:F=>S.setPageSize(F),pageSizeOptions:l},selection:{state:v,selectedRows:N,isAllSelected:S.getIsAllRowsSelected(),isSomeSelected:S.getIsSomeRowsSelected(),toggleRow:F=>{let E=S.getRow(F);E&&E.toggleSelected()},toggleAll:()=>S.toggleAllRowsSelected(),clear:()=>b({})},meta:{totalRows:e.length,filteredRows:R.length,visibleRows:S.getRowModel().rows.length,isEmpty:e.length===0}}}import{ArrowUpDown as UE,ArrowUp as GE,ArrowDown as HE}from"lucide-react";import{jsx as or,jsxs as tf}from"react/jsx-runtime";function KE({isSorted:e,canSort:t}){return t?tf("span",{className:"ml-1.5 inline-flex items-center",children:[e===!1&&or(UE,{className:"h-3.5 w-3.5 text-text-muted opacity-50 group-hover:opacity-100 transition-opacity"}),e==="asc"&&or(Z.span,{initial:{opacity:0,y:2},animate:{opacity:1,y:0},transition:{duration:.15},children:or(GE,{className:"h-3.5 w-3.5 text-text-primary"})}),e==="desc"&&or(Z.span,{initial:{opacity:0,y:-2},animate:{opacity:1,y:0},transition:{duration:.15},children:or(HE,{className:"h-3.5 w-3.5 text-text-primary"})})]}):null}function WE({header:e}){let t=e.column.getCanSort(),r=e.column.getIsSorted();return or("th",{colSpan:e.colSpan,className:T("px-4 py-3 text-left text-label font-medium","bg-surface-subtle border-b border-default",t&&"cursor-pointer select-none group hover:bg-surface-hover transition-colors"),onClick:t?e.column.getToggleSortingHandler():void 0,"aria-sort":r==="asc"?"ascending":r==="desc"?"descending":void 0,children:e.isPlaceholder?null:tf("div",{className:"flex items-center",children:[or("span",{className:"text-text-secondary",children:bc(e.column.columnDef.header,e.getContext())}),or(KE,{isSorted:r,canSort:t})]})},e.id)}function qE({table:e}){let t=e.getIsAllPageRowsSelected(),r=e.getIsSomePageRowsSelected();return or("th",{className:"w-12 px-4 py-3 bg-surface-subtle border-b border-default",children:or("input",{type:"checkbox",checked:t,ref:n=>{n&&(n.indeterminate=r&&!t)},onChange:e.getToggleAllPageRowsSelectedHandler(),className:T("h-4 w-4 rounded border-border-default","text-accent-primary focus:ring-accent-primary focus:ring-offset-0","cursor-pointer"),"aria-label":"Select all rows"})})}function ef({table:e,enableSelection:t=!1,className:r}){return or("thead",{className:r,children:e.getHeaderGroups().map(n=>tf("tr",{children:[t&&or(qE,{table:e}),n.headers.map(o=>or(WE,{header:o},o.id))]},n.id))})}ef.displayName="BioTableHeader";import*as tn from"react";import{Search as YE,X as rf,Filter as XE}from"lucide-react";import{jsx as br,jsxs as to}from"react/jsx-runtime";function fy({value:e,onChange:t,placeholder:r="Search...",className:n,debounceMs:o=300}){let[i,s]=tn.useState(e),a=tn.useRef(null);tn.useEffect(()=>{let c=setTimeout(()=>{t(i)},o);return()=>clearTimeout(c)},[i,t,o]),tn.useEffect(()=>{s(e)},[e]);let l=()=>{s(""),t(""),a.current?.focus()};return to("div",{className:T("relative",n),children:[br(YE,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-text-muted"}),br("input",{ref:a,type:"text",value:i,onChange:c=>s(c.target.value),placeholder:r,className:T("w-full pl-9 pr-9 py-2 rounded-lg","bg-surface-subtle border border-default","text-body text-text-primary placeholder:text-text-muted","focus:outline-none focus:ring-2 focus:ring-accent-primary/30 focus:border-accent-primary","transition-colors")}),br(we,{children:i&&br(Z.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},onClick:l,className:T("absolute right-2 top-1/2 -translate-y-1/2","p-1 rounded-full hover:bg-surface-hover","text-text-muted hover:text-text-secondary","transition-colors"),"aria-label":"Clear search",children:br(rf,{className:"h-4 w-4"})})})]})}function ZE({column:e,placeholder:t,className:r}){let n=e.getFilterValue(),[o,i]=tn.useState(n??"");tn.useEffect(()=>{let a=setTimeout(()=>{e.setFilterValue(o||void 0)},300);return()=>clearTimeout(a)},[o,e]),tn.useEffect(()=>{i(n??"")},[n]);let s=typeof e.columnDef.header=="string"?e.columnDef.header:e.id;return br("input",{type:"text",value:o,onChange:a=>i(a.target.value),placeholder:t??`Filter ${s}...`,className:T("w-full px-2 py-1 rounded","bg-surface-base border border-default","text-small text-text-primary placeholder:text-text-muted","focus:outline-none focus:ring-1 focus:ring-accent-primary/30 focus:border-accent-primary","transition-colors",r)})}function nf({table:e,globalFilter:t,onGlobalFilterChange:r,onClearFilters:n,searchPlaceholder:o="Search all columns...",showResultCount:i=!0,className:s}){let a=e.getState().columnFilters,l=t||a.length>0,c=e.getFilteredRowModel().rows.length,u=e.getCoreRowModel().rows.length,d=c!==u;return to("div",{className:T("flex flex-col gap-3",s),children:[to("div",{className:"flex items-center gap-3",children:[br(fy,{value:t,onChange:r,placeholder:o,className:"flex-1 max-w-sm"}),br(we,{children:l&&to(Z.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.15},onClick:n,className:T("flex items-center gap-1.5 px-3 py-2 rounded-lg","bg-surface-subtle hover:bg-surface-hover","text-small text-text-secondary hover:text-text-primary","border border-default","transition-colors"),children:[br(rf,{className:"h-3.5 w-3.5"}),"Clear filters"]})})]}),to("div",{className:"flex items-center gap-2 flex-wrap",children:[a.map(m=>to(Z.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:T("inline-flex items-center gap-1 px-2 py-1 rounded-full","bg-accent-primary/10 text-accent-primary","text-small font-medium"),children:[br(XE,{className:"h-3 w-3"}),to("span",{children:[m.id,": ",String(m.value)]}),br("button",{onClick:()=>e.getColumn(m.id)?.setFilterValue(void 0),className:"hover:bg-accent-primary/20 rounded-full p-0.5 transition-colors","aria-label":`Clear ${m.id} filter`,children:br(rf,{className:"h-3 w-3"})})]},m.id)),i&&d&&to(L,{variant:"caption",color:"secondary",className:"ml-auto",children:["Showing ",c," of ",u," results"]})]})]})}fy.displayName="BioTableGlobalFilter";ZE.displayName="BioTableColumnFilter";nf.displayName="BioTableFilterBar";import{ChevronLeft as JE,ChevronRight as QE,ChevronsLeft as eP,ChevronsRight as tP}from"lucide-react";import{Fragment as oP,jsx as et,jsxs as la}from"react/jsx-runtime";function xc({onClick:e,disabled:t,children:r,ariaLabel:n}){return et("button",{onClick:e,disabled:t,"aria-label":n,className:T("p-2 rounded-lg transition-colors","border border-default",t?"bg-surface-subtle text-text-disabled cursor-not-allowed":"bg-surface-base text-text-secondary hover:bg-surface-hover hover:text-text-primary"),children:r})}function rP({page:e,isActive:t,onClick:r}){return et("button",{onClick:r,"aria-current":t?"page":void 0,className:T("min-w-[36px] h-9 px-3 rounded-lg transition-colors","text-small font-medium",t?"bg-accent-primary text-white":"bg-surface-base text-text-secondary hover:bg-surface-hover hover:text-text-primary border border-default"),children:e})}function nP(e,t,r=5){if(t<=r)return Array.from({length:t},(a,l)=>l+1);let n=[],o=Math.floor(r/2),i=Math.max(1,e-o),s=Math.min(t,i+r-1);s-i<r-1&&(i=Math.max(1,s-r+1)),i>1&&(n.push(1),i>2&&n.push("ellipsis"));for(let a=i;a<=s;a++)n.push(a);return s<t&&(s<t-1&&n.push("ellipsis"),n.push(t)),n}function of({pageIndex:e,pageSize:t,pageCount:r,totalRows:n,canPreviousPage:o,canNextPage:i,onPageChange:s,onNextPage:a,onPreviousPage:l,onPageSizeChange:c,pageSizeOptions:u=[10,20,50,100],showPageSize:d=!0,showPageNumbers:m=!0,showResultInfo:f=!0,className:h}){let p=e+1,g=e*t+1,y=Math.min((e+1)*t,n),v=nP(p,r);return la("div",{className:T("flex flex-col sm:flex-row items-center justify-between gap-4","px-4 py-3 border-t border-default bg-surface-subtle",h),children:[la("div",{className:"flex items-center gap-4",children:[f&&et(L,{variant:"caption",color:"secondary",children:n===0?"No results":la(oP,{children:["Showing ",et("span",{className:"font-medium text-text-primary",children:g})," ","to"," ",et("span",{className:"font-medium text-text-primary",children:y})," ","of"," ",et("span",{className:"font-medium text-text-primary",children:n})]})}),d&&la("div",{className:"flex items-center gap-2",children:[et(L,{variant:"caption",color:"secondary",children:"Rows per page:"}),et("select",{value:t,onChange:b=>c(Number(b.target.value)),className:T("px-2 py-1 rounded-lg","bg-surface-base border border-default","text-small text-text-primary","focus:outline-none focus:ring-2 focus:ring-accent-primary/30 focus:border-accent-primary","cursor-pointer"),children:u.map(b=>et("option",{value:b,children:b},b))})]})]}),la("div",{className:"flex items-center gap-1",children:[et(xc,{onClick:()=>s(0),disabled:!o,ariaLabel:"Go to first page",children:et(eP,{className:"h-4 w-4"})}),et(xc,{onClick:l,disabled:!o,ariaLabel:"Go to previous page",children:et(JE,{className:"h-4 w-4"})}),m&&r>0&&et("div",{className:"flex items-center gap-1 mx-1",children:v.map((b,w)=>b==="ellipsis"?et("span",{className:"px-2 text-text-muted",children:"\u2026"},`ellipsis-${w}`):et(rP,{page:b,isActive:b===p,onClick:()=>s(b-1)},b))}),et(xc,{onClick:a,disabled:!i,ariaLabel:"Go to next page",children:et(QE,{className:"h-4 w-4"})}),et(xc,{onClick:()=>s(r-1),disabled:!i,ariaLabel:"Go to last page",children:et(tP,{className:"h-4 w-4"})})]})]})}of.displayName="BioTablePagination";import{jsx as Be,jsxs as ca}from"react/jsx-runtime";function aP(e,t){return["status","state","phase","stage"].some(n=>e.toLowerCase().includes(n))&&typeof t=="string"}function lP(e,t,r){if(t==null)return Be("span",{className:"text-text-disabled",children:"\u2014"});if(aP(e,t))return Be(nc,{status:t,size:"sm"});switch(r){case"boolean":return Be("span",{className:t?"text-status-success":"text-text-secondary",children:t?"Yes":"No"});case"date":return t instanceof Date?t.toLocaleDateString():typeof t=="string"?new Date(t).toLocaleDateString():String(t);case"number":return typeof t=="number"?Be("span",{className:"tabular-nums",children:t.toLocaleString()}):String(t);case"array":return Array.isArray(t)?t.length>0?t.join(", "):"\u2014":String(t);case"object":return Be("span",{className:"text-text-tertiary",children:"[Object]"});case"enum":return Be("span",{className:"px-2 py-0.5 text-small bg-surface-subtle rounded",children:String(t)});default:return String(t)}}function cP(e,t,r){let n=e;if(t&&t.length>0){let o=new Set(t.map(String));n=n.filter(i=>o.has(i.name))}if(r&&r.length>0){let o=new Set(r.map(String));n=n.filter(i=>!o.has(i.name))}return n.map(o=>({id:o.name,accessorKey:o.name,header:o.label,cell:({getValue:i})=>lP(o.name,i(),o.type),enableSorting:!0,enableColumnFilter:!0}))}function uP({schema:e,data:t,title:r,showTitle:n=!0,include:o,exclude:i,keyField:s,enableSorting:a=!0,enableFiltering:l=!0,enablePagination:c=!0,enableSelection:u=!1,onRowClick:d,onSelectionChange:m,loading:f=!1,error:h=null,emptyMessage:p="No data available",pageSize:g=10,pageSizeOptions:y=[10,20,50,100],className:v}){let b=ua.useMemo(()=>Fi(e),[e]),w=ua.useMemo(()=>cP(b.fields,o,i),[b.fields,o,i]),{table:x,sorting:S,filtering:R,pagination:N,selection:F,meta:E}=dy({data:t,columns:w,enableSorting:a,enableFiltering:l,enablePagination:c,enableRowSelection:u,pageSize:g,pageSizeOptions:y,getRowId:s?D=>String(D[s]):void 0});ua.useEffect(()=>{m&&m(F.selectedRows)},[F.selectedRows,m]);let A=r||(b.name!=="Object"?b.name:void 0);return h?Be(le,{padding:"lg",className:v,children:Be("div",{className:"text-center py-8",children:ca(L,{variant:"body",color:"danger",children:["Error: ",h.message]})})}):f?Be(le,{padding:"lg",className:T("overflow-hidden",v),children:Be("div",{className:"flex items-center justify-center py-16",children:Be(sP,{className:"h-8 w-8 animate-spin text-text-muted"})})}):E.isEmpty?Be(sc,{icon:iP,title:"No data",description:p,className:v}):ca(le,{padding:"none",className:T("overflow-hidden",v),"data-testid":"bio-table",children:[n&&A||l?ca("div",{className:"px-6 py-4 border-b border-default space-y-4",children:[n&&A&&Be(L,{variant:"subheading",as:"h3",children:A}),l&&Be(nf,{table:x,globalFilter:R.global,onGlobalFilterChange:R.setGlobal,onClearFilters:R.clear})]}):null,Be("div",{className:"overflow-x-auto",children:ca("table",{className:"w-full",children:[Be(ef,{table:x,enableSelection:u}),Be("tbody",{className:"divide-y divide-border-subtle",children:Be(we,{mode:"popLayout",children:x.getRowModel().rows.map((D,k)=>ca(Z.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15,delay:k*.02},onClick:()=>d?.(D.original,D.index),className:T("transition-colors",d&&"cursor-pointer hover:bg-surface-hover",D.getIsSelected()&&"bg-accent-primary/5"),children:[u&&Be("td",{className:"w-12 px-4 py-3",children:Be("input",{type:"checkbox",checked:D.getIsSelected(),disabled:!D.getCanSelect(),onChange:D.getToggleSelectedHandler(),className:T("h-4 w-4 rounded border-border-default","text-accent-primary focus:ring-accent-primary focus:ring-offset-0","cursor-pointer"),"aria-label":`Select row ${D.index+1}`})}),D.getVisibleCells().map(O=>Be("td",{className:"px-4 py-3 text-body text-text-primary",children:bc(O.column.columnDef.cell,O.getContext())},O.id))]},D.id))})})]})}),c&&Be(of,{pageIndex:N.pageIndex,pageSize:N.pageSize,pageCount:N.pageCount,totalRows:E.filteredRows,canPreviousPage:N.canPreviousPage,canNextPage:N.canNextPage,onPageChange:N.goToPage,onNextPage:N.nextPage,onPreviousPage:N.previousPage,onPageSizeChange:N.setPageSize,pageSizeOptions:y})]})}function sf(e){return Be(Kv,{children:Be(uP,{...e})})}sf.displayName="BioTable";import*as be from"react";import{jsx as fP}from"react/jsx-runtime";var ro={locale:"en-US",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",currency:"USD",weekStartsOn:0,dateStyle:"medium",timeStyle:"short",numberFormat:{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0}},dP=new Set(["ar","he","fa","ur","yi","ps","sd"]),my=be.createContext(null);function af({children:e,locale:t=ro.locale,timezone:r=ro.timezone,currency:n=ro.currency,weekStartsOn:o=ro.weekStartsOn,dateStyle:i=ro.dateStyle,timeStyle:s=ro.timeStyle}){let[a,l]=be.useState({...ro,locale:t,timezone:r,currency:n,weekStartsOn:o,dateStyle:i,timeStyle:s});be.useEffect(()=>{l(O=>({...O,locale:t,timezone:r,currency:n,weekStartsOn:o,dateStyle:i,timeStyle:s}))},[t,r,n,o,i,s]);let c=be.useMemo(()=>new Intl.DateTimeFormat(a.locale,{dateStyle:a.dateStyle,timeZone:a.timezone}),[a.locale,a.dateStyle,a.timezone]),u=be.useMemo(()=>new Intl.DateTimeFormat(a.locale,{timeStyle:a.timeStyle,timeZone:a.timezone}),[a.locale,a.timeStyle,a.timezone]),d=be.useMemo(()=>new Intl.DateTimeFormat(a.locale,{dateStyle:a.dateStyle,timeStyle:a.timeStyle,timeZone:a.timezone}),[a.locale,a.dateStyle,a.timeStyle,a.timezone]),m=be.useMemo(()=>new Intl.NumberFormat(a.locale,a.numberFormat),[a.locale,a.numberFormat]),f=be.useMemo(()=>new Intl.NumberFormat(a.locale,{style:"currency",currency:a.currency}),[a.locale,a.currency]),h=be.useMemo(()=>new Intl.RelativeTimeFormat(a.locale,{numeric:"auto"}),[a.locale]),p=be.useCallback(O=>O instanceof Date?O:new Date(O),[]),g=be.useCallback((O,M)=>{let _=p(O);return M?new Intl.DateTimeFormat(a.locale,{...M,timeZone:a.timezone}).format(_):c.format(_)},[a.locale,a.timezone,c,p]),y=be.useCallback((O,M)=>{let _=p(O);return M?new Intl.DateTimeFormat(a.locale,{...M,timeZone:a.timezone}).format(_):u.format(_)},[a.locale,a.timezone,u,p]),v=be.useCallback((O,M)=>{let _=p(O);return M?new Intl.DateTimeFormat(a.locale,{...M,timeZone:a.timezone}).format(_):d.format(_)},[a.locale,a.timezone,d,p]),b=be.useCallback(O=>{let M=p(O),_=new Date,B=M.getTime()-_.getTime(),X=Math.round(B/1e3),$=Math.round(X/60),z=Math.round($/60),se=Math.round(z/24),I=Math.round(se/7),U=Math.round(se/30),W=Math.round(se/365);return Math.abs(X)<60?h.format(X,"second"):Math.abs($)<60?h.format($,"minute"):Math.abs(z)<24?h.format(z,"hour"):Math.abs(se)<7?h.format(se,"day"):Math.abs(I)<4?h.format(I,"week"):Math.abs(U)<12?h.format(U,"month"):h.format(W,"year")},[h,p]),w=be.useCallback((O,M)=>M?new Intl.NumberFormat(a.locale,M).format(O):m.format(O),[a.locale,m]),x=be.useCallback((O,M)=>M&&M!==a.currency?new Intl.NumberFormat(a.locale,{style:"currency",currency:M}).format(O):f.format(O),[a.locale,a.currency,f]),S=be.useCallback((O,M=0)=>new Intl.NumberFormat(a.locale,{style:"percent",minimumFractionDigits:M,maximumFractionDigits:M}).format(O),[a.locale]),R=be.useCallback(O=>{let M=new Date(O);return isNaN(M.getTime())?null:M},[]),N=be.useCallback(O=>{let M=p(O),B=new Intl.DateTimeFormat("en-US",{timeZone:a.timezone,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(M),X=$=>B.find(z=>z.type===$)?.value||"0";return new Date(parseInt(X("year")),parseInt(X("month"))-1,parseInt(X("day")),parseInt(X("hour")),parseInt(X("minute")),parseInt(X("second")))},[a.timezone,p]),F=be.useCallback((O="short")=>{let M=new Intl.DateTimeFormat(a.locale,{weekday:O}),_=[];for(let B=0;B<7;B++)_.push(M.format(new Date(1970,0,4+B)));return a.weekStartsOn===1&&_.push(_.shift()),_},[a.locale,a.weekStartsOn]),E=be.useCallback((O="long")=>{let M=new Intl.DateTimeFormat(a.locale,{month:O});return Array.from({length:12},(_,B)=>M.format(new Date(2024,B,1)))},[a.locale]),A=be.useMemo(()=>{let O=a.locale.split("-")[0];return dP.has(O)},[a.locale]),D=be.useCallback(O=>{l(M=>({...M,...O}))},[]),k=be.useMemo(()=>({...a,formatDate:g,formatTime:y,formatDateTime:v,formatRelativeTime:b,formatNumber:w,formatCurrency:x,formatPercent:S,parseDate:R,toTimezone:N,getDayNames:F,getMonthNames:E,isRTL:A,setLocaleConfig:D}),[a,g,y,v,b,w,x,S,R,N,F,E,A,D]);return fP(my.Provider,{value:k,children:e})}af.displayName="BioLocaleProvider";function no(){let e=be.useContext(my);if(!e){let t=ro;return{...t,formatDate:r=>new Date(r).toLocaleDateString(t.locale),formatTime:r=>new Date(r).toLocaleTimeString(t.locale),formatDateTime:r=>new Date(r).toLocaleString(t.locale),formatRelativeTime:r=>new Date(r).toLocaleDateString(t.locale),formatNumber:r=>r.toLocaleString(t.locale),formatCurrency:r=>new Intl.NumberFormat(t.locale,{style:"currency",currency:t.currency}).format(r),formatPercent:r=>`${(r*100).toFixed(0)}%`,parseDate:r=>new Date(r),toTimezone:r=>new Date(r),getDayNames:()=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],getMonthNames:()=>["January","February","March","April","May","June","July","August","September","October","November","December"],isRTL:!1,setLocaleConfig:()=>{}}}return e}import{Fragment as oo,jsx as Tn}from"react/jsx-runtime";function py(e){let t=({fieldName:r,forceHidden:n,forceReadonly:o,forceRequired:i,...s})=>{let{getFieldRules:a}=vr(),l=r?a(r):{},c=n??l.hidden,u=o??l.readonly,d=i??l.required;if(c)return null;let m={...s,disabled:u||s.disabled,readOnly:u||s.readOnly,required:d||s.required,"aria-readonly":u||void 0,__securityRules:l,__isSecured:!0};return Tn(e,{...m})};return t.displayName=`withFieldSecurity(${e.displayName||e.name||"Component"})`,t}function lf(e){let{getFieldRules:t}=vr(),r=t(e);return{...r,isHidden:r.hidden??!1,isReadonly:r.readonly??!1,isRequired:r.required??!1}}function cf({fieldName:e,children:t,fallback:r=null}){let{isHidden:n}=lf(e);return n?Tn(oo,{children:r}):Tn(oo,{children:t})}cf.displayName="SecuredField";function uf({permission:e,requireAll:t=!1,children:r,fallback:n=null}){let{can:o,canAll:i,canAny:s}=vr(),a=Array.isArray(e)?e:[e];return(t?i(...a):s(...a))?Tn(oo,{children:r}):Tn(oo,{children:n})}uf.displayName="ActionGate";function df({role:e,requireAll:t=!1,children:r,fallback:n=null}){let{hasRole:o,hasAnyRole:i}=vr(),s=Array.isArray(e)?e:[e];return(t?s.every(l=>o(l)):i(...s))?Tn(oo,{children:r}):Tn(oo,{children:n})}df.displayName="RoleGate";function ff({state:e,action:t,children:r,fallback:n=null}){let{canActInState:o}=vr();return o(e,t)?Tn(oo,{children:r}):Tn(oo,{children:n})}ff.displayName="StateGate";import*as rn from"react";function gy(e){let{audit:t}=vr(),r=rn.useCallback((d,m)=>{t({action:"create",resource:e,newValue:d,metadata:m})},[t,e]),n=rn.useCallback((d,m)=>{t({action:"read",resource:e,resourceId:d,metadata:m})},[t,e]),o=rn.useCallback((d,m,f,h)=>{t({action:"update",resource:e,resourceId:d,previousValue:m,newValue:f,metadata:h})},[t,e]),i=rn.useCallback((d,m,f)=>{t({action:"delete",resource:e,resourceId:d,previousValue:m,metadata:f})},[t,e]),s=rn.useCallback((d,m)=>{t({action:"submit",resource:e,resourceId:d,metadata:m})},[t,e]),a=rn.useCallback((d,m)=>{t({action:"approve",resource:e,resourceId:d,metadata:m})},[t,e]),l=rn.useCallback((d,m,f)=>{t({action:"reject",resource:e,resourceId:d,metadata:{...f,reason:m}})},[t,e]),c=rn.useCallback((d,m,f,h)=>{t({action:"custom",resource:e,resourceId:d,previousValue:m,newValue:f,metadata:{...h,type:"state_change"}})},[t,e]),u=rn.useCallback((d,m,f,h)=>{t({action:"custom",resource:e,resourceId:m,newValue:f,metadata:{...h,customAction:d}})},[t,e]);return{create:r,read:n,update:o,delete:i,submit:s,approve:a,reject:l,stateChange:c,custom:u}}import*as Gy from"react";import{AlertCircle as Uy,CheckCircle as YP,Loader2 as XP}from"lucide-react";import*as _i from"react";import ir from"react";var pa=e=>e.type==="checkbox",Vo=e=>e instanceof Date,Xt=e=>e==null,Py=e=>typeof e=="object",rt=e=>!Xt(e)&&!Array.isArray(e)&&Py(e)&&!Vo(e),mP=e=>rt(e)&&e.target?pa(e.target)?e.target.checked:e.target.value:e,pP=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gP=(e,t)=>e.has(pP(t)),hP=e=>{let t=e.constructor&&e.constructor.prototype;return rt(t)&&t.hasOwnProperty("isPrototypeOf")},hf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wt(e){let t,r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(hf&&(e instanceof Blob||n))&&(r||rt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!hP(e))t=e;else for(let o in e)e.hasOwnProperty(o)&&(t[o]=wt(e[o]));else return e;return t}var Cc=e=>/^\w*$/.test(e),We=e=>e===void 0,vf=e=>Array.isArray(e)?e.filter(Boolean):[],yf=e=>vf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),J=(e,t,r)=>{if(!t||!rt(e))return r;let n=(Cc(t)?[t]:yf(t)).reduce((o,i)=>Xt(o)?o:o[i],e);return We(n)||n===e?We(e[t])?r:e[t]:n},nn=e=>typeof e=="boolean",Se=(e,t,r)=>{let n=-1,o=Cc(t)?[t]:yf(t),i=o.length,s=i-1;for(;++n<i;){let a=o[n],l=r;if(n!==s){let c=e[a];l=rt(c)||Array.isArray(c)?c:isNaN(+o[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}},hy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$r={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Nn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vP=ir.createContext(null);vP.displayName="HookFormContext";var yP=(e,t,r,n=!0)=>{let o={defaultValues:t._defaultValues};for(let i in e)Object.defineProperty(o,i,{get:()=>{let s=i;return t._proxyFormState[s]!==$r.all&&(t._proxyFormState[s]=!n||$r.all),r&&(r[s]=!0),e[s]}});return o},bP=typeof window<"u"?ir.useLayoutEffect:ir.useEffect;var sr=e=>typeof e=="string",xP=(e,t,r,n,o)=>sr(e)?(n&&t.watch.add(e),J(r,e,o)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),J(r,i))):(n&&(t.watchAll=!0),r),pf=e=>Xt(e)||!Py(e);function io(e,t,r=new WeakSet){if(pf(e)||pf(t))return Object.is(e,t);if(Vo(e)&&Vo(t))return e.getTime()===t.getTime();let n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(let i of n){let s=e[i];if(!o.includes(i))return!1;if(i!=="ref"){let a=t[i];if(Vo(s)&&Vo(a)||rt(s)&&rt(a)||Array.isArray(s)&&Array.isArray(a)?!io(s,a,r):!Object.is(s,a))return!1}}return!0}var Rc=(e,t,r,n,o)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:o||!0}}:{},fa=e=>Array.isArray(e)?e:[e],vy=()=>{let e=[];return{get observers(){return e},next:o=>{for(let i of e)i.next&&i.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(i=>i!==o)}}),unsubscribe:()=>{e=[]}}};function Ay(e,t){let r={};for(let n in e)if(e.hasOwnProperty(n)){let o=e[n],i=t[n];if(o&&rt(o)&&i){let s=Ay(o,i);rt(s)&&(r[n]=s)}else e[n]&&(r[n]=i)}return r}var zt=e=>rt(e)&&!Object.keys(e).length,bf=e=>e.type==="file",zr=e=>typeof e=="function",wc=e=>{if(!hf)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Dy=e=>e.type==="select-multiple",xf=e=>e.type==="radio",wP=e=>xf(e)||pa(e),mf=e=>wc(e)&&e.isConnected;function SP(e,t){let r=t.slice(0,-1).length,n=0;for(;n<r;)e=We(e)?n++:e[t[n++]];return e}function CP(e){for(let t in e)if(e.hasOwnProperty(t)&&!We(e[t]))return!1;return!0}function tt(e,t){let r=Array.isArray(t)?t:Cc(t)?[t]:yf(t),n=r.length===1?e:SP(e,r),o=r.length-1,i=r[o];return n&&delete n[i],o!==0&&(rt(n)&&zt(n)||Array.isArray(n)&&CP(n))&&tt(e,r.slice(0,-1)),e}var RP=e=>{for(let t in e)if(zr(e[t]))return!0;return!1};function My(e){return Array.isArray(e)||rt(e)&&!RP(e)}function gf(e,t={}){for(let r in e){let n=e[r];My(n)?(t[r]=Array.isArray(n)?[]:{},gf(n,t[r])):We(n)||(t[r]=!0)}return t}function Bi(e,t,r){r||(r=gf(t));for(let n in e){let o=e[n];if(My(o))We(t)||pf(r[n])?r[n]=gf(o,Array.isArray(o)?[]:{}):Bi(o,Xt(t)?{}:t[n],r[n]);else{let i=t[n];r[n]=!io(o,i)}}return r}var yy={value:!1,isValid:!1},by={value:!0,isValid:!0},ky=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!We(e[0].attributes.value)?We(e[0].value)||e[0].value===""?by:{value:e[0].value,isValid:!0}:by:yy}return yy},Iy=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>We(e)?e:t?e===""?NaN:e&&+e:r&&sr(e)?new Date(e):n?n(e):e,xy={isValid:!1,value:null},Fy=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,xy):xy;function wy(e){let t=e.ref;return bf(t)?t.files:xf(t)?Fy(e.refs).value:Dy(t)?[...t.selectedOptions].map(({value:r})=>r):pa(t)?ky(e.refs).value:Iy(We(t.value)?e.ref.value:t.value,e)}var TP=(e,t,r,n)=>{let o={};for(let i of e){let s=J(t,i);s&&Se(o,i,s._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:n}},Sc=e=>e instanceof RegExp,da=e=>We(e)?e:Sc(e)?e.source:rt(e)?Sc(e.value)?e.value.source:e.value:e,Sy=e=>({isOnSubmit:!e||e===$r.onSubmit,isOnBlur:e===$r.onBlur,isOnChange:e===$r.onChange,isOnAll:e===$r.all,isOnTouch:e===$r.onTouched}),Cy="AsyncFunction",NP=e=>!!e&&!!e.validate&&!!(zr(e.validate)&&e.validate.constructor.name===Cy||rt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Cy)),EP=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ry=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length)))),ma=(e,t,r,n)=>{for(let o of r||Object.keys(e)){let i=J(e,o);if(i){let{_f:s,...a}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],o)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(ma(a,t))break}else if(rt(a)&&ma(a,t))break}}};function Ty(e,t,r){let n=J(e,r);if(n||Cc(r))return{error:n,name:r};let o=r.split(".");for(;o.length;){let i=o.join("."),s=J(t,i),a=J(e,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};o.pop()}return{name:r}}var PP=(e,t,r,n)=>{r(e);let{name:o,...i}=e;return zt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!n||$r.all))},AP=(e,t,r)=>!e||!t||e===t||fa(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),DP=(e,t,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(t||e):(r?n.isOnBlur:o.isOnBlur)?!e:(r?n.isOnChange:o.isOnChange)?e:!0,MP=(e,t)=>!vf(J(e,t)).length&&tt(e,t),kP=(e,t,r)=>{let n=fa(J(e,r));return Se(n,"root",t[r]),Se(e,r,n),e};function Ny(e,t,r="validate"){if(sr(e)||Array.isArray(e)&&e.every(sr)||nn(e)&&!e)return{type:r,message:sr(e)?e:"",ref:t}}var Vi=e=>rt(e)&&!Sc(e)?e:{value:e,message:""},Ey=async(e,t,r,n,o,i)=>{let{ref:s,refs:a,required:l,maxLength:c,minLength:u,min:d,max:m,pattern:f,validate:h,name:p,valueAsNumber:g,mount:y}=e._f,v=J(r,p);if(!y||t.has(p))return{};let b=a?a[0]:s,w=D=>{o&&b.reportValidity&&(b.setCustomValidity(nn(D)?"":D||""),b.reportValidity())},x={},S=xf(s),R=pa(s),N=S||R,F=(g||bf(s))&&We(s.value)&&We(v)||wc(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,E=Rc.bind(null,p,n,x),A=(D,k,O,M=Nn.maxLength,_=Nn.minLength)=>{let B=D?k:O;x[p]={type:D?M:_,message:B,ref:s,...E(D?M:_,B)}};if(i?!Array.isArray(v)||!v.length:l&&(!N&&(F||Xt(v))||nn(v)&&!v||R&&!ky(a).isValid||S&&!Fy(a).isValid)){let{value:D,message:k}=sr(l)?{value:!!l,message:l}:Vi(l);if(D&&(x[p]={type:Nn.required,message:k,ref:b,...E(Nn.required,k)},!n))return w(k),x}if(!F&&(!Xt(d)||!Xt(m))){let D,k,O=Vi(m),M=Vi(d);if(!Xt(v)&&!isNaN(v)){let _=s.valueAsNumber||v&&+v;Xt(O.value)||(D=_>O.value),Xt(M.value)||(k=_<M.value)}else{let _=s.valueAsDate||new Date(v),B=z=>new Date(new Date().toDateString()+" "+z),X=s.type=="time",$=s.type=="week";sr(O.value)&&v&&(D=X?B(v)>B(O.value):$?v>O.value:_>new Date(O.value)),sr(M.value)&&v&&(k=X?B(v)<B(M.value):$?v<M.value:_<new Date(M.value))}if((D||k)&&(A(!!D,O.message,M.message,Nn.max,Nn.min),!n))return w(x[p].message),x}if((c||u)&&!F&&(sr(v)||i&&Array.isArray(v))){let D=Vi(c),k=Vi(u),O=!Xt(D.value)&&v.length>+D.value,M=!Xt(k.value)&&v.length<+k.value;if((O||M)&&(A(O,D.message,k.message),!n))return w(x[p].message),x}if(f&&!F&&sr(v)){let{value:D,message:k}=Vi(f);if(Sc(D)&&!v.match(D)&&(x[p]={type:Nn.pattern,message:k,ref:s,...E(Nn.pattern,k)},!n))return w(k),x}if(h){if(zr(h)){let D=await h(v,r),k=Ny(D,b);if(k&&(x[p]={...k,...E(Nn.validate,k.message)},!n))return w(k.message),x}else if(rt(h)){let D={};for(let k in h){if(!zt(D)&&!n)break;let O=Ny(await h[k](v,r),b,k);O&&(D={...O,...E(k,O.message)},w(O.message),n&&(x[p]=D))}if(!zt(D)&&(x[p]={ref:b,...D},!n))return x}}return w(!0),x},IP={mode:$r.onSubmit,reValidateMode:$r.onChange,shouldFocusError:!0};function FP(e={}){let t={...IP,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:zr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},o=rt(t.defaultValues)||rt(t.values)?wt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:wt(o),s={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0,u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...u},m={array:vy(),state:vy()},f=t.criteriaMode===$r.all,h=C=>P=>{clearTimeout(c),c=setTimeout(C,P)},p=async C=>{if(!t.disabled&&(u.isValid||d.isValid||C)){let P=t.resolver?zt((await R()).errors):await F(n,!0);P!==r.isValid&&m.state.next({isValid:P})}},g=(C,P)=>{!t.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((C||Array.from(a.mount)).forEach(V=>{V&&(P?Se(r.validatingFields,V,P):tt(r.validatingFields,V))}),m.state.next({validatingFields:r.validatingFields,isValidating:!zt(r.validatingFields)}))},y=(C,P=[],V,H,G=!0,j=!0)=>{if(H&&V&&!t.disabled){if(s.action=!0,j&&Array.isArray(J(n,C))){let Y=V(J(n,C),H.argA,H.argB);G&&Se(n,C,Y)}if(j&&Array.isArray(J(r.errors,C))){let Y=V(J(r.errors,C),H.argA,H.argB);G&&Se(r.errors,C,Y),MP(r.errors,C)}if((u.touchedFields||d.touchedFields)&&j&&Array.isArray(J(r.touchedFields,C))){let Y=V(J(r.touchedFields,C),H.argA,H.argB);G&&Se(r.touchedFields,C,Y)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Bi(o,i)),m.state.next({name:C,isDirty:A(C,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Se(i,C,P)},v=(C,P)=>{Se(r.errors,C,P),m.state.next({errors:r.errors})},b=C=>{r.errors=C,m.state.next({errors:r.errors,isValid:!1})},w=(C,P,V,H)=>{let G=J(n,C);if(G){let j=J(i,C,We(V)?J(o,C):V);We(j)||H&&H.defaultChecked||P?Se(i,C,P?j:wy(G._f)):O(C,j),s.mount&&!s.action&&p()}},x=(C,P,V,H,G)=>{let j=!1,Y=!1,ae={name:C};if(!t.disabled){if(!V||H){(u.isDirty||d.isDirty)&&(Y=r.isDirty,r.isDirty=ae.isDirty=A(),j=Y!==ae.isDirty);let ye=io(J(o,C),P);Y=!!J(r.dirtyFields,C),ye?tt(r.dirtyFields,C):Se(r.dirtyFields,C,!0),ae.dirtyFields=r.dirtyFields,j=j||(u.dirtyFields||d.dirtyFields)&&Y!==!ye}if(V){let ye=J(r.touchedFields,C);ye||(Se(r.touchedFields,C,V),ae.touchedFields=r.touchedFields,j=j||(u.touchedFields||d.touchedFields)&&ye!==V)}j&&G&&m.state.next(ae)}return j?ae:{}},S=(C,P,V,H)=>{let G=J(r.errors,C),j=(u.isValid||d.isValid)&&nn(P)&&r.isValid!==P;if(t.delayError&&V?(l=h(()=>v(C,V)),l(t.delayError)):(clearTimeout(c),l=null,V?Se(r.errors,C,V):tt(r.errors,C)),(V?!io(G,V):G)||!zt(H)||j){let Y={...H,...j&&nn(P)?{isValid:P}:{},errors:r.errors,name:C};r={...r,...Y},m.state.next(Y)}},R=async C=>{g(C,!0);let P=await t.resolver(i,t.context,TP(C||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(C),P},N=async C=>{let{errors:P}=await R(C);if(C)for(let V of C){let H=J(P,V);H?Se(r.errors,V,H):tt(r.errors,V)}else r.errors=P;return P},F=async(C,P,V={valid:!0})=>{for(let H in C){let G=C[H];if(G){let{_f:j,...Y}=G;if(j){let ae=a.array.has(j.name),ye=G._f&&NP(G._f);ye&&u.validatingFields&&g([j.name],!0);let Je=await Ey(G,a.disabled,i,f,t.shouldUseNativeValidation&&!P,ae);if(ye&&u.validatingFields&&g([j.name]),Je[j.name]&&(V.valid=!1,P))break;!P&&(J(Je,j.name)?ae?kP(r.errors,Je,j.name):Se(r.errors,j.name,Je[j.name]):tt(r.errors,j.name))}!zt(Y)&&await F(Y,P,V)}}return V.valid},E=()=>{for(let C of a.unMount){let P=J(n,C);P&&(P._f.refs?P._f.refs.every(V=>!mf(V)):!mf(P._f.ref))&&te(C)}a.unMount=new Set},A=(C,P)=>!t.disabled&&(C&&P&&Se(i,C,P),!io(z(),o)),D=(C,P,V)=>xP(C,a,{...s.mount?i:We(P)?o:sr(C)?{[C]:P}:P},V,P),k=C=>vf(J(s.mount?i:o,C,t.shouldUnregister?J(o,C,[]):[])),O=(C,P,V={})=>{let H=J(n,C),G=P;if(H){let j=H._f;j&&(!j.disabled&&Se(i,C,Iy(P,j)),G=wc(j.ref)&&Xt(P)?"":P,Dy(j.ref)?[...j.ref.options].forEach(Y=>Y.selected=G.includes(Y.value)):j.refs?pa(j.ref)?j.refs.forEach(Y=>{(!Y.defaultChecked||!Y.disabled)&&(Array.isArray(G)?Y.checked=!!G.find(ae=>ae===Y.value):Y.checked=G===Y.value||!!G)}):j.refs.forEach(Y=>Y.checked=Y.value===G):bf(j.ref)?j.ref.value="":(j.ref.value=G,j.ref.type||m.state.next({name:C,values:wt(i)})))}(V.shouldDirty||V.shouldTouch)&&x(C,G,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&$(C)},M=(C,P,V)=>{for(let H in P){if(!P.hasOwnProperty(H))return;let G=P[H],j=C+"."+H,Y=J(n,j);(a.array.has(C)||rt(G)||Y&&!Y._f)&&!Vo(G)?M(j,G,V):O(j,G,V)}},_=(C,P,V={})=>{let H=J(n,C),G=a.array.has(C),j=wt(P);Se(i,C,j),G?(m.array.next({name:C,values:wt(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&V.shouldDirty&&m.state.next({name:C,dirtyFields:Bi(o,i),isDirty:A(C,j)})):H&&!H._f&&!Xt(j)?M(C,j,V):O(C,j,V),Ry(C,a)&&m.state.next({...r,name:C}),m.state.next({name:s.mount?C:void 0,values:wt(i)})},B=async C=>{s.mount=!0;let P=C.target,V=P.name,H=!0,G=J(n,V),j=ye=>{H=Number.isNaN(ye)||Vo(ye)&&isNaN(ye.getTime())||io(ye,J(i,V,ye))},Y=Sy(t.mode),ae=Sy(t.reValidateMode);if(G){let ye,Je,ur=P.type?wy(G._f):mP(C),lt=C.type===hy.BLUR||C.type===hy.FOCUS_OUT,mo=!EP(G._f)&&!t.resolver&&!J(r.errors,V)&&!G._f.deps||DP(lt,J(r.touchedFields,V),r.isSubmitted,ae,Y),ln=Ry(V,a,lt);Se(i,V,ur),lt?(!P||!P.readOnly)&&(G._f.onBlur&&G._f.onBlur(C),l&&l(0)):G._f.onChange&&G._f.onChange(C);let dr=x(V,ur,lt),Bn=!zt(dr)||ln;if(!lt&&m.state.next({name:V,type:C.type,values:wt(i)}),mo)return(u.isValid||d.isValid)&&(t.mode==="onBlur"?lt&&p():lt||p()),Bn&&m.state.next({name:V,...ln?{}:dr});if(!lt&&ln&&m.state.next({...r}),t.resolver){let{errors:fr}=await R([V]);if(j(ur),H){let is=Ty(r.errors,n,V),po=Ty(fr,n,is.name||V);ye=po.error,V=po.name,Je=zt(fr)}}else g([V],!0),ye=(await Ey(G,a.disabled,i,f,t.shouldUseNativeValidation))[V],g([V]),j(ur),H&&(ye?Je=!1:(u.isValid||d.isValid)&&(Je=await F(n,!0)));H&&(G._f.deps&&(!Array.isArray(G._f.deps)||G._f.deps.length>0)&&$(G._f.deps),S(V,Je,ye,dr))}},X=(C,P)=>{if(J(r.errors,P)&&C.focus)return C.focus(),1},$=async(C,P={})=>{let V,H,G=fa(C);if(t.resolver){let j=await N(We(C)?C:G);V=zt(j),H=C?!G.some(Y=>J(j,Y)):V}else C?(H=(await Promise.all(G.map(async j=>{let Y=J(n,j);return await F(Y&&Y._f?{[j]:Y}:Y)}))).every(Boolean),!(!H&&!r.isValid)&&p()):H=V=await F(n);return m.state.next({...!sr(C)||(u.isValid||d.isValid)&&V!==r.isValid?{}:{name:C},...t.resolver||!C?{isValid:V}:{},errors:r.errors}),P.shouldFocus&&!H&&ma(n,X,C?G:a.mount),H},z=(C,P)=>{let V={...s.mount?i:o};return P&&(V=Ay(P.dirtyFields?r.dirtyFields:r.touchedFields,V)),We(C)?V:sr(C)?J(V,C):C.map(H=>J(V,H))},se=(C,P)=>({invalid:!!J((P||r).errors,C),isDirty:!!J((P||r).dirtyFields,C),error:J((P||r).errors,C),isValidating:!!J(r.validatingFields,C),isTouched:!!J((P||r).touchedFields,C)}),I=C=>{C&&fa(C).forEach(P=>tt(r.errors,P)),m.state.next({errors:C?r.errors:{}})},U=(C,P,V)=>{let H=(J(n,C,{_f:{}})._f||{}).ref,G=J(r.errors,C)||{},{ref:j,message:Y,type:ae,...ye}=G;Se(r.errors,C,{...ye,...P,ref:H}),m.state.next({name:C,errors:r.errors,isValid:!1}),V&&V.shouldFocus&&H&&H.focus&&H.focus()},W=(C,P)=>zr(C)?m.state.subscribe({next:V=>"values"in V&&C(D(void 0,P),V)}):D(C,P,!0),K=C=>m.state.subscribe({next:P=>{AP(C.name,P.name,C.exact)&&PP(P,C.formState||u,ti,C.reRenderRoot)&&C.callback({values:{...i},...r,...P,defaultValues:o})}}).unsubscribe,ie=C=>(s.mount=!0,d={...d,...C.formState},K({...C,formState:d})),te=(C,P={})=>{for(let V of C?fa(C):a.mount)a.mount.delete(V),a.array.delete(V),P.keepValue||(tt(n,V),tt(i,V)),!P.keepError&&tt(r.errors,V),!P.keepDirty&&tt(r.dirtyFields,V),!P.keepTouched&&tt(r.touchedFields,V),!P.keepIsValidating&&tt(r.validatingFields,V),!t.shouldUnregister&&!P.keepDefaultValue&&tt(o,V);m.state.next({values:wt(i)}),m.state.next({...r,...P.keepDirty?{isDirty:A()}:{}}),!P.keepIsValid&&p()},xe=({disabled:C,name:P})=>{(nn(C)&&s.mount||C||a.disabled.has(P))&&(C?a.disabled.add(P):a.disabled.delete(P))},ve=(C,P={})=>{let V=J(n,C),H=nn(P.disabled)||nn(t.disabled);return Se(n,C,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:C}},name:C,mount:!0,...P}}),a.mount.add(C),V?xe({disabled:nn(P.disabled)?P.disabled:t.disabled,name:C}):w(C,!0,P.value),{...H?{disabled:P.disabled||t.disabled}:{},...t.progressive?{required:!!P.required,min:da(P.min),max:da(P.max),minLength:da(P.minLength),maxLength:da(P.maxLength),pattern:da(P.pattern)}:{},name:C,onChange:B,onBlur:B,ref:G=>{if(G){ve(C,P),V=J(n,C);let j=We(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,Y=wP(j),ae=V._f.refs||[];if(Y?ae.find(ye=>ye===j):j===V._f.ref)return;Se(n,C,{_f:{...V._f,...Y?{refs:[...ae.filter(mf),j,...Array.isArray(J(o,C))?[{}]:[]],ref:{type:j.type,name:C}}:{ref:j}}}),w(C,!1,void 0,j)}else V=J(n,C,{}),V._f&&(V._f.mount=!1),(t.shouldUnregister||P.shouldUnregister)&&!(gP(a.array,C)&&s.action)&&a.unMount.add(C)}}},ce=()=>t.shouldFocusError&&ma(n,X,a.mount),tr=C=>{nn(C)&&(m.state.next({disabled:C}),ma(n,(P,V)=>{let H=J(n,V);H&&(P.disabled=H._f.disabled||C,Array.isArray(H._f.refs)&&H._f.refs.forEach(G=>{G.disabled=H._f.disabled||C}))},0,!1))},Rt=(C,P)=>async V=>{let H;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let G=wt(i);if(m.state.next({isSubmitting:!0}),t.resolver){let{errors:j,values:Y}=await R();r.errors=j,G=wt(Y)}else await F(n);if(a.disabled.size)for(let j of a.disabled)tt(G,j);if(tt(r.errors,"root"),zt(r.errors)){m.state.next({errors:{}});try{await C(G,V)}catch(j){H=j}}else P&&await P({...r.errors},V),ce(),setTimeout(ce);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zt(r.errors)&&!H,submitCount:r.submitCount+1,errors:r.errors}),H)throw H},Pr=(C,P={})=>{J(n,C)&&(We(P.defaultValue)?_(C,wt(J(o,C))):(_(C,P.defaultValue),Se(o,C,wt(P.defaultValue))),P.keepTouched||tt(r.touchedFields,C),P.keepDirty||(tt(r.dirtyFields,C),r.isDirty=P.defaultValue?A(C,wt(J(o,C))):A()),P.keepError||(tt(r.errors,C),u.isValid&&p()),m.state.next({...r}))},Gt=(C,P={})=>{let V=C?wt(C):o,H=wt(V),G=zt(C),j=G?o:H;if(P.keepDefaultValues||(o=V),!P.keepValues){if(P.keepDirtyValues){let Y=new Set([...a.mount,...Object.keys(Bi(o,i))]);for(let ae of Array.from(Y))J(r.dirtyFields,ae)?Se(j,ae,J(i,ae)):_(ae,J(j,ae))}else{if(hf&&We(C))for(let Y of a.mount){let ae=J(n,Y);if(ae&&ae._f){let ye=Array.isArray(ae._f.refs)?ae._f.refs[0]:ae._f.ref;if(wc(ye)){let Je=ye.closest("form");if(Je){Je.reset();break}}}}if(P.keepFieldsRef)for(let Y of a.mount)_(Y,J(j,Y));else n={}}i=t.shouldUnregister?P.keepDefaultValues?wt(o):{}:wt(j),m.array.next({values:{...j}}),m.state.next({values:{...j}})}a={mount:P.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!u.isValid||!!P.keepIsValid||!!P.keepDirtyValues||!t.shouldUnregister&&!zt(j),s.watch=!!t.shouldUnregister,s.action=!1,P.keepErrors||(r.errors={}),m.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:G?!1:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!io(C,o)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:G?{}:P.keepDirtyValues?P.keepDefaultValues&&i?Bi(o,i):r.dirtyFields:P.keepDefaultValues&&C?Bi(o,C):P.keepDirty?r.dirtyFields:{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Ar=(C,P)=>Gt(zr(C)?C(i):C,P),Dr=(C,P={})=>{let V=J(n,C),H=V&&V._f;if(H){let G=H.refs?H.refs[0]:H.ref;G.focus&&(G.focus(),P.shouldSelect&&zr(G.select)&&G.select())}},ti=C=>{r={...r,...C}},Vn={control:{register:ve,unregister:te,getFieldState:se,handleSubmit:Rt,setError:U,_subscribe:K,_runSchema:R,_focusError:ce,_getWatch:D,_getDirty:A,_setValid:p,_setFieldArray:y,_setDisabledField:xe,_setErrors:b,_getFieldArray:k,_reset:Gt,_resetDefaultValues:()=>zr(t.defaultValues)&&t.defaultValues().then(C=>{Ar(C,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:tr,_subjects:m,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(C){s=C},get _defaultValues(){return o},get _names(){return a},set _names(C){a=C},get _formState(){return r},get _options(){return t},set _options(C){t={...t,...C}}},subscribe:ie,trigger:$,register:ve,handleSubmit:Rt,watch:W,setValue:_,getValues:z,reset:Ar,resetField:Pr,clearErrors:I,unregister:te,setError:U,setFocus:Dr,getFieldState:se};return{...Vn,formControl:Vn}}function Vy(e={}){let t=ir.useRef(void 0),r=ir.useRef(void 0),[n,o]=ir.useState({isDirty:!1,isValidating:!1,isLoading:zr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:zr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!zr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{let{formControl:s,...a}=FP(e);t.current={...a,formState:n}}let i=t.current.control;return i._options=e,bP(()=>{let s=i._subscribe({formState:i._proxyFormState,callback:()=>o({...i._formState}),reRenderRoot:!0});return o(a=>({...a,isReady:!0})),i._formState.isReady=!0,s},[i]),ir.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ir.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ir.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ir.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ir.useEffect(()=>{if(i._proxyFormState.isDirty){let s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),ir.useEffect(()=>{var s;e.values&&!io(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((s=i._options.resetOptions)===null||s===void 0)&&s.keepIsValid||i._setValid(),r.current=e.values,o(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),ir.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=yP(n,i),t.current}var By=(e,t,r)=>{if(e&&"reportValidity"in e){let n=J(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Tc=(e,t)=>{for(let r in t.fields){let n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?By(n.ref,r,e):n&&n.refs&&n.refs.forEach(o=>By(o,r,e))}},wf=(e,t)=>{t.shouldUseNativeValidation&&Tc(e,t);let r={};for(let n in e){let o=J(t.fields,n),i=Object.assign(e[n]||{},{ref:o&&o.ref});if(VP(t.names||Object.keys(e),n)){let s=Object.assign({},J(r,n));Se(s,"root",i),Se(r,n,s)}else Se(r,n,i)}return r},VP=(e,t)=>{let r=Oy(t);return e.some(n=>Oy(n).match(`^${r}\\.\\d+`))};function Oy(e){return e.replace(/\]|\[/g,"")}import*as Oi from"zod/v4/core";function _y(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function BP(e,t){for(var r={};e.length;){var n=e[0],o=n.code,i=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[s]={message:a.message,type:a.code}}else r[s]={message:i,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return e.push(d)})}),t){var l=r[s].types,c=l&&l[n.code];r[s]=Rc(s,t,r,o,c?[].concat(c,n.message):n.message)}e.shift()}return r}function OP(e,t){for(var r={};e.length;){var n=e[0],o=n.code,i=n.message,s=n.path.join(".");if(!r[s])if(n.code==="invalid_union"&&n.errors.length>0){var a=n.errors[0][0];r[s]={message:a.message,type:a.code}}else r[s]={message:i,type:o};if(n.code==="invalid_union"&&n.errors.forEach(function(u){return u.forEach(function(d){return e.push(d)})}),t){var l=r[s].types,c=l&&l[n.code];r[s]=Rc(s,t,r,o,c?[].concat(c,n.message):n.message)}e.shift()}return r}function Ly(e,t,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(e))return function(n,o,i){try{return Promise.resolve(_y(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(s){return i.shouldUseNativeValidation&&Tc({},i),{errors:{},values:r.raw?Object.assign({},n):s}})},function(s){if(function(a){return Array.isArray(a?.issues)}(s))return{values:{},errors:wf(BP(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(e))return function(n,o,i){try{return Promise.resolve(_y(function(){return Promise.resolve((r.mode==="sync"?Oi.parse:Oi.parseAsync)(e,n,t)).then(function(s){return i.shouldUseNativeValidation&&Tc({},i),{errors:{},values:r.raw?Object.assign({},n):s}})},function(s){if(function(a){return a instanceof Oi.$ZodError}(s))return{values:{},errors:wf(OP(s.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}};throw new Error("Invalid input: not a Zod schema")}function $y({schema:e,defaultValues:t,onSubmit:r,mode:n="create",validationMode:o="onBlur",include:i,exclude:s,resetOnSuccess:a=!1}){let l=_i.useMemo(()=>Fi(e),[e]),c=_i.useMemo(()=>{let R=l.fields;if(i&&i.length>0){let N=new Set(i);R=R.filter(F=>N.has(F.name))}if(s&&s.length>0){let N=new Set(s);R=R.filter(F=>!N.has(F.name))}return R},[l.fields,i,s]),u=Vy({resolver:Ly(e),defaultValues:t,mode:o}),{handleSubmit:d,reset:m,setValue:f,getValues:h,clearErrors:p,trigger:g,formState:{isSubmitting:y,isValid:v,isDirty:b,errors:w}}=u,x=_i.useCallback(async R=>{R?.preventDefault(),await d(async N=>{await r(N),a&&m()})(R)},[d,r,a,m]),S=_i.useCallback(()=>{m(t)},[m,t]);return{form:u,definition:l,fields:c,mode:n,isSubmitting:y,isValid:v,isDirty:b,errors:w,handleSubmit:x,reset:S,setValue:f,getValue:h,clearErrors:p,trigger:g}}import*as jy from"react";import{AlertCircle as _P,Eye as LP,EyeOff as $P,Calendar as zP}from"lucide-react";import{jsx as Ie,jsxs as En}from"react/jsx-runtime";var ga=T("w-full px-3 py-2 rounded-lg","bg-surface-base border border-default","text-body text-text-primary placeholder:text-text-muted","focus:outline-none focus:ring-2 focus:ring-accent-primary/30 focus:border-accent-primary","disabled:bg-surface-subtle disabled:text-text-muted disabled:cursor-not-allowed","transition-colors"),ha=T("border-status-danger focus:ring-status-danger/30 focus:border-status-danger");function jP({definition:e,register:t,error:r,disabled:n}){let[o,i]=jy.useState(!1),s=e.name.toLowerCase().includes("password"),a=e.name.toLowerCase().includes("email"),l=e.name.toLowerCase().includes("url"),c=e.uiHints?.placeholder||`Enter ${e.label.toLowerCase()}`,u=s?o?"text":"password":a?"email":l?"url":"text";return En("div",{className:"relative",children:[Ie("input",{id:`field-${e.name}`,type:u,...t,disabled:n,placeholder:c,className:T(ga,r&&ha,s&&"pr-10")}),s&&Ie("button",{type:"button",onClick:()=>i(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-secondary transition-colors",tabIndex:-1,children:o?Ie($P,{className:"h-4 w-4"}):Ie(LP,{className:"h-4 w-4"})})]})}function UP({definition:e,register:t,error:r,disabled:n}){let o=e.uiHints?.placeholder||`Enter ${e.label.toLowerCase()}`;return Ie("input",{id:`field-${e.name}`,type:"number",...t,disabled:n,placeholder:o,className:T(ga,r&&ha,"tabular-nums")})}function GP({definition:e,register:t,error:r,disabled:n}){let o=e.uiHints?.placeholder||`Enter ${e.label.toLowerCase()}`;return Ie("textarea",{...t,disabled:n,placeholder:o,rows:4,className:T(ga,r&&ha,"resize-y min-h-[100px]")})}function HP({definition:e,register:t,error:r,disabled:n}){let o=e.validation?.options||[];return En("select",{id:`field-${e.name}`,...t,disabled:n,className:T(ga,r&&ha,"cursor-pointer"),children:[En("option",{value:"",children:["Select ",e.label.toLowerCase()]}),o.map(i=>Ie("option",{value:i,children:i.charAt(0).toUpperCase()+i.slice(1).replace(/_/g," ")},i))]})}function KP({definition:e,register:t,error:r,disabled:n}){return En("label",{htmlFor:`field-${e.name}`,className:"flex items-center gap-3 cursor-pointer",children:[Ie("input",{id:`field-${e.name}`,type:"checkbox",...t,disabled:n,className:T("h-5 w-5 rounded border-border-default","text-accent-primary focus:ring-accent-primary focus:ring-offset-0","cursor-pointer disabled:cursor-not-allowed",r&&"border-status-danger")}),Ie("span",{className:T("text-body",n?"text-text-muted":"text-text-primary"),children:e.description||e.label})]})}function WP({definition:e,register:t,error:r,disabled:n}){return En("div",{className:"relative",children:[Ie("input",{id:`field-${e.name}`,type:"date",...t,disabled:n,className:T(ga,r&&ha,"pr-10")}),Ie(zP,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-text-muted pointer-events-none"})]})}function Sf({definition:e,register:t,error:r,disabled:n=!1,className:o}){let i=e.name.toLowerCase().includes("description")||e.name.toLowerCase().includes("content")||e.name.toLowerCase().includes("notes")||e.name.toLowerCase().includes("body"),s=()=>e.type==="boolean"?Ie(KP,{definition:e,register:t,error:r,disabled:n}):e.type==="enum"&&e.validation?.options?.length?Ie(HP,{definition:e,register:t,error:r,disabled:n}):e.type==="date"?Ie(WP,{definition:e,register:t,error:r,disabled:n}):e.type==="number"?Ie(UP,{definition:e,register:t,error:r,disabled:n}):i?Ie(GP,{definition:e,register:t,error:r,disabled:n}):Ie(jP,{definition:e,register:t,error:r,disabled:n});return e.type==="boolean"?En("div",{className:T("space-y-1",o),children:[s(),Ie(zy,{error:r})]}):En("div",{className:T("space-y-1.5",o),children:[Ie(qP,{definition:e}),s(),Ie(zy,{error:r})]})}function qP({definition:e}){return En("label",{htmlFor:`field-${e.name}`,className:"flex items-center gap-1",children:[Ie(L,{variant:"label",color:"secondary",children:e.label}),e.required&&Ie("span",{className:"text-status-danger text-small",children:"*"})]})}function zy({error:e}){return Ie(we,{children:e&&En(Z.div,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:"flex items-center gap-1.5 text-status-danger",children:[Ie(_P,{className:"h-3.5 w-3.5 flex-shrink-0"}),Ie(L,{variant:"caption",color:"danger",children:e})]})})}Sf.displayName="BioFormField";import{Fragment as JP,jsx as qe,jsxs as xr}from"react/jsx-runtime";var ZP={single:"flex flex-col gap-4","two-column":"grid grid-cols-1 md:grid-cols-2 gap-4",custom:""};function Cf({schema:e,defaultValues:t,onSubmit:r,onCancel:n,title:o,showTitle:i=!0,description:s,submitLabel:a="Submit",cancelLabel:l="Cancel",layout:c="single",mode:u="create",showValidationSummary:d=!0,showSuccessMessage:m=!0,successMessage:f="Form submitted successfully!",resetOnSuccess:h=!1,include:p,exclude:g,loading:y=!1,error:v=null,className:b}){let[w,x]=Gy.useState(!1),{form:S,definition:R,fields:N,isSubmitting:F,isValid:E,isDirty:A,errors:D,handleSubmit:k,reset:O}=$y({schema:e,defaultValues:t,onSubmit:async z=>{await r(z),m&&(x(!0),setTimeout(()=>x(!1),3e3))},mode:u,include:p,exclude:g,resetOnSuccess:h}),{register:M}=S,_=o||(R.name!=="Object"?R.name:void 0),B=y||F,X=u==="view",$=Object.entries(D).map(([z,se])=>({field:z,message:se?.message||"Invalid value"}));return qe(le,{className:T("space-y-6",b),"data-testid":"bio-form",children:xr("form",{onSubmit:k,className:"space-y-6","data-testid":"bio-form-element",children:[i&&_||s?xr("div",{className:"space-y-1",children:[i&&_&&qe(L,{variant:"heading",as:"h3",children:_}),s&&qe(L,{variant:"body",color:"secondary",children:s})]}):null,qe(we,{children:w&&xr(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 px-4 py-3 rounded-lg bg-status-success/10 border border-status-success/30",children:[qe(YP,{className:"h-5 w-5 text-status-success flex-shrink-0"}),qe(L,{variant:"body",className:"text-status-success",children:f})]})}),qe(we,{children:v&&xr(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 px-4 py-3 rounded-lg bg-status-danger/10 border border-status-danger/30",children:[qe(Uy,{className:"h-5 w-5 text-status-danger flex-shrink-0"}),qe(L,{variant:"body",className:"text-status-danger",children:v})]})}),qe(we,{children:d&&$.length>0&&qe(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"px-4 py-3 rounded-lg bg-status-danger/5 border border-status-danger/20",children:xr("div",{className:"flex items-start gap-2",children:[qe(Uy,{className:"h-5 w-5 text-status-danger flex-shrink-0 mt-0.5"}),xr("div",{className:"space-y-1",children:[qe(L,{variant:"label",className:"text-status-danger",children:"Please fix the following errors:"}),xr("ul",{className:"text-small text-status-danger space-y-0.5",children:[$.slice(0,5).map(({field:z,message:se})=>xr("li",{children:["\u2022 ",se]},z)),$.length>5&&xr("li",{children:["...and ",$.length-5," more"]})]})]})]})})}),qe("div",{className:ZP[c],children:N.map((z,se)=>qe(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:se*.03},children:qe(Sf,{definition:z,register:M(z.name),error:D[z.name]?.message,disabled:X||B})},z.name))}),u!=="view"&&xr("div",{className:"flex items-center justify-between pt-4 border-t border-default",children:[qe("div",{className:"text-small text-text-muted",children:A&&qe("span",{className:"text-status-warning",children:"\u2022 Unsaved changes"})}),xr("div",{className:"flex items-center gap-3",children:[n&&qe(fe,{type:"button",variant:"secondary",onClick:n,disabled:B,children:l}),qe(fe,{type:"submit",variant:"primary",disabled:B||!A&&u==="edit",children:B?xr(JP,{children:[qe(XP,{className:"h-4 w-4 animate-spin"}),"Submitting..."]}):a})]})]})]})})}Cf.displayName="BioForm";import*as Pn from"react";import{jsx as va,jsxs as eA}from"react/jsx-runtime";var QP={vertical:"flex flex-col gap-4",horizontal:"flex flex-row flex-wrap gap-6",grid:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"};function Hy({schema:e,data:t,mode:r="view",layout:n="vertical",title:o,showTitle:i=!0,include:s,exclude:a,onChange:l,onSave:c,className:u}){let[d,m]=Pn.useState(t),[f,h]=Pn.useState({}),p=Pn.useMemo(()=>Fi(e),[e]),g=Pn.useMemo(()=>{let w=p.fields;if(s&&s.length>0){let x=new Set(s.map(String));w=w.filter(S=>x.has(S.name))}if(a&&a.length>0){let x=new Set(a.map(String));w=w.filter(S=>!x.has(S.name))}return w},[p.fields,s,a]),y=Pn.useCallback((w,x)=>{m(S=>({...S,[w]:x})),h(S=>{let R={...S};return delete R[w],R}),l?.(w,x)},[l]),v=Pn.useCallback(()=>{let w=e.safeParse(d);if(!w.success){let x={},S=w.error?.issues||[];for(let R of S){let N=R.path.join(".");x[N]=R.message}h(x);return}c?.(w.data)},[e,d,c]),b=o||p.name;return eA(le,{className:T("space-y-4",u),children:[i&&b&&b!=="Object"&&va(L,{variant:"heading",as:"h3",children:b}),va("div",{className:QP[n],children:g.map(w=>va($a,{field:w,value:r==="edit"?d[w.name]:t[w.name],mode:r,onChange:y,error:f[w.name]},w.name))}),r==="edit"&&c&&va("div",{className:"flex justify-end pt-4 border-t border-default",children:va(fe,{onClick:v,variant:"primary",children:"Save"})})]})}Hy.displayName="BioObject";import*as qi from"react";import pt,{createContext as Ea,useContext as Uo,useEffect as ot,useState as lr,useCallback as Ur,useMemo as nt,useRef as Tt,memo as aA,useReducer as lA,cloneElement as cA,forwardRef as uA}from"react";import{createPortal as dA,unstable_batchedUpdates as Ac}from"react-dom";import{useMemo as Tf,useLayoutEffect as tA,useEffect as Wy,useRef as Li,useCallback as Nc}from"react";function qy(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Tf(()=>n=>{t.forEach(o=>o(n))},t)}var ya=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bo(e){let t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ec(e){return"nodeType"in e}function Vt(e){var t,r;return e?Bo(e)?e:Ec(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Pc(e){let{Document:t}=Vt(e);return e instanceof t}function $i(e){return Bo(e)?!1:e instanceof Vt(e).HTMLElement}function Nf(e){return e instanceof Vt(e).SVGElement}function Oo(e){return e?Bo(e)?e.document:Ec(e)?Pc(e)?e:$i(e)||Nf(e)?e.ownerDocument:document:document:document}var ar=ya?tA:Wy;function ba(e){let t=Li(e);return ar(()=>{t.current=e}),Nc(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.current==null?void 0:t.current(...n)},[])}function Yy(){let e=Li(null),t=Nc((n,o)=>{e.current=setInterval(n,o)},[]),r=Nc(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function zi(e,t){t===void 0&&(t=[e]);let r=Li(e);return ar(()=>{r.current!==e&&(r.current=e)},t),r}function ji(e,t){let r=Li();return Tf(()=>{let n=e(r.current);return r.current=n,n},[...t])}function xa(e){let t=ba(e),r=Li(null),n=Nc(o=>{o!==r.current&&t?.(o,r.current),r.current=o},[]);return[r,n]}function wa(e){let t=Li();return Wy(()=>{t.current=e},[e]),t.current}var Rf={};function _o(e,t){return Tf(()=>{if(t)return t;let r=Rf[e]==null?0:Rf[e]+1;return Rf[e]=r,e+"-"+r},[e,t])}function Xy(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((i,s)=>{let a=Object.entries(s);for(let[l,c]of a){let u=i[l];u!=null&&(i[l]=u+e*c)}return i},{...t})}}var Lo=Xy(1),$o=Xy(-1);function rA(e){return"clientX"in e&&"clientY"in e}function Ui(e){if(!e)return!1;let{KeyboardEvent:t}=Vt(e.target);return t&&e instanceof t}function nA(e){if(!e)return!1;let{TouchEvent:t}=Vt(e.target);return t&&e instanceof t}function Sa(e){if(nA(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return rA(e)?{x:e.clientX,y:e.clientY}:null}var jr=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[jr.Translate.toString(e),jr.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),Ky="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Zy(e){return e.matches(Ky)?e:e.querySelector(Ky)}import Jy,{useState as oA,useCallback as iA}from"react";var sA={display:"none"};function Qy(e){let{id:t,value:r}=e;return Jy.createElement("div",{id:t,style:sA},r)}function eb(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e,o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Jy.createElement("div",{id:t,style:o,role:"status","aria-live":n,"aria-atomic":!0},r)}function tb(){let[e,t]=oA("");return{announce:iA(n=>{n!=null&&t(n)},[]),announcement:e}}var pb=Ea(null);function fA(e){let t=Uo(pb);ot(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function mA(){let[e]=lr(()=>new Set),t=Ur(n=>(e.add(n),()=>e.delete(n)),[e]);return[Ur(n=>{let{type:o,event:i}=n;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}var pA={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},gA={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function hA(e){let{announcements:t=gA,container:r,hiddenTextDescribedById:n,screenReaderInstructions:o=pA}=e,{announce:i,announcement:s}=tb(),a=_o("DndLiveRegion"),[l,c]=lr(!1);if(ot(()=>{c(!0)},[]),fA(nt(()=>({onDragStart(d){let{active:m}=d;i(t.onDragStart({active:m}))},onDragMove(d){let{active:m,over:f}=d;t.onDragMove&&i(t.onDragMove({active:m,over:f}))},onDragOver(d){let{active:m,over:f}=d;i(t.onDragOver({active:m,over:f}))},onDragEnd(d){let{active:m,over:f}=d;i(t.onDragEnd({active:m,over:f}))},onDragCancel(d){let{active:m,over:f}=d;i(t.onDragCancel({active:m,over:f}))}}),[i,t])),!l)return null;let u=pt.createElement(pt.Fragment,null,pt.createElement(Qy,{id:n,value:o.draggable}),pt.createElement(eb,{id:a,announcement:s}));return r?dA(u,r):u}var mt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(mt||(mt={}));function Mc(){}function Vf(e,t){return nt(()=>({sensor:e,options:t??{}}),[e,t])}function gb(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return nt(()=>[...t].filter(n=>n!=null),[...t])}var Gr=Object.freeze({x:0,y:0});function vA(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function yA(e,t){let r=Sa(e);if(!r)return"0 0";let n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function bA(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function xA(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function rb(e){let{left:t,top:r,height:n,width:o}=e;return[{x:t,y:r},{x:t+o,y:r},{x:t,y:r+n},{x:t+o,y:r+n}]}function Bf(e,t){if(!e||e.length===0)return null;let[r]=e;return t?r[t]:r}var Ic=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,o=rb(t),i=[];for(let s of n){let{id:a}=s,l=r.get(a);if(l){let c=rb(l),u=o.reduce((m,f,h)=>m+vA(c[h],f),0),d=Number((u/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:d}})}}return i.sort(bA)};function wA(e,t){let r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-n,a=i-r;if(n<o&&r<i){let l=t.width*t.height,c=e.width*e.height,u=s*a,d=u/(l+c-u);return Number(d.toFixed(4))}return 0}var SA=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,o=[];for(let i of n){let{id:s}=i,a=r.get(s);if(a){let l=wA(a,t);l>0&&o.push({id:s,data:{droppableContainer:i,value:l}})}}return o.sort(xA)};function CA(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function hb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Gr}function RA(e){return function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...r})}}var TA=RA(1);function vb(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function NA(e,t,r){let n=vb(t);if(!n)return e;let{scaleX:o,scaleY:i,x:s,y:a}=n,l=e.left-s-(1-o)*parseFloat(r),c=e.top-a-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),u=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}var EA={ignoreTransform:!1};function Go(e,t){t===void 0&&(t=EA);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:c,transformOrigin:u}=Vt(e).getComputedStyle(e);c&&(r=NA(r,c,u))}let{top:n,left:o,width:i,height:s,bottom:a,right:l}=r;return{top:n,left:o,width:i,height:s,bottom:a,right:l}}function nb(e){return Go(e,{ignoreTransform:!0})}function PA(e){let t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function AA(e,t){return t===void 0&&(t=Vt(e).getComputedStyle(e)),t.position==="fixed"}function DA(e,t){t===void 0&&(t=Vt(e).getComputedStyle(e));let r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{let i=t[o];return typeof i=="string"?r.test(i):!1})}function Pa(e,t){let r=[];function n(o){if(t!=null&&r.length>=t||!o)return r;if(Pc(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!$i(o)||Nf(o)||r.includes(o))return r;let i=Vt(e).getComputedStyle(o);return o!==e&&DA(o,i)&&r.push(o),AA(o,i)?r:n(o.parentNode)}return e?n(e):r}function yb(e){let[t]=Pa(e,1);return t??null}function Ef(e){return!ya||!e?null:Bo(e)?e:Ec(e)?Pc(e)||e===Oo(e).scrollingElement?window:$i(e)?e:null:null}function bb(e){return Bo(e)?e.scrollX:e.scrollLeft}function xb(e){return Bo(e)?e.scrollY:e.scrollTop}function Df(e){return{x:bb(e),y:xb(e)}}var St;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(St||(St={}));function wb(e){return!ya||!e?!1:e===document.scrollingElement}function Sb(e){let t={x:0,y:0},r=wb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=n.y,a=e.scrollLeft>=n.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:n,minScroll:t}}var MA={x:.2,y:.2};function kA(e,t,r,n,o){let{top:i,left:s,right:a,bottom:l}=r;n===void 0&&(n=10),o===void 0&&(o=MA);let{isTop:c,isBottom:u,isLeft:d,isRight:m}=Sb(e),f={x:0,y:0},h={x:0,y:0},p={height:t.height*o.y,width:t.width*o.x};return!c&&i<=t.top+p.height?(f.y=St.Backward,h.y=n*Math.abs((t.top+p.height-i)/p.height)):!u&&l>=t.bottom-p.height&&(f.y=St.Forward,h.y=n*Math.abs((t.bottom-p.height-l)/p.height)),!m&&a>=t.right-p.width?(f.x=St.Forward,h.x=n*Math.abs((t.right-p.width-a)/p.width)):!d&&s<=t.left+p.width&&(f.x=St.Backward,h.x=n*Math.abs((t.left+p.width-s)/p.width)),{direction:f,speed:h}}function IA(e){if(e===document.scrollingElement){let{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}let{top:t,left:r,right:n,bottom:o}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Cb(e){return e.reduce((t,r)=>Lo(t,Df(r)),Gr)}function FA(e){return e.reduce((t,r)=>t+bb(r),0)}function VA(e){return e.reduce((t,r)=>t+xb(r),0)}function Rb(e,t){if(t===void 0&&(t=Go),!e)return;let{top:r,left:n,bottom:o,right:i}=t(e);yb(e)&&(o<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}var BA=[["x",["left","right"],FA],["y",["top","bottom"],VA]],Ra=class{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let n=Pa(r),o=Cb(n);this.rect={...t},this.width=t.width,this.height=t.height;for(let[i,s,a]of BA)for(let l of s)Object.defineProperty(this,l,{get:()=>{let c=a(n),u=o[i]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},zo=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var o;(o=this.target)==null||o.addEventListener(t,r,n),this.listeners.push([t,r,n])}};function OA(e){let{EventTarget:t}=Vt(e);return e instanceof t?e:Oo(e)}function Pf(e,t){let r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var wr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(wr||(wr={}));function ob(e){e.preventDefault()}function _A(e){e.stopPropagation()}var he;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(he||(he={}));var Tb={start:[he.Space,he.Enter],cancel:[he.Esc],end:[he.Space,he.Enter,he.Tab]},LA=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case he.Right:return{...r,x:r.x+25};case he.Left:return{...r,x:r.x-25};case he.Down:return{...r,y:r.y+25};case he.Up:return{...r,y:r.y-25}}},Gi=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;let{event:{target:r}}=t;this.props=t,this.listeners=new zo(Oo(r)),this.windowListeners=new zo(Vt(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(wr.Resize,this.handleCancel),this.windowListeners.add(wr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(wr.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&Rb(n),r(Gr)}handleKeyDown(t){if(Ui(t)){let{active:r,context:n,options:o}=this.props,{keyboardCodes:i=Tb,coordinateGetter:s=LA,scrollBehavior:a="smooth"}=o,{code:l}=t;if(i.end.includes(l)){this.handleEnd(t);return}if(i.cancel.includes(l)){this.handleCancel(t);return}let{collisionRect:c}=n.current,u=c?{x:c.left,y:c.top}:Gr;this.referenceCoordinates||(this.referenceCoordinates=u);let d=s(t,{active:r,context:n.current,currentCoordinates:u});if(d){let m=$o(d,u),f={x:0,y:0},{scrollableAncestors:h}=n.current;for(let p of h){let g=t.code,{isTop:y,isRight:v,isLeft:b,isBottom:w,maxScroll:x,minScroll:S}=Sb(p),R=IA(p),N={x:Math.min(g===he.Right?R.right-R.width/2:R.right,Math.max(g===he.Right?R.left:R.left+R.width/2,d.x)),y:Math.min(g===he.Down?R.bottom-R.height/2:R.bottom,Math.max(g===he.Down?R.top:R.top+R.height/2,d.y))},F=g===he.Right&&!v||g===he.Left&&!b,E=g===he.Down&&!w||g===he.Up&&!y;if(F&&N.x!==d.x){let A=p.scrollLeft+m.x,D=g===he.Right&&A<=x.x||g===he.Left&&A>=S.x;if(D&&!m.y){p.scrollTo({left:A,behavior:a});return}D?f.x=p.scrollLeft-A:f.x=g===he.Right?p.scrollLeft-x.x:p.scrollLeft-S.x,f.x&&p.scrollBy({left:-f.x,behavior:a});break}else if(E&&N.y!==d.y){let A=p.scrollTop+m.y,D=g===he.Down&&A<=x.y||g===he.Up&&A>=S.y;if(D&&!m.x){p.scrollTo({top:A,behavior:a});return}D?f.y=p.scrollTop-A:f.y=g===he.Down?p.scrollTop-x.y:p.scrollTop-S.y,f.y&&p.scrollBy({top:-f.y,behavior:a});break}}this.handleMove(t,Lo($o(d,this.referenceCoordinates),f))}}}handleMove(t,r){let{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){let{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){let{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};Gi.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=Tb,onActivation:o}=t,{active:i}=r,{code:s}=e.nativeEvent;if(n.start.includes(s)){let a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function ib(e){return!!(e&&"distance"in e)}function sb(e){return!!(e&&"delay"in e)}var Ta=class{constructor(t,r,n){var o;n===void 0&&(n=OA(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;let{event:i}=t,{target:s}=i;this.props=t,this.events=r,this.document=Oo(s),this.documentListeners=new zo(this.document),this.listeners=new zo(n),this.windowListeners=new zo(Vt(s)),this.initialCoordinates=(o=Sa(i))!=null?o:Gr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(wr.Resize,this.handleCancel),this.windowListeners.add(wr.DragStart,ob),this.windowListeners.add(wr.VisibilityChange,this.handleCancel),this.windowListeners.add(wr.ContextMenu,ob),this.documentListeners.add(wr.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(sb(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(ib(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){let{active:n,onPending:o}=this.props;o(n,t,this.initialCoordinates,r)}handleStart(){let{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(wr.Click,_A,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(wr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;let{activated:n,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;let l=(r=Sa(t))!=null?r:Gr,c=$o(o,l);if(!n&&a){if(ib(a)){if(a.tolerance!=null&&Pf(c,a.tolerance))return this.handleCancel();if(Pf(c,a.distance))return this.handleStart()}if(sb(a)&&Pf(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){let{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){let{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===he.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},$A={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},Hi=class extends Ta{constructor(t){let{event:r}=t,n=Oo(r.target);super(t,$A,n)}};Hi.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];var zA={move:{name:"mousemove"},end:{name:"mouseup"}},Mf;(function(e){e[e.RightClick=2]="RightClick"})(Mf||(Mf={}));var kf=class extends Ta{constructor(t){super(t,zA,Oo(t.event.target))}};kf.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===Mf.RightClick?!1:(n?.({event:r}),!0)}}];var Af={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},If=class extends Ta{constructor(t){super(t,Af)}static setup(){return window.addEventListener(Af.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Af.move.name,t)};function t(){}}};If.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t,{touches:o}=r;return o.length>1?!1:(n?.({event:r}),!0)}}];var Ca;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ca||(Ca={}));var kc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(kc||(kc={}));function jA(e){let{acceleration:t,activator:r=Ca.Pointer,canScroll:n,draggingRect:o,enabled:i,interval:s=5,order:a=kc.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:d,threshold:m}=e,f=GA({delta:d,disabled:!i}),[h,p]=Yy(),g=Tt({x:0,y:0}),y=Tt({x:0,y:0}),v=nt(()=>{switch(r){case Ca.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Ca.DraggableRect:return o}},[r,o,l]),b=Tt(null),w=Ur(()=>{let S=b.current;if(!S)return;let R=g.current.x*y.current.x,N=g.current.y*y.current.y;S.scrollBy(R,N)},[]),x=nt(()=>a===kc.TreeOrder?[...c].reverse():c,[a,c]);ot(()=>{if(!i||!c.length||!v){p();return}for(let S of x){if(n?.(S)===!1)continue;let R=c.indexOf(S),N=u[R];if(!N)continue;let{direction:F,speed:E}=kA(S,N,v,t,m);for(let A of["x","y"])f[A][F[A]]||(E[A]=0,F[A]=0);if(E.x>0||E.y>0){p(),b.current=S,h(w,s),g.current=E,y.current=F;return}}g.current={x:0,y:0},y.current={x:0,y:0},p()},[t,w,n,p,i,s,JSON.stringify(v),JSON.stringify(f),h,c,x,u,JSON.stringify(m)])}var UA={x:{[St.Backward]:!1,[St.Forward]:!1},y:{[St.Backward]:!1,[St.Forward]:!1}};function GA(e){let{delta:t,disabled:r}=e,n=wa(t);return ji(o=>{if(r||!n||!o)return UA;let i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[St.Backward]:o.x[St.Backward]||i.x===-1,[St.Forward]:o.x[St.Forward]||i.x===1},y:{[St.Backward]:o.y[St.Backward]||i.y===-1,[St.Forward]:o.y[St.Forward]||i.y===1}}},[r,t,n])}function HA(e,t){let r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return ji(o=>{var i;return t==null?null:(i=n??o)!=null?i:null},[n,t])}function KA(e,t){return nt(()=>e.reduce((r,n)=>{let{sensor:o}=n,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,n)}));return[...r,...i]},[]),[e,t])}var Na;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Na||(Na={}));var Ff;(function(e){e.Optimized="optimized"})(Ff||(Ff={}));var ab=new Map;function WA(e,t){let{dragging:r,dependencies:n,config:o}=t,[i,s]=lr(null),{frequency:a,measure:l,strategy:c}=o,u=Tt(e),d=g(),m=zi(d),f=Ur(function(y){y===void 0&&(y=[]),!m.current&&s(v=>v===null?y:v.concat(y.filter(b=>!v.includes(b))))},[m]),h=Tt(null),p=ji(y=>{if(d&&!r)return ab;if(!y||y===ab||u.current!==e||i!=null){let v=new Map;for(let b of e){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){v.set(b.id,b.rect.current);continue}let w=b.node.current,x=w?new Ra(l(w),w):null;b.rect.current=x,x&&v.set(b.id,x)}return v}return y},[e,i,r,d,l]);return ot(()=>{u.current=e},[e]),ot(()=>{d||f()},[r,d]),ot(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),ot(()=>{d||typeof a!="number"||h.current!==null||(h.current=setTimeout(()=>{f(),h.current=null},a))},[a,d,f,...n]),{droppableRects:p,measureDroppableContainers:f,measuringScheduled:i!=null};function g(){switch(c){case Na.Always:return!1;case Na.BeforeDragging:return r;default:return!r}}}function Of(e,t){return ji(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function qA(e,t){return Of(e,t)}function YA(e){let{callback:t,disabled:r}=e,n=ba(t),o=nt(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;let{MutationObserver:i}=window;return new i(n)},[n,r]);return ot(()=>()=>o?.disconnect(),[o]),o}function Fc(e){let{callback:t,disabled:r}=e,n=ba(t),o=nt(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;let{ResizeObserver:i}=window;return new i(n)},[r]);return ot(()=>()=>o?.disconnect(),[o]),o}function XA(e){return new Ra(Go(e),e)}function lb(e,t,r){t===void 0&&(t=XA);let[n,o]=lr(null);function i(){o(l=>{if(!e)return null;if(e.isConnected===!1){var c;return(c=l??r)!=null?c:null}let u=t(e);return JSON.stringify(l)===JSON.stringify(u)?l:u})}let s=YA({callback(l){if(e)for(let c of l){let{type:u,target:d}=c;if(u==="childList"&&d instanceof HTMLElement&&d.contains(e)){i();break}}}}),a=Fc({callback:i});return ar(()=>{i(),e?(a?.observe(e),s?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),s?.disconnect())},[e]),n}function ZA(e){let t=Of(e);return hb(e,t)}var cb=[];function JA(e){let t=Tt(e),r=ji(n=>e?n&&n!==cb&&e&&t.current&&e.parentNode===t.current.parentNode?n:Pa(e):cb,[e]);return ot(()=>{t.current=e},[e]),r}function QA(e){let[t,r]=lr(null),n=Tt(e),o=Ur(i=>{let s=Ef(i.target);s&&r(a=>a?(a.set(s,Df(s)),new Map(a)):null)},[]);return ot(()=>{let i=n.current;if(e!==i){s(i);let a=e.map(l=>{let c=Ef(l);return c?(c.addEventListener("scroll",o,{passive:!0}),[c,Df(c)]):null}).filter(l=>l!=null);r(a.length?new Map(a):null),n.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(l=>{let c=Ef(l);c?.removeEventListener("scroll",o)})}},[o,e]),nt(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>Lo(i,s),Gr):Cb(e):Gr,[e,t])}function ub(e,t){t===void 0&&(t=[]);let r=Tt(null);return ot(()=>{r.current=null},t),ot(()=>{let n=e!==Gr;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?$o(e,r.current):Gr}function eD(e){ot(()=>{if(!ya)return;let t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(let r of t)r?.()}},e.map(t=>{let{sensor:r}=t;return r}))}function tD(e,t){return nt(()=>e.reduce((r,n)=>{let{eventName:o,handler:i}=n;return r[o]=s=>{i(s,t)},r},{}),[e,t])}function Nb(e){return nt(()=>e?PA(e):null,[e])}var db=[];function rD(e,t){t===void 0&&(t=Go);let[r]=e,n=Nb(r?Vt(r):null),[o,i]=lr(db);function s(){i(()=>e.length?e.map(l=>wb(l)?n:new Ra(t(l),l)):db)}let a=Fc({callback:s});return ar(()=>{a?.disconnect(),s(),e.forEach(l=>a?.observe(l))},[e]),o}function Eb(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return $i(t)?t:e}function nD(e){let{measure:t}=e,[r,n]=lr(null),o=Ur(c=>{for(let{target:u}of c)if($i(u)){n(d=>{let m=t(u);return d?{...d,width:m.width,height:m.height}:m});break}},[t]),i=Fc({callback:o}),s=Ur(c=>{let u=Eb(c);i?.disconnect(),u&&i?.observe(u),n(u?t(u):null)},[t,i]),[a,l]=xa(s);return nt(()=>({nodeRef:a,rect:r,setRef:l}),[r,a,l])}var oD=[{sensor:Hi,options:{}},{sensor:Gi,options:{}}],iD={current:{}},Dc={draggable:{measure:nb},droppable:{measure:nb,strategy:Na.WhileDragging,frequency:Ff.Optimized},dragOverlay:{measure:Go}},jo=class extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}},sD={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new jo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Mc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Dc,measureDroppableContainers:Mc,windowRect:null,measuringScheduled:!1},Pb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Mc,draggableNodes:new Map,over:null,measureDroppableContainers:Mc},Aa=Ea(Pb),Ab=Ea(sD);function aD(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new jo}}}function lD(e,t){switch(t.type){case mt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case mt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case mt.DragEnd:case mt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case mt.RegisterDroppable:{let{element:r}=t,{id:n}=r,o=new jo(e.droppable.containers);return o.set(n,r),{...e,droppable:{...e.droppable,containers:o}}}case mt.SetDroppableDisabled:{let{id:r,key:n,disabled:o}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;let s=new jo(e.droppable.containers);return s.set(r,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case mt.UnregisterDroppable:{let{id:r,key:n}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;let i=new jo(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function cD(e){let{disabled:t}=e,{active:r,activatorEvent:n,draggableNodes:o}=Uo(Aa),i=wa(n),s=wa(r?.id);return ot(()=>{if(!t&&!n&&i&&s!=null){if(!Ui(i)||document.activeElement===i.target)return;let a=o.get(s);if(!a)return;let{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(let u of[l.current,c.current]){if(!u)continue;let d=Zy(u);if(d){d.focus();break}}})}},[n,t,o,s,i]),null}function Db(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...n}),r):r}function uD(e){return nt(()=>({draggable:{...Dc.draggable,...e?.draggable},droppable:{...Dc.droppable,...e?.droppable},dragOverlay:{...Dc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function dD(e){let{activeNode:t,measure:r,initialRect:n,config:o=!0}=e,i=Tt(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;ar(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!n)return;let c=t?.node.current;if(!c||c.isConnected===!1)return;let u=r(c),d=hb(u,n);if(s||(d.x=0),a||(d.y=0),i.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){let m=yb(c);m&&m.scrollBy({top:d.y,left:d.x})}},[t,s,a,n,r])}var Vc=Ea({...Gr,scaleX:1,scaleY:1}),so;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(so||(so={}));var Mb=aA(function(t){var r,n,o,i;let{id:s,accessibility:a,autoScroll:l=!0,children:c,sensors:u=oD,collisionDetection:d=SA,measuring:m,modifiers:f,...h}=t,p=lA(lD,void 0,aD),[g,y]=p,[v,b]=mA(),[w,x]=lr(so.Uninitialized),S=w===so.Initialized,{draggable:{active:R,nodes:N,translate:F},droppable:{containers:E}}=g,A=R!=null?N.get(R):null,D=Tt({initial:null,translated:null}),k=nt(()=>{var Qe;return R!=null?{id:R,data:(Qe=A?.data)!=null?Qe:iD,rect:D}:null},[R,A]),O=Tt(null),[M,_]=lr(null),[B,X]=lr(null),$=zi(h,Object.values(h)),z=_o("DndDescribedBy",s),se=nt(()=>E.getEnabled(),[E]),I=uD(m),{droppableRects:U,measureDroppableContainers:W,measuringScheduled:K}=WA(se,{dragging:S,dependencies:[F.x,F.y],config:I.droppable}),ie=HA(N,R),te=nt(()=>B?Sa(B):null,[B]),xe=cu(),ve=qA(ie,I.draggable.measure);dD({activeNode:R!=null?N.get(R):null,config:xe.layoutShiftCompensation,initialRect:ve,measure:I.draggable.measure});let ce=lb(ie,I.draggable.measure,ve),tr=lb(ie?ie.parentElement:null),Rt=Tt({activatorEvent:null,active:null,activeNode:ie,collisionRect:null,collisions:null,droppableRects:U,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Pr=E.getNodeFor((r=Rt.current.over)==null?void 0:r.id),Gt=nD({measure:I.dragOverlay.measure}),Ar=(n=Gt.nodeRef.current)!=null?n:ie,Dr=S?(o=Gt.rect)!=null?o:ce:null,ti=!!(Gt.nodeRef.current&&Gt.rect),fo=ZA(ti?null:ce),Vn=Nb(Ar?Vt(Ar):null),C=JA(S?Pr??ie:null),P=rD(C),V=Db(f,{transform:{x:F.x-fo.x,y:F.y-fo.y,scaleX:1,scaleY:1},activatorEvent:B,active:k,activeNodeRect:ce,containerNodeRect:tr,draggingNodeRect:Dr,over:Rt.current.over,overlayNodeRect:Gt.rect,scrollableAncestors:C,scrollableAncestorRects:P,windowRect:Vn}),H=te?Lo(te,F):null,G=QA(C),j=ub(G),Y=ub(G,[ce]),ae=Lo(V,j),ye=Dr?TA(Dr,V):null,Je=k&&ye?d({active:k,collisionRect:ye,droppableRects:U,droppableContainers:se,pointerCoordinates:H}):null,ur=Bf(Je,"id"),[lt,mo]=lr(null),ln=ti?V:Lo(V,Y),dr=CA(ln,(i=lt?.rect)!=null?i:null,ce),Bn=Tt(null),fr=Ur((Qe,$e)=>{let{sensor:_t,options:re}=$e;if(O.current==null)return;let ue=N.get(O.current);if(!ue)return;let pe=Qe.nativeEvent,ze=new _t({active:O.current,activeNode:ue,event:pe,options:re,context:Rt,onAbort(Pe){if(!N.get(Pe))return;let{onDragAbort:je}=$.current,vt={id:Pe};je?.(vt),v({type:"onDragAbort",event:vt})},onPending(Pe,Pt,je,vt){if(!N.get(Pe))return;let{onDragPending:as}=$.current,On={id:Pe,constraint:Pt,initialCoordinates:je,offset:vt};as?.(On),v({type:"onDragPending",event:On})},onStart(Pe){let Pt=O.current;if(Pt==null)return;let je=N.get(Pt);if(!je)return;let{onDragStart:vt}=$.current,ss={activatorEvent:pe,active:{id:Pt,data:je.data,rect:D}};Ac(()=>{vt?.(ss),x(so.Initializing),y({type:mt.DragStart,initialCoordinates:Pe,active:Pt}),v({type:"onDragStart",event:ss}),_(Bn.current),X(pe)})},onMove(Pe){y({type:mt.DragMove,coordinates:Pe})},onEnd:ht(mt.DragEnd),onCancel:ht(mt.DragCancel)});Bn.current=ze;function ht(Pe){return async function(){let{active:je,collisions:vt,over:ss,scrollAdjustedTranslate:as}=Rt.current,On=null;if(je&&as){let{cancelDrop:ls}=$.current;On={activatorEvent:pe,active:je,collisions:vt,delta:as,over:ss},Pe===mt.DragEnd&&typeof ls=="function"&&await Promise.resolve(ls(On))&&(Pe=mt.DragCancel)}O.current=null,Ac(()=>{y({type:Pe}),x(so.Uninitialized),mo(null),_(null),X(null),Bn.current=null;let ls=Pe===mt.DragEnd?"onDragEnd":"onDragCancel";if(On){let uu=$.current[ls];uu?.(On),v({type:ls,event:On})}})}}},[N]),is=Ur((Qe,$e)=>(_t,re)=>{let ue=_t.nativeEvent,pe=N.get(re);if(O.current!==null||!pe||ue.dndKit||ue.defaultPrevented)return;let ze={active:pe};Qe(_t,$e.options,ze)===!0&&(ue.dndKit={capturedBy:$e.sensor},O.current=re,fr(_t,$e))},[N,fr]),po=KA(u,is);eD(u),ar(()=>{ce&&w===so.Initializing&&x(so.Initialized)},[ce,w]),ot(()=>{let{onDragMove:Qe}=$.current,{active:$e,activatorEvent:_t,collisions:re,over:ue}=Rt.current;if(!$e||!_t)return;let pe={active:$e,activatorEvent:_t,collisions:re,delta:{x:ae.x,y:ae.y},over:ue};Ac(()=>{Qe?.(pe),v({type:"onDragMove",event:pe})})},[ae.x,ae.y]),ot(()=>{let{active:Qe,activatorEvent:$e,collisions:_t,droppableContainers:re,scrollAdjustedTranslate:ue}=Rt.current;if(!Qe||O.current==null||!$e||!ue)return;let{onDragOver:pe}=$.current,ze=re.get(ur),ht=ze&&ze.rect.current?{id:ze.id,rect:ze.rect.current,data:ze.data,disabled:ze.disabled}:null,Pe={active:Qe,activatorEvent:$e,collisions:_t,delta:{x:ue.x,y:ue.y},over:ht};Ac(()=>{mo(ht),pe?.(Pe),v({type:"onDragOver",event:Pe})})},[ur]),ar(()=>{Rt.current={activatorEvent:B,active:k,activeNode:ie,collisionRect:ye,collisions:Je,droppableRects:U,draggableNodes:N,draggingNode:Ar,draggingNodeRect:Dr,droppableContainers:E,over:lt,scrollableAncestors:C,scrollAdjustedTranslate:ae},D.current={initial:Dr,translated:ye}},[k,ie,Je,ye,N,Ar,Dr,U,E,lt,C,ae]),jA({...xe,delta:F,draggingRect:ye,pointerCoordinates:H,scrollableAncestors:C,scrollableAncestorRects:P});let _a=nt(()=>({active:k,activeNode:ie,activeNodeRect:ce,activatorEvent:B,collisions:Je,containerNodeRect:tr,dragOverlay:Gt,draggableNodes:N,droppableContainers:E,droppableRects:U,over:lt,measureDroppableContainers:W,scrollableAncestors:C,scrollableAncestorRects:P,measuringConfiguration:I,measuringScheduled:K,windowRect:Vn}),[k,ie,ce,B,Je,tr,Gt,N,E,U,lt,W,C,P,I,K,Vn]),La=nt(()=>({activatorEvent:B,activators:po,active:k,activeNodeRect:ce,ariaDescribedById:{draggable:z},dispatch:y,draggableNodes:N,over:lt,measureDroppableContainers:W}),[B,po,k,ce,y,z,N,lt,W]);return pt.createElement(pb.Provider,{value:b},pt.createElement(Aa.Provider,{value:La},pt.createElement(Ab.Provider,{value:_a},pt.createElement(Vc.Provider,{value:dr},c)),pt.createElement(cD,{disabled:a?.restoreFocus===!1})),pt.createElement(hA,{...a,hiddenTextDescribedById:z}));function cu(){let Qe=M?.autoScrollEnabled===!1,$e=typeof l=="object"?l.enabled===!1:l===!1,_t=S&&!Qe&&!$e;return typeof l=="object"?{...l,enabled:_t}:{enabled:_t}}}),fD=Ea(null),fb="button",mD="Draggable";function kb(e){let{id:t,data:r,disabled:n=!1,attributes:o}=e,i=_o(mD),{activators:s,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:m}=Uo(Aa),{role:f=fb,roleDescription:h="draggable",tabIndex:p=0}=o??{},g=l?.id===t,y=Uo(g?Vc:fD),[v,b]=xa(),[w,x]=xa(),S=tD(s,t),R=zi(r);ar(()=>(d.set(t,{id:t,key:i,node:v,activatorNode:w,data:R}),()=>{let F=d.get(t);F&&F.key===i&&d.delete(t)}),[d,t]);let N=nt(()=>({role:f,tabIndex:p,"aria-disabled":n,"aria-pressed":g&&f===fb?!0:void 0,"aria-roledescription":h,"aria-describedby":u.draggable}),[n,f,p,g,h,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:N,isDragging:g,listeners:n?void 0:S,node:v,over:m,setNodeRef:b,setActivatorNodeRef:x,transform:y}}function _f(){return Uo(Ab)}var pD="Droppable",gD={timeout:25};function Bc(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:o}=e,i=_o(pD),{active:s,dispatch:a,over:l,measureDroppableContainers:c}=Uo(Aa),u=Tt({disabled:r}),d=Tt(!1),m=Tt(null),f=Tt(null),{disabled:h,updateMeasurementsFor:p,timeout:g}={...gD,...o},y=zi(p??n),v=Ur(()=>{if(!d.current){d.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),f.current=null},g)},[g]),b=Fc({callback:v,disabled:h||!s}),w=Ur((N,F)=>{b&&(F&&(b.unobserve(F),d.current=!1),N&&b.observe(N))},[b]),[x,S]=xa(w),R=zi(t);return ot(()=>{!b||!x.current||(b.disconnect(),d.current=!1,b.observe(x.current))},[x,b]),ot(()=>(a({type:mt.RegisterDroppable,element:{id:n,key:i,disabled:r,node:x,rect:m,data:R}}),()=>a({type:mt.UnregisterDroppable,key:i,id:n})),[n]),ot(()=>{r!==u.current.disabled&&(a({type:mt.SetDroppableDisabled,id:n,key:i,disabled:r}),u.current.disabled=r)},[n,i,r,a]),{active:s,rect:m,isOver:l?.id===n,node:x,over:l,setNodeRef:S}}function hD(e){let{animation:t,children:r}=e,[n,o]=lr(null),[i,s]=lr(null),a=wa(r);return!r&&!n&&a&&o(a),ar(()=>{if(!i)return;let l=n?.key,c=n?.props.id;if(l==null||c==null){o(null);return}Promise.resolve(t(c,i)).then(()=>{o(null)})},[t,n,i]),pt.createElement(pt.Fragment,null,r,n?cA(n,{ref:s}):null)}var vD={x:0,y:0,scaleX:1,scaleY:1};function yD(e){let{children:t}=e;return pt.createElement(Aa.Provider,{value:Pb},pt.createElement(Vc.Provider,{value:vD},t))}var bD={position:"fixed",touchAction:"none"},xD=e=>Ui(e)?"transform 250ms ease":void 0,wD=uA((e,t)=>{let{as:r,activatorEvent:n,adjustScale:o,children:i,className:s,rect:a,style:l,transform:c,transition:u=xD}=e;if(!a)return null;let d=o?c:{...c,scaleX:1,scaleY:1},m={...bD,width:a.width,height:a.height,top:a.top,left:a.left,transform:jr.Transform.toString(d),transformOrigin:o&&n?yA(n,a):void 0,transition:typeof u=="function"?u(n):u,...l};return pt.createElement(r,{className:s,style:m,ref:t},i)}),SD=e=>t=>{let{active:r,dragOverlay:n}=t,o={},{styles:i,className:s}=e;if(i!=null&&i.active)for(let[a,l]of Object.entries(i.active))l!==void 0&&(o[a]=r.node.style.getPropertyValue(a),r.node.style.setProperty(a,l));if(i!=null&&i.dragOverlay)for(let[a,l]of Object.entries(i.dragOverlay))l!==void 0&&n.node.style.setProperty(a,l);return s!=null&&s.active&&r.node.classList.add(s.active),s!=null&&s.dragOverlay&&n.node.classList.add(s.dragOverlay),function(){for(let[l,c]of Object.entries(o))r.node.style.setProperty(l,c);s!=null&&s.active&&r.node.classList.remove(s.active)}},CD=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:jr.Transform.toString(t)},{transform:jr.Transform.toString(r)}]},RD={duration:250,easing:"ease",keyframes:CD,sideEffects:SD({styles:{active:{opacity:"0"}}})};function TD(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:o}=e;return ba((i,s)=>{if(t===null)return;let a=r.get(i);if(!a)return;let l=a.node.current;if(!l)return;let c=Eb(s);if(!c)return;let{transform:u}=Vt(s).getComputedStyle(s),d=vb(u);if(!d)return;let m=typeof t=="function"?t:ND(t);return Rb(l,o.draggable.measure),m({active:{id:i,data:a.data,node:l,rect:o.draggable.measure(l)},draggableNodes:r,dragOverlay:{node:s,rect:o.dragOverlay.measure(c)},droppableContainers:n,measuringConfiguration:o,transform:d})})}function ND(e){let{duration:t,easing:r,sideEffects:n,keyframes:o}={...RD,...e};return i=>{let{active:s,dragOverlay:a,transform:l,...c}=i;if(!t)return;let u={x:a.rect.left-s.rect.left,y:a.rect.top-s.rect.top},d={scaleX:l.scaleX!==1?s.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?s.rect.height*l.scaleY/a.rect.height:1},m={x:l.x-u.x,y:l.y-u.y,...d},f=o({...c,active:s,dragOverlay:a,transform:{initial:l,final:m}}),[h]=f,p=f[f.length-1];if(JSON.stringify(h)===JSON.stringify(p))return;let g=n?.({active:s,dragOverlay:a,...c}),y=a.node.animate(f,{duration:t,easing:r,fill:"forwards"});return new Promise(v=>{y.onfinish=()=>{g?.(),v()}})}}var mb=0;function ED(e){return nt(()=>{if(e!=null)return mb++,mb},[e])}var Ib=pt.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:o,transition:i,modifiers:s,wrapperElement:a="div",className:l,zIndex:c=999}=e,{activatorEvent:u,active:d,activeNodeRect:m,containerNodeRect:f,draggableNodes:h,droppableContainers:p,dragOverlay:g,over:y,measuringConfiguration:v,scrollableAncestors:b,scrollableAncestorRects:w,windowRect:x}=_f(),S=Uo(Vc),R=ED(d?.id),N=Db(s,{activatorEvent:u,active:d,activeNodeRect:m,containerNodeRect:f,draggingNodeRect:g.rect,over:y,overlayNodeRect:g.rect,scrollableAncestors:b,scrollableAncestorRects:w,transform:S,windowRect:x}),F=Of(m),E=TD({config:n,draggableNodes:h,droppableContainers:p,measuringConfiguration:v}),A=F?g.setRef:void 0;return pt.createElement(yD,null,pt.createElement(hD,{animation:E},d&&R?pt.createElement(wD,{key:R,id:d.id,ref:A,as:a,activatorEvent:u,adjustScale:t,className:l,transition:i,rect:F,style:{zIndex:c,...o},transform:N},r):null))});import Fb,{useMemo as Lc,useRef as Lf,useEffect as $c,useState as PD,useContext as AD}from"react";function Vb(e,t,r){let n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function DD(e,t){return e.reduce((r,n,o)=>{let i=t.get(n);return i&&(r[o]=i),r},Array(e.length))}function Oc(e){return e!==null&&e>=0}function MD(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function kD(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}var Bb=e=>{let{rects:t,activeIndex:r,overIndex:n,index:o}=e,i=Vb(t,n,r),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}};var _c={scaleX:1,scaleY:1},Ob=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:o,rects:i,overIndex:s}=e,a=(t=i[r])!=null?t:n;if(!a)return null;if(o===r){let c=i[s];return c?{x:0,y:r<s?c.top+c.height-(a.top+a.height):c.top-a.top,..._c}:null}let l=ID(i,o,r);return o>r&&o<=s?{x:0,y:-a.height-l,..._c}:o<r&&o>=s?{x:0,y:a.height+l,..._c}:{x:0,y:0,..._c}};function ID(e,t,r){let n=e[t],o=e[t-1],i=e[t+1];return n?r<t?o?n.top-(o.top+o.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):o?n.top-(o.top+o.height):0:0}var _b="Sortable",Lb=Fb.createContext({activeIndex:-1,containerId:_b,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Bb,disabled:{draggable:!1,droppable:!1}});function $b(e){let{children:t,id:r,items:n,strategy:o=Bb,disabled:i=!1}=e,{active:s,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=_f(),d=_o(_b,r),m=a.rect!==null,f=Lc(()=>n.map(S=>typeof S=="object"&&"id"in S?S.id:S),[n]),h=s!=null,p=s?f.indexOf(s.id):-1,g=c?f.indexOf(c.id):-1,y=Lf(f),v=!MD(f,y.current),b=g!==-1&&p===-1||v,w=kD(i);ar(()=>{v&&h&&u(f)},[v,f,h,u]),$c(()=>{y.current=f},[f]);let x=Lc(()=>({activeIndex:p,containerId:d,disabled:w,disableTransforms:b,items:f,overIndex:g,useDragOverlay:m,sortedRects:DD(f,l),strategy:o}),[p,d,w.draggable,w.droppable,b,f,g,l,m,o]);return Fb.createElement(Lb.Provider,{value:x},t)}var FD=e=>{let{id:t,items:r,activeIndex:n,overIndex:o}=e;return Vb(r,n,o).indexOf(t)},VD=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:l,transition:c}=e;return!c||!n||a!==i&&o===s?!1:r?!0:s!==o&&t===l},BD={duration:200,easing:"ease"},zb="transform",OD=jr.Transition.toString({property:zb,duration:0,easing:"linear"}),_D={roleDescription:"sortable"};function LD(e){let{disabled:t,index:r,node:n,rect:o}=e,[i,s]=PD(null),a=Lf(r);return ar(()=>{if(!t&&r!==a.current&&n.current){let l=o.current;if(l){let c=Go(n.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&s(u)}}r!==a.current&&(a.current=r)},[t,r,n,o]),$c(()=>{i&&s(null)},[i]),i}function jb(e){let{animateLayoutChanges:t=VD,attributes:r,disabled:n,data:o,getNewIndex:i=FD,id:s,strategy:a,resizeObserverConfig:l,transition:c=BD}=e,{items:u,containerId:d,activeIndex:m,disabled:f,disableTransforms:h,sortedRects:p,overIndex:g,useDragOverlay:y,strategy:v}=AD(Lb),b=$D(n,f),w=u.indexOf(s),x=Lc(()=>({sortable:{containerId:d,index:w,items:u},...o}),[d,o,w,u]),S=Lc(()=>u.slice(u.indexOf(s)),[u,s]),{rect:R,node:N,isOver:F,setNodeRef:E}=Bc({id:s,data:x,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:A,activatorEvent:D,activeNodeRect:k,attributes:O,setNodeRef:M,listeners:_,isDragging:B,over:X,setActivatorNodeRef:$,transform:z}=kb({id:s,data:x,attributes:{..._D,...r},disabled:b.draggable}),se=qy(E,M),I=!!A,U=I&&!h&&Oc(m)&&Oc(g),W=!y&&B,K=W&&U?z:null,te=U?K??(a??v)({rects:p,activeNodeRect:k,activeIndex:m,overIndex:g,index:w}):null,xe=Oc(m)&&Oc(g)?i({id:s,items:u,activeIndex:m,overIndex:g}):w,ve=A?.id,ce=Lf({activeId:ve,items:u,newIndex:xe,containerId:d}),tr=u!==ce.current.items,Rt=t({active:A,containerId:d,isDragging:B,isSorting:I,id:s,index:w,items:u,newIndex:ce.current.newIndex,previousItems:ce.current.items,previousContainerId:ce.current.containerId,transition:c,wasDragging:ce.current.activeId!=null}),Pr=LD({disabled:!Rt,index:w,node:N,rect:R});return $c(()=>{I&&ce.current.newIndex!==xe&&(ce.current.newIndex=xe),d!==ce.current.containerId&&(ce.current.containerId=d),u!==ce.current.items&&(ce.current.items=u)},[I,xe,d,u]),$c(()=>{if(ve===ce.current.activeId)return;if(ve!=null&&ce.current.activeId==null){ce.current.activeId=ve;return}let Ar=setTimeout(()=>{ce.current.activeId=ve},50);return()=>clearTimeout(Ar)},[ve]),{active:A,activeIndex:m,attributes:O,data:x,rect:R,index:w,newIndex:xe,items:u,isOver:F,isSorting:I,isDragging:B,listeners:_,node:N,overIndex:g,over:X,setNodeRef:se,setActivatorNodeRef:$,setDroppableNodeRef:E,setDraggableNodeRef:M,transform:Pr??te,transition:Gt()};function Gt(){if(Pr||tr&&ce.current.newIndex===w)return OD;if(!(W&&!Ui(D)||!c)&&(I||Rt))return jr.Transition.toString({...c,property:zb})}}function $D(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e?.draggable)!=null?r:t.draggable,droppable:(n=e?.droppable)!=null?n:t.droppable}}function zc(e){if(!e)return!1;let t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}var zD=[he.Down,he.Right,he.Up,he.Left],Ub=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(zD.includes(e.code)){if(e.preventDefault(),!r||!n)return;let l=[];i.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;let m=o.get(d.id);if(m)switch(e.code){case he.Down:n.top<m.top&&l.push(d);break;case he.Up:n.top>m.top&&l.push(d);break;case he.Left:n.left>m.left&&l.push(d);break;case he.Right:n.left<m.left&&l.push(d);break}});let c=Ic({active:r,collisionRect:n,droppableRects:o,droppableContainers:l,pointerCoordinates:null}),u=Bf(c,"id");if(u===s?.id&&c.length>1&&(u=c[1].id),u!=null){let d=i.get(r.id),m=i.get(u),f=m?o.get(m.id):null,h=m?.node.current;if(h&&f&&d&&m){let g=Pa(h).some((S,R)=>a[R]!==S),y=Gb(d,m),v=jD(d,m),b=g||!y?{x:0,y:0}:{x:v?n.width-f.width:0,y:v?n.height-f.height:0},w={x:f.left,y:f.top};return b.x&&b.y?w:$o(w,b)}}}};function Gb(e,t){return!zc(e)||!zc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function jD(e,t){return!zc(e)||!zc(t)||!Gb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}import*as Ct from"react";function Hb({columns:e,cards:t,onCardMove:r,onCardReorder:n,onCardClick:o,onCardAdd:i,onCardDelete:s}){let a=Ct.useMemo(()=>Lt(e),[]),l=Ct.useMemo(()=>Lt(t),[]),c=Ct.useMemo(()=>Lt(null),[]),[u,d]=$t(a),[m,f]=$t(l),[h,p]=$t(c);Ct.useEffect(()=>{d(e)},[e,d]),Ct.useEffect(()=>{f(t)},[t,f]);let g=Ct.useCallback(E=>m.filter(A=>A.columnId===E).sort((A,D)=>A.order-D.order),[m]),y=Ct.useCallback(E=>m.filter(A=>A.columnId===E).length,[m]),v=Ct.useCallback(E=>{p(E)},[p]),b=Ct.useCallback((E,A,D)=>{f(k=>{let O=k.find($=>$.id===E);if(!O)return k;let M=O.columnId,_=k.filter($=>$.columnId===A),B=D??_.length,X=k.map($=>$.id===E?{...$,columnId:A,order:B}:$.columnId===A&&$.order>=B?{...$,order:$.order+1}:$);return r?.(E,M,A,B),X})},[f,r]),w=Ct.useCallback((E,A)=>{f(D=>{let k=D.find(B=>B.id===E);if(!k)return D;let O=D.filter(B=>B.columnId===k.columnId).sort((B,X)=>B.order-X.order),M=k.order;if(M===A)return D;let _=D.map(B=>{if(B.columnId!==k.columnId)return B;if(B.id===E)return{...B,order:A};if(M<A){if(B.order>M&&B.order<=A)return{...B,order:B.order-1}}else if(B.order>=A&&B.order<M)return{...B,order:B.order+1};return B});return n?.(E,k.columnId,A),_})},[f,n]),x=Ct.useCallback(E=>{f(A=>{let k=A.filter(O=>O.columnId===E.columnId).length;return[...A,{...E,order:k}]}),i?.(E.columnId)},[f,i]),S=Ct.useCallback((E,A)=>{f(D=>D.map(k=>k.id===E?{...k,...A}:k))},[f]),R=Ct.useCallback(E=>{f(A=>A.filter(D=>D.id!==E)),s?.(E)},[f,s]),N=Ct.useCallback(E=>{d(A=>A.map(D=>D.id===E?{...D,collapsed:!D.collapsed}:D))},[d]),F=Ct.useCallback((E,A)=>{if(p(null),!A)return;let D=m.find(_=>_.id===E);if(!D)return;let k=String(A),O=u.find(_=>_.id===k);if(O){D.columnId!==O.id&&b(String(E),O.id);return}let M=m.find(_=>_.id===k);M&&(D.columnId===M.columnId?w(String(E),M.order):b(String(E),M.columnId,M.order))},[m,u,b,w,p]);return{columns:u,cards:m,getColumnCards:g,getColumnCount:y,activeCardId:h,setActiveCard:v,moveCard:b,reorderCard:w,addCard:x,updateCard:S,deleteCard:R,toggleColumnCollapse:N,handleDragEnd:F}}import{ChevronDown as XD,ChevronRight as ZD,Plus as JD,MoreHorizontal as QD}from"lucide-react";import*as Ki from"react";import{GripVertical as UD,Calendar as GD,Tag as HD,User as KD}from"lucide-react";import{jsx as Sr,jsxs as Ho}from"react/jsx-runtime";var WD={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95}},qD={default:"border-l-border-default",primary:"border-l-accent-primary",success:"border-l-status-success",warning:"border-l-status-warning",danger:"border-l-status-danger"};function YD({card:e,isDragging:t=!1,onClick:r,renderCard:n,showDragHandle:o=!0,className:i}){let{attributes:s,listeners:a,setNodeRef:l,transform:c,transition:u,isDragging:d}=jb({id:e.id,data:{type:"card",card:e}}),m=Ki.useMemo(()=>({transform:jr.Transform.toString(c),transition:u}),[c,u]),f=t||d,h=Ki.useCallback(()=>{r?.(e)},[r,e]);return n?Sr("div",{ref:l,style:m,...s,className:T("touch-none",f&&"opacity-50",i),children:Sr("div",{...a,children:n(e)})}):Ho(Z.div,{ref:l,style:m,...s,...WD,className:T("group relative bg-surface-card rounded-lg border border-default","border-l-4 shadow-sm hover:shadow-md transition-shadow","cursor-pointer select-none touch-none",qD[e.color||"default"],f&&"opacity-50 shadow-lg rotate-2",i),onClick:h,"data-testid":"kanban-card",children:[o&&Sr("div",{...a,className:T("absolute left-1 top-1/2 -translate-y-1/2 p-1 rounded","opacity-0 group-hover:opacity-100 transition-opacity","cursor-grab active:cursor-grabbing hover:bg-surface-hover"),children:Sr(UD,{className:"h-4 w-4 text-text-muted"})}),Ho("div",{className:T("p-3",o&&"pl-7"),children:[Sr(L,{variant:"body",weight:"medium",className:"line-clamp-2",children:e.title}),e.description&&Sr(L,{variant:"caption",color:"tertiary",className:"mt-1 line-clamp-2",children:e.description}),Ho("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[e.dueDate&&Ho("div",{className:"flex items-center gap-1 text-text-muted",children:[Sr(GD,{className:"h-3 w-3"}),Sr(L,{variant:"caption",color:"tertiary",children:new Date(e.dueDate).toLocaleDateString()})]}),e.tags&&e.tags.length>0&&Ho("div",{className:"flex items-center gap-1",children:[Sr(HD,{className:"h-3 w-3 text-text-muted"}),e.tags.slice(0,2).map(p=>Sr("span",{className:"px-1.5 py-0.5 text-caption bg-surface-subtle rounded text-text-secondary",children:p},p)),e.tags.length>2&&Ho("span",{className:"text-caption text-text-muted",children:["+",e.tags.length-2]})]}),e.assignees&&e.assignees.length>0&&Ho("div",{className:"flex items-center gap-1 ml-auto",children:[Sr(KD,{className:"h-3 w-3 text-text-muted"}),Sr(L,{variant:"caption",color:"tertiary",children:e.assignees.length})]})]})]})]})}var Da=Ki.memo(YD);Da.displayName="BioKanbanCard";import{jsx as Bt,jsxs as Wi}from"react/jsx-runtime";var e1={default:"bg-surface-subtle",primary:"bg-accent-primary/10",success:"bg-status-success/10",warning:"bg-status-warning/10",danger:"bg-status-danger/10",info:"bg-status-info/10"},t1={default:"bg-text-muted",primary:"bg-accent-primary",success:"bg-status-success",warning:"bg-status-warning",danger:"bg-status-danger",info:"bg-status-info"};function $f({column:e,cards:t,onCardClick:r,onAddCard:n,onColumnAction:o,onToggleCollapse:i,renderCard:s,activeCardId:a,showAddButton:l=!0,showCount:c=!0,className:u}){let{setNodeRef:d,isOver:m}=Bc({id:e.id,data:{type:"column",column:e}}),f=t.map(p=>p.id),h=e.limit&&t.length>=e.limit;return Wi("div",{className:T("flex flex-col w-72 flex-shrink-0 rounded-lg bg-surface-base","border border-default",u),"data-testid":"kanban-column",children:[Bt("div",{className:T("px-3 py-2 rounded-t-lg border-b border-default",e1[e.color||"default"]),children:Wi("div",{className:"flex items-center justify-between",children:[Wi("div",{className:"flex items-center gap-2",children:[Bt("button",{onClick:()=>i?.(e.id),className:"p-0.5 hover:bg-surface-hover rounded transition-colors","aria-label":e.collapsed?`Expand ${e.title}`:`Collapse ${e.title}`,"aria-expanded":!e.collapsed,children:e.collapsed?Bt(ZD,{className:"h-4 w-4 text-text-secondary"}):Bt(XD,{className:"h-4 w-4 text-text-secondary"})}),Bt("span",{className:T("h-2.5 w-2.5 rounded-full",t1[e.color||"default"])}),Bt(L,{variant:"label",weight:"medium",children:e.title}),c&&Wi("span",{className:T("px-1.5 py-0.5 text-caption rounded-full","bg-surface-card text-text-secondary",h&&"bg-status-warning/20 text-status-warning"),children:[t.length,e.limit&&`/${e.limit}`]})]}),Wi("div",{className:"flex items-center gap-1",children:[l&&!e.collapsed&&Bt(fe,{variant:"ghost",size:"sm",onClick:()=>n?.(e.id),disabled:!!h,className:"h-6 w-6 p-0","aria-label":`Add card to ${e.title}`,children:Bt(JD,{className:"h-4 w-4"})}),Bt(fe,{variant:"ghost",size:"sm",onClick:()=>o?.(e.id,"menu"),className:"h-6 w-6 p-0","aria-label":`More options for ${e.title}`,children:Bt(QD,{className:"h-4 w-4"})})]})]})}),Bt(we,{children:!e.collapsed&&Bt(Z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:Wi("div",{ref:d,className:T("flex-1 p-2 space-y-2 min-h-[100px] max-h-[calc(100vh-200px)] overflow-y-auto",m&&"bg-accent-primary/5 ring-2 ring-accent-primary/20 ring-inset","transition-colors duration-150"),children:[Bt($b,{items:f,strategy:Ob,children:t.map(p=>Bt(Da,{card:p,onClick:r,renderCard:s,isDragging:a===p.id},p.id))}),t.length===0&&Bt("div",{className:"flex items-center justify-center h-20 text-text-muted",children:Bt(L,{variant:"caption",children:"No cards"})})]})})})]})}$f.displayName="BioKanbanColumn";import{jsx as Cr,jsxs as jc}from"react/jsx-runtime";function zf({columns:e,cards:t,onCardMove:r,onCardReorder:n,onCardClick:o,onCardAdd:i,onCardDelete:s,title:a,description:l,renderCard:c,showAddButton:u=!0,showCount:d=!0,className:m,loading:f=!1,error:h=null}){let{columns:p,cards:g,getColumnCards:y,activeCardId:v,setActiveCard:b,handleDragEnd:w,toggleColumnCollapse:x}=Hb({columns:e,cards:t,onCardMove:r,onCardReorder:n,onCardClick:o,onCardAdd:i,onCardDelete:s}),S=gb(Vf(Hi,{activationConstraint:{distance:8}}),Vf(Gi,{coordinateGetter:Ub})),R=qi.useMemo(()=>v?g.find(A=>A.id===v):null,[v,g]),N=qi.useCallback(A=>{let{active:D}=A;b(String(D.id))},[b]),F=qi.useCallback(A=>{},[]),E=qi.useCallback(A=>{let{active:D,over:k}=A;w(D.id,k?.id??null)},[w]);return h?Cr(le,{padding:"lg",className:m,children:Cr("div",{className:"text-center py-8",children:jc(L,{variant:"body",color:"danger",children:["Error: ",h.message]})})}):f?Cr(le,{padding:"lg",className:T("overflow-hidden",m),children:Cr("div",{className:"flex gap-4",children:[1,2,3].map(A=>Cr("div",{className:"w-72 h-96 bg-surface-subtle rounded-lg animate-pulse"},A))})}):jc(le,{padding:"none",className:T("overflow-hidden",m),"data-testid":"bio-kanban",children:[(a||l)&&jc("div",{className:"px-6 py-4 border-b border-default",children:[a&&Cr(L,{variant:"heading",as:"h3",weight:"semibold",children:a}),l&&Cr(L,{variant:"body",color:"tertiary",className:"mt-1",children:l})]}),Cr("div",{className:"p-4 overflow-x-auto",children:jc(Mb,{sensors:S,collisionDetection:Ic,onDragStart:N,onDragOver:F,onDragEnd:E,children:[Cr(Z.div,{className:"flex gap-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:p.map(A=>Cr($f,{column:A,cards:y(A.id),onCardClick:o,onAddCard:i,onToggleCollapse:x,renderCard:c,activeCardId:v,showAddButton:u,showCount:d},A.id))}),Cr(Ib,{children:R&&Cr(Da,{card:R,renderCard:c,isDragging:!0,showDragHandle:!1,className:"shadow-xl rotate-3"})})]})})]})}zf.displayName="BioKanban";import*as Yi from"react";import{Expand as d1,Minimize2 as f1,Search as m1}from"lucide-react";import*as it from"react";function Kb(e,t,r=0,n){let o=[];for(let i of e){let s=!!(i.children&&i.children.length>0);o.push({...i,level:r,hasChildren:s,parentId:n}),s&&t.has(i.id)&&o.push(...Kb(i.children,t,r+1,i.id))}return o}function r1(e){let t=[];function r(n){for(let o of n)t.push(o.id),o.children&&r(o.children)}return r(e),t}function Uc(e,t){for(let r of e){if(r.id===t)return r;if(r.children){let n=Uc(r.children,t);if(n)return n}}}function Wb(e,t,r){for(let n of e){if(n.id===t)return r;if(n.children){let o=Wb(n.children,t,n);if(o)return o}}}function qb(e,t,r=[]){for(let n of e){if(n.id===t)return[...r,n];if(n.children){let o=qb(n.children,t,[...r,n]);if(o.length>r.length)return o}}return r}function Yb({nodes:e,defaultExpanded:t=[],defaultSelected:r=[],multiSelect:n=!1,onSelect:o,onToggle:i,onDoubleClick:s}){let a=it.useMemo(()=>Lt(new Set(t)),[]),l=it.useMemo(()=>Lt(new Set(r)),[]),c=it.useMemo(()=>Lt(null),[]),[u,d]=$t(a),[m,f]=$t(l),[h,p]=$t(c),g=it.useMemo(()=>Kb(e,u),[e,u]),y=it.useCallback(M=>u.has(M),[u]),v=it.useCallback(M=>m.has(M),[m]),b=it.useCallback(M=>{d(_=>{let B=new Set(_),X=B.has(M);return X?B.delete(M):B.add(M),i?.(M,!X),B})},[d,i]),w=it.useCallback(M=>{d(_=>{if(_.has(M))return _;let B=new Set(_);return B.add(M),i?.(M,!0),B})},[d,i]),x=it.useCallback(M=>{d(_=>{if(!_.has(M))return _;let B=new Set(_);return B.delete(M),i?.(M,!1),B})},[d,i]),S=it.useCallback(()=>{let M=r1(e);d(new Set(M))},[e,d]),R=it.useCallback(()=>{d(new Set)},[d]),N=it.useCallback(M=>{let _=Uc(e,M);!_||_.disabled||(f(B=>{if(n){let X=new Set(B);return X.add(M),X}return new Set([M])}),o?.(_))},[e,n,f,o]),F=it.useCallback(M=>{let _=Uc(e,M);!_||_.disabled||f(B=>{let X=new Set(B);return X.has(M)?X.delete(M):(n||X.clear(),X.add(M),o?.(_)),X})},[e,n,f,o]),E=it.useCallback(()=>{f(new Set)},[f]),A=it.useCallback(M=>{p(M)},[p]),D=it.useCallback(M=>Uc(e,M),[e]),k=it.useCallback(M=>Wb(e,M),[e]),O=it.useCallback(M=>qb(e,M),[e]);return{flatNodes:g,expandedIds:u,selectedIds:m,focusedId:h,isExpanded:y,isSelected:v,toggleExpand:b,expand:w,collapse:x,expandAll:S,collapseAll:R,select:N,toggleSelect:F,clearSelection:E,setFocus:A,getNode:D,getParent:k,getPath:O}}import*as on from"react";import{ChevronRight as n1,Folder as o1,FolderOpen as i1,File as s1}from"lucide-react";import{jsx as Ko,jsxs as u1}from"react/jsx-runtime";var a1={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15}},l1={duration:.15};function c1({node:e,isExpanded:t,isSelected:r,isFocused:n,onToggle:o,onSelect:i,onDoubleClick:s,renderNode:a,renderIcon:l,showIcons:c=!0,indentSize:u=20,className:d}){let m=on.useCallback(v=>{v.stopPropagation(),i(e.id)},[e.id,i]),f=on.useCallback(v=>{v.stopPropagation(),e.hasChildren&&o(e.id),s?.(e)},[e,o,s]),h=on.useCallback(v=>{v.stopPropagation(),o(e.id)},[e.id,o]),p=on.useCallback(v=>{switch(v.key){case"Enter":case" ":v.preventDefault(),i(e.id);break;case"ArrowRight":e.hasChildren&&!t&&(v.preventDefault(),o(e.id));break;case"ArrowLeft":e.hasChildren&&t&&(v.preventDefault(),o(e.id));break}},[e,t,i,o]),g=on.useMemo(()=>e.hasChildren?t?i1:o1:s1,[e.hasChildren,t]),y=on.useMemo(()=>({paddingLeft:e.level*u}),[e.level,u]);return a?Ko("div",{style:y,className:d,children:a(e,{isExpanded:t,isSelected:r})}):u1(Z.div,{...a1,role:"treeitem","aria-expanded":e.hasChildren?t:void 0,"aria-selected":r,tabIndex:n?0:-1,onClick:m,onDoubleClick:f,onKeyDown:p,style:y,className:T("flex items-center gap-1 px-2 py-1.5 rounded-md cursor-pointer","transition-colors duration-100","hover:bg-surface-hover",r&&"bg-accent-primary/10 text-accent-primary",n&&"ring-2 ring-accent-primary/30 ring-inset",e.disabled&&"opacity-50 cursor-not-allowed",d),"data-testid":"tree-node",children:[Ko("button",{onClick:h,className:T("flex items-center justify-center w-5 h-5 rounded","hover:bg-surface-subtle transition-colors",!e.hasChildren&&"invisible"),tabIndex:-1,"aria-label":t?"Collapse":"Expand",children:e.hasChildren&&Ko(Z.div,{animate:{rotate:t?90:0},transition:l1,children:Ko(n1,{className:"h-4 w-4 text-text-secondary"})})}),c&&Ko("div",{className:"flex items-center justify-center w-5 h-5",children:l?l(e,{isExpanded:t}):Ko(g,{className:T("h-4 w-4",r?"text-accent-primary":"text-text-secondary")})}),Ko(L,{variant:"body",weight:r?"medium":"normal",color:r?"brand":"primary",className:"truncate flex-1",children:e.label})]})}var jf=on.memo(c1);jf.displayName="BioTreeNode";import{jsx as Nt,jsxs as ao}from"react/jsx-runtime";function Uf({nodes:e,defaultExpanded:t,defaultSelected:r,multiSelect:n,onSelect:o,onToggle:i,onDoubleClick:s,title:a,showSearch:l=!1,showControls:c=!0,showIcons:u=!0,indentSize:d=20,renderNode:m,renderIcon:f,maxHeight:h,className:p,loading:g=!1,error:y=null}){let{flatNodes:v,isExpanded:b,isSelected:w,focusedId:x,toggleExpand:S,select:R,expandAll:N,collapseAll:F,setFocus:E}=Yb({nodes:e,defaultExpanded:t,defaultSelected:r,multiSelect:n,onSelect:o,onToggle:i,onDoubleClick:s}),[A,D]=Yi.useState(""),k=Yi.useMemo(()=>{if(!A.trim())return v;let M=A.toLowerCase();return v.filter(_=>_.label.toLowerCase().includes(M))},[v,A]),O=Yi.useCallback(M=>{let _=k.findIndex(B=>B.id===x);switch(M.key){case"ArrowDown":M.preventDefault(),_<k.length-1&&E(k[_+1].id);break;case"ArrowUp":M.preventDefault(),_>0&&E(k[_-1].id);break;case"Home":M.preventDefault(),k.length>0&&E(k[0].id);break;case"End":M.preventDefault(),k.length>0&&E(k[k.length-1].id);break}},[k,x,E]);return y?Nt(le,{padding:"lg",className:p,children:Nt("div",{className:"text-center py-8",children:ao(L,{variant:"body",color:"danger",children:["Error: ",y.message]})})}):g?Nt(le,{padding:"lg",className:T("overflow-hidden",p),children:Nt("div",{className:"space-y-2",children:[1,2,3,4,5].map(M=>Nt("div",{className:"h-8 bg-surface-subtle rounded animate-pulse",style:{marginLeft:M%3*20}},M))})}):ao(le,{padding:"none",className:T("overflow-hidden",p),"data-testid":"bio-tree",children:[(a||c||l)&&ao("div",{className:"px-4 py-3 border-b border-default space-y-3",children:[ao("div",{className:"flex items-center justify-between",children:[a&&Nt(L,{variant:"label",weight:"medium",children:a}),c&&ao("div",{className:"flex items-center gap-1",children:[ao(fe,{variant:"ghost",size:"sm",onClick:N,className:"h-7 px-2",children:[Nt(d1,{className:"h-3.5 w-3.5 mr-1"}),Nt("span",{className:"text-caption",children:"Expand All"})]}),ao(fe,{variant:"ghost",size:"sm",onClick:F,className:"h-7 px-2",children:[Nt(f1,{className:"h-3.5 w-3.5 mr-1"}),Nt("span",{className:"text-caption",children:"Collapse"})]})]})]}),l&&ao("div",{className:"relative",children:[Nt(m1,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-text-muted"}),Nt("input",{type:"text",placeholder:"Search...",value:A,onChange:M=>D(M.target.value),className:T("w-full pl-9 pr-3 py-1.5 rounded-md","bg-surface-subtle border border-default","text-body text-text-primary placeholder:text-text-muted","focus:outline-none focus:ring-2 focus:ring-accent-primary/30")})]})]}),Nt("div",{role:"tree","aria-label":a||"Tree",onKeyDown:O,tabIndex:0,className:T("p-2 focus:outline-none overflow-y-auto",h&&"overflow-y-auto"),style:{maxHeight:h},children:Nt(we,{children:k.length>0?k.map(M=>Nt(jf,{node:M,isExpanded:b(M.id),isSelected:w(M.id),isFocused:x===M.id,onToggle:S,onSelect:R,onDoubleClick:s,renderNode:m,renderIcon:f,showIcons:u,indentSize:d},M.id)):Nt("div",{className:"text-center py-8",children:Nt(L,{variant:"body",color:"tertiary",children:A?"No matching items":"No items"})})})})]})}Uf.displayName="BioTree";import*as Ma from"react";import{Circle as Xb,CheckCircle2 as p1,AlertCircle as Zb,Clock as Qb,User as g1,Edit as h1,Trash2 as v1,Plus as y1,MessageSquare as b1}from"lucide-react";import{jsx as Te,jsxs as Rr}from"react/jsx-runtime";var x1={default:Xb,success:p1,warning:Zb,danger:Zb,info:Xb,create:y1,update:h1,delete:v1,comment:b1},w1={default:"text-text-secondary bg-surface-subtle",success:"text-status-success bg-status-success/10",warning:"text-status-warning bg-status-warning/10",danger:"text-status-danger bg-status-danger/10",info:"text-status-info bg-status-info/10",create:"text-status-success bg-status-success/10",update:"text-accent-primary bg-accent-primary/10",delete:"text-status-danger bg-status-danger/10",comment:"text-text-secondary bg-surface-subtle"};function S1(e){let t=new Map;for(let r of e){let n=new Date(r.timestamp).toDateString();t.has(n)||t.set(n,[]),t.get(n).push(r)}return t}function Jb({item:e,showTimestamps:t,showLine:r,isLast:n,onClick:o,renderItem:i,formatRelativeTime:s}){let a=e.type||"default",l=typeof e.icon=="function"?e.icon:x1[a];return i?Rr("div",{className:"relative flex gap-3 pb-6",children:[r&&!n&&Te("div",{className:"absolute left-[15px] top-8 bottom-0 w-0.5 bg-border-default"}),i(e)]}):Rr(Z.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},className:T("relative flex gap-3 pb-6",o&&"cursor-pointer group"),onClick:()=>o?.(e),"data-testid":"timeline-item",children:[r&&!n&&Te("div",{className:"absolute left-[15px] top-8 bottom-0 w-0.5 bg-border-default"}),Te("div",{className:T("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center","transition-transform duration-200",o&&"group-hover:scale-110",w1[a],e.highlighted&&"ring-2 ring-accent-primary ring-offset-2"),children:Te(l,{className:"h-4 w-4"})}),Te("div",{className:"flex-1 min-w-0 pt-0.5",children:Rr("div",{className:"flex items-start justify-between gap-2",children:[Rr("div",{className:"flex-1 min-w-0",children:[Te(L,{variant:"body",weight:"medium",className:T("truncate",o&&"group-hover:text-accent-primary transition-colors"),children:e.title}),e.description&&Te(L,{variant:"caption",color:"tertiary",className:"mt-0.5 line-clamp-2",children:e.description}),e.user&&Rr("div",{className:"flex items-center gap-1.5 mt-1.5",children:[e.user.avatar?Te("img",{src:e.user.avatar,alt:e.user.name,className:"w-4 h-4 rounded-full"}):Te(g1,{className:"w-3 h-3 text-text-muted"}),Te(L,{variant:"caption",color:"tertiary",children:e.user.name})]})]}),t&&Rr("div",{className:"flex items-center gap-1 text-text-muted flex-shrink-0",children:[Te(Qb,{className:"w-3 h-3"}),Te(L,{variant:"micro",color:"tertiary",children:s(e.timestamp)})]})]})})]})}function Gf({items:e,title:t,showTimestamps:r=!0,groupByDate:n=!1,showLine:o=!0,onItemClick:i,renderItem:s,maxHeight:a,className:l,loading:c=!1,emptyMessage:u="No activity yet"}){let d=no(),m=Ma.useCallback(p=>d.formatRelativeTime(p),[d]),f=Ma.useCallback(p=>{let g=new Date(p),y=new Date,v=new Date(y);return v.setDate(v.getDate()-1),g.toDateString()===y.toDateString()?"Today":g.toDateString()===v.toDateString()?"Yesterday":d.formatDate(g,{weekday:"long",month:"short",day:"numeric"})},[d]),h=Ma.useMemo(()=>n?S1(e):null,[e,n]);return c?Te(le,{padding:"lg",className:T("overflow-hidden",l),children:Te("div",{className:"space-y-4",children:[1,2,3].map(p=>Rr("div",{className:"flex gap-3",children:[Te("div",{className:"w-8 h-8 rounded-full bg-surface-subtle animate-pulse"}),Rr("div",{className:"flex-1 space-y-2",children:[Te("div",{className:"h-4 w-32 bg-surface-subtle rounded animate-pulse"}),Te("div",{className:"h-3 w-48 bg-surface-subtle rounded animate-pulse"})]})]},p))})}):Rr(le,{padding:"none",className:T("overflow-hidden",l),"data-testid":"bio-timeline",children:[t&&Te("div",{className:"px-4 py-3 border-b border-default",children:Te(L,{variant:"label",weight:"medium",children:t})}),Te("div",{className:T("p-4",a&&"overflow-y-auto"),style:{maxHeight:a},children:e.length===0?Rr("div",{className:"text-center py-8",children:[Te(Qb,{className:"w-8 h-8 mx-auto text-text-muted mb-2"}),Te(L,{variant:"body",color:"tertiary",children:u})]}):n&&h?Array.from(h.entries()).map(([p,g],y)=>Rr("div",{className:"mb-6 last:mb-0",children:[Rr("div",{className:"flex items-center gap-2 mb-3",children:[Te("div",{className:"h-px flex-1 bg-border-default"}),Te(L,{variant:"caption",weight:"medium",color:"tertiary",children:f(p)}),Te("div",{className:"h-px flex-1 bg-border-default"})]}),g.map((v,b)=>Te(Jb,{item:v,showTimestamps:r,showLine:o,isLast:b===g.length-1,onClick:i,renderItem:s,formatRelativeTime:m},v.id))]},p)):e.map((p,g)=>Te(Jb,{item:p,showTimestamps:r,showLine:o,isLast:g===e.length-1,onClick:i,renderItem:s,formatRelativeTime:m},p.id))})]})}Gf.displayName="BioTimeline";import*as jt from"react";import{Upload as C1,FileText as R1,Image as T1,File as N1,X as E1,CheckCircle2 as P1,AlertCircle as A1,Loader2 as D1}from"lucide-react";import{jsx as Ye,jsxs as An}from"react/jsx-runtime";function Hf(e){if(e===0)return"0 B";let t=1024,r=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,n)).toFixed(1))} ${r[n]}`}function M1(e){return e.startsWith("image/")?T1:e.includes("pdf")?R1:N1}function k1(){return`file-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function I1({file:e,onRemove:t,showProgress:r=!0}){let n=M1(e.file.type);return An(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:T("relative flex items-center gap-3 p-3 rounded-lg","bg-surface-subtle border border-default",e.status==="error"&&"border-status-danger bg-status-danger/5"),"data-testid":"file-preview",children:[Ye("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg overflow-hidden bg-surface-card flex items-center justify-center",children:e.preview?Ye("img",{src:e.preview,alt:e.file.name,className:"w-full h-full object-cover"}):Ye(n,{className:"w-5 h-5 text-text-secondary"})}),An("div",{className:"flex-1 min-w-0",children:[Ye(L,{variant:"body",weight:"medium",className:"truncate",children:e.file.name}),An("div",{className:"flex items-center gap-2 mt-0.5",children:[Ye(L,{variant:"caption",color:"tertiary",children:Hf(e.file.size)}),e.error&&Ye(L,{variant:"caption",color:"danger",children:e.error})]}),r&&e.status==="uploading"&&Ye("div",{className:"mt-2 h-1 bg-surface-card rounded-full overflow-hidden",children:Ye("div",{className:"h-full bg-accent-primary transition-all duration-300",style:{width:`${e.progress}%`}})})]}),An("div",{className:"flex-shrink-0 flex items-center gap-2",children:[e.status==="uploading"&&Ye(D1,{className:"w-4 h-4 text-accent-primary animate-spin"}),e.status==="success"&&Ye(P1,{className:"w-4 h-4 text-status-success"}),e.status==="error"&&Ye(A1,{className:"w-4 h-4 text-status-danger"}),t&&Ye("button",{onClick:()=>t(e.id),className:"p-1 rounded hover:bg-surface-hover transition-colors","aria-label":"Remove file",children:Ye(E1,{className:"w-4 h-4 text-text-muted"})})]})]})}function Kf({onFilesSelected:e,onFileRemove:t,accept:r,maxFiles:n=10,maxSize:o=10*1024*1024,multiple:i=!0,showPreviews:s=!0,files:a=[],disabled:l=!1,className:c,helperText:u,label:d="Drag & drop files here, or click to select"}){let[m,f]=jt.useState(!1),[h,p]=jt.useState([]),g=jt.useRef(null),y=a.length>0?a:h,v=r?Object.entries(r).flatMap(([E,A])=>[E,...A]).join(","):void 0,b=jt.useCallback(E=>{let A=[],D=[];for(let k of E){if(A.length+y.length>=n){D.push(`Maximum ${n} files allowed`);break}if(k.size>o){D.push(`${k.name} exceeds maximum size of ${Hf(o)}`);continue}if(r&&!Object.entries(r).some(([M,_])=>M.endsWith("/*")?k.type.startsWith(M.slice(0,-2)):k.type===M||_.some(B=>k.name.endsWith(B)))){D.push(`${k.name} is not an accepted file type`);continue}A.push(k)}return{valid:A,errors:D}},[r,n,o,y.length]),w=jt.useCallback(E=>{if(!E||l)return;let{valid:A}=b(Array.from(E));if(A.length>0){let D=A.map(k=>({id:k1(),file:k,progress:0,status:"pending",preview:k.type.startsWith("image/")?URL.createObjectURL(k):void 0}));p(k=>[...k,...D]),e(A)}},[l,b,e]),x=jt.useCallback(E=>{p(A=>{let D=A.find(k=>k.id===E);return D?.preview&&URL.revokeObjectURL(D.preview),A.filter(k=>k.id!==E)}),t?.(E)},[t]),S=jt.useCallback(E=>{E.preventDefault(),E.stopPropagation(),f(!0)},[]),R=jt.useCallback(E=>{E.preventDefault(),E.stopPropagation(),f(!1)},[]),N=jt.useCallback(E=>{E.preventDefault(),E.stopPropagation(),f(!1),w(E.dataTransfer.files)},[w]),F=jt.useCallback(()=>{l||g.current?.click()},[l]);return jt.useEffect(()=>()=>{h.forEach(E=>{E.preview&&URL.revokeObjectURL(E.preview)})},[]),An(le,{padding:"none",className:T("overflow-hidden",c),"data-testid":"bio-dropzone",children:[An("div",{role:"button",tabIndex:l?-1:0,onClick:F,onKeyDown:E=>E.key==="Enter"&&F(),onDragOver:S,onDragLeave:R,onDrop:N,className:T("relative p-8 border-2 border-dashed rounded-lg transition-all duration-200","flex flex-col items-center justify-center gap-3 cursor-pointer","hover:border-accent-primary/50 hover:bg-accent-primary/5",m&&"border-accent-primary bg-accent-primary/10 scale-[1.01]",l&&"opacity-50 cursor-not-allowed hover:border-border-default hover:bg-transparent"),children:[Ye("input",{ref:g,type:"file",multiple:i,accept:v,onChange:E=>w(E.target.files),disabled:l,className:"sr-only",id:"dropzone-input","aria-label":d}),Ye(Z.div,{animate:{y:m?-5:0},transition:{duration:.2},children:Ye(C1,{className:T("w-10 h-10",m?"text-accent-primary":"text-text-muted")})}),An("div",{className:"text-center",children:[Ye(L,{variant:"body",weight:"medium",color:m?"brand":"secondary",children:d}),u&&Ye(L,{variant:"caption",color:"tertiary",className:"mt-1",children:u}),r&&An(L,{variant:"micro",color:"tertiary",className:"mt-2",children:["Accepted: ",Object.values(r).flat().join(", ")]}),An(L,{variant:"micro",color:"tertiary",className:"mt-1",children:["Max size: ",Hf(o)," \xB7 Max files: ",n]})]})]}),s&&y.length>0&&Ye("div",{className:"p-4 border-t border-default space-y-2",children:Ye(we,{children:y.map(E=>Ye(I1,{file:E,onRemove:x},E.id))})})]})}Kf.displayName="BioDropzone";import*as Ut from"react";import{ChevronLeft as F1,ChevronRight as V1,Plus as B1}from"lucide-react";import{jsx as st,jsxs as Hr}from"react/jsx-runtime";function ex(e,t){return new Date(e,t+1,0).getDate()}function O1(e,t){return new Date(e,t,1).getDay()}function Wf(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function _1(e){return Wf(e,new Date)}function L1(e,t){return e.filter(r=>{let n=new Date(r.start);return Wf(n,t)})}var $1={default:"bg-surface-subtle text-text-primary",primary:"bg-accent-primary/20 text-accent-primary",success:"bg-status-success/20 text-status-success",warning:"bg-status-warning/20 text-status-warning",danger:"bg-status-danger/20 text-status-danger",info:"bg-status-info/20 text-status-info"},z1=Ut.memo(function({date:t,events:r,isCurrentMonth:n,isSelected:o,onSelect:i,onEventClick:s}){let a=L1(r,t),l=_1(t),c=Ut.useCallback(()=>{i(t)},[t,i]),u=Ut.useCallback(m=>{m.key==="Enter"&&i(t)},[t,i]),d=Ut.useCallback(m=>f=>{f.stopPropagation(),s?.(m)},[s]);return Hr("div",{role:"gridcell",tabIndex:0,onClick:c,onKeyDown:u,className:T("min-h-[80px] p-1 border-b border-r border-default cursor-pointer","transition-colors hover:bg-surface-hover",!n&&"bg-surface-subtle/50",o&&"bg-accent-primary/5 ring-1 ring-accent-primary ring-inset"),"data-testid":"calendar-day",children:[st("div",{className:"flex items-center justify-between mb-1",children:st("span",{className:T("w-6 h-6 flex items-center justify-center rounded-full text-small",l&&"bg-accent-primary text-white font-medium",!l&&!n&&"text-text-muted",!l&&n&&"text-text-primary"),children:t.getDate()})}),Hr("div",{className:"space-y-0.5",children:[a.slice(0,3).map(m=>st("div",{onClick:d(m),className:T("px-1 py-0.5 rounded text-micro truncate cursor-pointer","hover:opacity-80 transition-opacity",$1[m.type||"default"]),title:m.title,children:m.title},m.id)),a.length>3&&Hr("div",{className:"text-micro text-text-muted px-1",children:["+",a.length-3," more"]})]})]})});function qf({events:e,view:t="month",initialDate:r,onDateSelect:n,onEventClick:o,onAddEvent:i,onViewChange:s,showViewSwitcher:a=!0,showAddButton:l=!0,weekStartsOn:c,className:u,loading:d=!1}){let m=no(),f=c??m.weekStartsOn,[h,p]=Ut.useState(r||new Date),[g,y]=Ut.useState(null),[v,b]=Ut.useState(t),w=h.getFullYear(),x=h.getMonth(),S=m.getMonthNames("long"),R=m.getDayNames("short"),N=Ut.useCallback(()=>{p(z=>new Date(z.getFullYear(),z.getMonth()-1,1))},[]),F=Ut.useCallback(()=>{p(z=>new Date(z.getFullYear(),z.getMonth()+1,1))},[]),E=Ut.useCallback(()=>{p(new Date)},[]),A=Ut.useCallback(z=>{y(z),n?.(z)},[n]),D=Ut.useCallback(z=>{b(z),s?.(z)},[s]),k=ex(w,x),O=O1(w,x),M=ex(w,x-1),_=[],B=f===1?O===0?6:O-1:O;for(let z=B-1;z>=0;z--)_.push({date:new Date(w,x-1,M-z),isCurrentMonth:!1});for(let z=1;z<=k;z++)_.push({date:new Date(w,x,z),isCurrentMonth:!0});let X=42-_.length;for(let z=1;z<=X;z++)_.push({date:new Date(w,x+1,z),isCurrentMonth:!1});let $=R;return d?st(le,{padding:"lg",className:T("overflow-hidden",u),children:Hr("div",{className:"space-y-4",children:[st("div",{className:"h-8 w-48 bg-surface-subtle rounded animate-pulse"}),st("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:35}).map((z,se)=>st("div",{className:"h-20 bg-surface-subtle rounded animate-pulse"},se))})]})}):Hr(le,{padding:"none",className:T("overflow-hidden",u),"data-testid":"bio-calendar",children:[Hr("div",{className:"px-4 py-3 border-b border-default flex items-center justify-between",children:[Hr("div",{className:"flex items-center gap-2",children:[st(fe,{variant:"ghost",size:"sm",onClick:N,"aria-label":"Previous month",children:st(F1,{className:"h-4 w-4"})}),Hr(L,{variant:"label",weight:"semibold",className:"min-w-[150px] text-center","aria-live":"polite",children:[S[x]," ",w]}),st(fe,{variant:"ghost",size:"sm",onClick:F,"aria-label":"Next month",children:st(V1,{className:"h-4 w-4"})}),st(fe,{variant:"ghost",size:"sm",onClick:E,"aria-label":"Go to today",children:"Today"})]}),Hr("div",{className:"flex items-center gap-2",children:[a&&st("div",{className:"flex rounded-md border border-default overflow-hidden",role:"group","aria-label":"Calendar view",children:["month","week","day"].map(z=>st("button",{onClick:()=>D(z),className:T("px-3 py-1 text-small capitalize transition-colors",v===z?"bg-accent-primary text-white":"bg-surface-card text-text-secondary hover:bg-surface-hover"),"aria-pressed":v===z,"aria-label":`${z} view`,children:z},z))}),l&&g&&Hr(fe,{variant:"primary",size:"sm",onClick:()=>i?.(g),children:[st(B1,{className:"h-4 w-4 mr-1"}),"Add Event"]})]})]}),Hr("div",{className:"p-2",children:[st("div",{className:"grid grid-cols-7 mb-1",role:"row","aria-label":"Days of week",children:$.map(z=>st("div",{role:"columnheader",className:"py-2 text-center text-caption font-medium text-text-secondary",children:z},z))}),st("div",{role:"grid","aria-label":`${S[x]} ${w} calendar`,className:"border-l border-t border-default",children:Array.from({length:6}).map((z,se)=>st("div",{role:"row",className:"grid grid-cols-7",children:_.slice(se*7,(se+1)*7).map(({date:I,isCurrentMonth:U},W)=>st(z1,{date:I,events:e,isCurrentMonth:U,isSelected:g?Wf(I,g):!1,onSelect:A,onEventClick:o},`${I.toISOString()}-${se*7+W}`))},se))})]})]})}qf.displayName="BioCalendar";import*as Xf from"react";import{ZoomIn as j1,ZoomOut as U1}from"lucide-react";import{jsx as He,jsxs as Dn}from"react/jsx-runtime";function Yf(e,t){return Math.ceil((t.getTime()-e.getTime())/864e5)}function Gc(e,t){let r=new Date(e);return r.setDate(r.getDate()+t),r}var G1={pending:"bg-surface-subtle",in_progress:"bg-accent-primary",completed:"bg-status-success",delayed:"bg-status-danger"},H1={pending:"bg-surface-subtle/30",in_progress:"bg-accent-primary/20",completed:"bg-status-success/20",delayed:"bg-status-danger/20"};function Zf({tasks:e,startDate:t,endDate:r,onTaskClick:n,onProgressChange:o,showTaskList:i=!0,rowHeight:s=40,className:a,loading:l=!1}){let c=no(),u=g=>c.formatDate(g,{month:"short",day:"numeric"}),d=Xf.useMemo(()=>{if(e.length===0){let b=new Date;return{start:b,end:Gc(b,30)}}let g=e.flatMap(b=>[new Date(b.start),new Date(b.end)]),y=new Date(Math.min(...g.map(b=>b.getTime()))),v=new Date(Math.max(...g.map(b=>b.getTime())));return{start:t||Gc(y,-7),end:r||Gc(v,7)}},[e,t,r]),m=Yf(d.start,d.end),f=30,h=Xf.useMemo(()=>{let g=[],y=new Date(d.start);for(;y<=d.end;)g.push(new Date(y)),y=Gc(y,1);return g},[d]),p=g=>{let y=new Date(g.start),v=new Date(g.end),b=Yf(d.start,y),w=Yf(y,v)+1;return{left:b*f,width:w*f}};return l?He(le,{padding:"lg",className:T("overflow-hidden",a),children:He("div",{className:"space-y-2",children:[1,2,3,4].map(g=>Dn("div",{className:"flex gap-4",children:[He("div",{className:"w-40 h-8 bg-surface-subtle rounded animate-pulse"}),He("div",{className:"flex-1 h-8 bg-surface-subtle rounded animate-pulse"})]},g))})}):Dn(le,{padding:"none",className:T("overflow-hidden",a),"data-testid":"bio-gantt",children:[Dn("div",{className:"px-4 py-3 border-b border-default flex items-center justify-between",children:[He(L,{variant:"label",weight:"semibold",children:"Project Timeline"}),Dn("div",{className:"flex items-center gap-2",children:[He(fe,{variant:"ghost",size:"sm","aria-label":"Zoom out",children:He(U1,{className:"h-4 w-4"})}),He(fe,{variant:"ghost",size:"sm","aria-label":"Zoom in",children:He(j1,{className:"h-4 w-4"})})]})]}),Dn("div",{className:"flex overflow-x-auto",children:[i&&Dn("div",{className:"flex-shrink-0 w-48 border-r border-default bg-surface-subtle",children:[He("div",{className:"px-3 py-2 border-b border-default font-medium text-small",style:{height:s},children:"Task"}),e.map(g=>He("div",{className:T("px-3 flex items-center border-b border-default","cursor-pointer hover:bg-surface-hover transition-colors"),style:{height:s},onClick:()=>n?.(g),children:He(L,{variant:"small",className:"truncate",children:g.name})},g.id))]}),Dn("div",{className:"flex-1 overflow-x-auto",children:[He("div",{className:"flex border-b border-default bg-surface-subtle",style:{height:s,width:m*f},children:h.map((g,y)=>He("div",{className:T("flex-shrink-0 flex items-center justify-center","border-r border-default text-micro text-text-secondary",g.getDay()===0||g.getDay()===6?"bg-surface-subtle/50":""),style:{width:f},children:g.getDate()},y))}),He("div",{style:{width:m*f},children:e.map(g=>{let y=p(g),v=g.status||"pending",b=g.progress||0;return Dn("div",{className:"relative border-b border-default",style:{height:s},"data-testid":"gantt-task",children:[He("div",{className:"absolute inset-0 flex",children:h.map((w,x)=>He("div",{className:T("flex-shrink-0 border-r border-default",w.getDay()===0||w.getDay()===6?"bg-surface-subtle/30":""),style:{width:f}},x))}),Dn(Z.div,{initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},className:T("absolute top-1/2 -translate-y-1/2 h-6 rounded cursor-pointer","transition-colors hover:opacity-90",H1[v]),style:{left:y.left,width:y.width,transformOrigin:"left"},onClick:()=>n?.(g),children:[He("div",{className:T("h-full rounded transition-all",G1[v]),style:{width:`${b}%`}}),He("div",{className:"absolute inset-0 flex items-center px-2",children:He(L,{variant:"micro",weight:"medium",className:"truncate text-text-primary",children:g.name})})]})]},g.id)})})]})]}),e.length===0&&He("div",{className:"p-8 text-center",children:He(L,{variant:"body",color:"tertiary",children:"No tasks to display"})})]})}Zf.displayName="BioGantt";import{jsx as Ae,jsxs as Wo}from"react/jsx-runtime";var K1=["hsl(var(--accent-primary))","hsl(var(--status-success))","hsl(var(--status-warning))","hsl(var(--status-danger))","hsl(var(--status-info))","#8B5CF6","#EC4899","#14B8A6"];function W1({data:e,height:t,colors:r,showLabels:n,showValues:o,showGrid:i}){let s=Math.max(...e.map(d=>d.value),1),a=100/e.length,l={top:20,right:20,bottom:40,left:40},c=t-l.top-l.bottom,u=100;return Wo("svg",{width:"100%",height:t,className:"overflow-visible",children:[i&&Ae("g",{children:[0,25,50,75,100].map(d=>Ae("line",{x1:`${l.left}%`,y1:l.top+c*(1-d/100),x2:"95%",y2:l.top+c*(1-d/100),stroke:"currentColor",strokeOpacity:.1},d))}),e.map((d,m)=>{let f=d.value/s*c,h=l.left+m/e.length*(100-l.left-l.right),p=1/e.length*(100-l.left-l.right)*.6,g=h+p*.3;return Wo("g",{"data-testid":"chart-bar",children:[Ae(Z.rect,{initial:{height:0,y:l.top+c},animate:{height:f,y:l.top+c-f},transition:{duration:.5,delay:m*.1},x:`${g}%`,width:`${p}%`,fill:d.color||r[m%r.length],rx:4,className:"cursor-pointer hover:opacity-80 transition-opacity"}),o&&Ae("text",{x:`${g+p/2}%`,y:l.top+c-f-5,textAnchor:"middle",className:"text-micro fill-current text-text-secondary",children:d.value}),n&&Ae("text",{x:`${g+p/2}%`,y:t-10,textAnchor:"middle",className:"text-micro fill-current text-text-muted",children:d.label})]},d.label)})]})}function tx({data:e,height:t,colors:r,showLabels:n,showValues:o,showGrid:i,filled:s=!1}){let a=Math.max(...e.map(f=>f.value),1),l={top:20,right:20,bottom:40,left:40},c=t-l.top-l.bottom,u=e.map((f,h)=>{let p=l.left+h/(e.length-1||1)*(100-l.left-l.right),g=l.top+c*(1-f.value/a);return{x:p,y:g,point:f}}),d=u.map((f,h)=>`${h===0?"M":"L"} ${f.x}% ${f.y}`).join(" "),m=s?`${d} L ${u[u.length-1]?.x||0}% ${l.top+c} L ${l.left}% ${l.top+c} Z`:"";return Wo("svg",{width:"100%",height:t,className:"overflow-visible",children:[i&&Ae("g",{children:[0,25,50,75,100].map(f=>Ae("line",{x1:`${l.left}%`,y1:l.top+c*(1-f/100),x2:"95%",y2:l.top+c*(1-f/100),stroke:"currentColor",strokeOpacity:.1},f))}),s&&Ae(Z.path,{initial:{opacity:0},animate:{opacity:.2},d:m,fill:r[0]}),Ae(Z.path,{initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1},d,fill:"none",stroke:r[0],strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),u.map(({x:f,y:h,point:p},g)=>Wo("g",{children:[Ae(Z.circle,{initial:{scale:0},animate:{scale:1},transition:{delay:.5+g*.1},cx:`${f}%`,cy:h,r:4,fill:r[0],className:"cursor-pointer"}),o&&Ae("text",{x:`${f}%`,y:h-10,textAnchor:"middle",className:"text-micro fill-current text-text-secondary",children:p.value}),n&&Ae("text",{x:`${f}%`,y:t-10,textAnchor:"middle",className:"text-micro fill-current text-text-muted",children:p.label})]},p.label))]})}function rx({data:e,height:t,colors:r,showLabels:n,showValues:o,donut:i=!1}){let s=e.reduce((f,h)=>f+h.value,0),a=t/2-20,l=i?a*.6:0,c=50,u=t/2,d=-90,m=e.map((f,h)=>{let p=f.value/s*360,g=d,y=d+p;d=y;let v=g*Math.PI/180,b=y*Math.PI/180,w=c+a*Math.cos(v),x=u+a*Math.sin(v),S=c+a*Math.cos(b),R=u+a*Math.sin(b),N=p>180?1:0,F="";if(i){let O=c+l*Math.cos(v),M=u+l*Math.sin(v),_=c+l*Math.cos(b),B=u+l*Math.sin(b);F=`
        M ${w}% ${x}
        A ${a} ${a} 0 ${N} 1 ${S}% ${R}
        L ${_}% ${B}
        A ${l} ${l} 0 ${N} 0 ${O}% ${M}
        Z
      `}else F=`
        M ${c}% ${u}
        L ${w}% ${x}
        A ${a} ${a} 0 ${N} 1 ${S}% ${R}
        Z
      `;let E=(g+y)/2*Math.PI/180,A=a*.7,D=c+A*Math.cos(E),k=u+A*Math.sin(E);return{path:F,point:f,color:f.color||r[h%r.length],labelX:D,labelY:k}});return Wo("svg",{width:"100%",height:t,viewBox:`0 0 100 ${t}`,children:[m.map(({path:f,point:h,color:p,labelX:g,labelY:y},v)=>Wo("g",{"data-testid":"chart-slice",children:[Ae(Z.path,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:v*.1},d:f,fill:p,className:"cursor-pointer hover:opacity-80 transition-opacity",style:{transformOrigin:`${c}% ${u}px`}}),n&&Ae("text",{x:`${g}%`,y,textAnchor:"middle",dominantBaseline:"middle",className:"text-micro fill-white font-medium",children:h.label})]},h.label)),i&&o&&Ae("text",{x:"50%",y:u,textAnchor:"middle",dominantBaseline:"middle",className:"text-body font-semibold fill-current",children:s})]})}function Jf({type:e,data:t,title:r,height:n=200,showLabels:o=!0,showValues:i=!0,showGrid:s=!0,colors:a=K1,className:l,loading:c=!1,emptyMessage:u="No data to display"}){if(c)return Ae(le,{padding:"lg",className:T("overflow-hidden",l),children:Ae("div",{className:"h-48 bg-surface-subtle rounded animate-pulse"})});if(t.length===0)return Ae(le,{padding:"lg",className:T("overflow-hidden",l),children:Ae("div",{className:"flex items-center justify-center",style:{height:n},children:Ae(L,{variant:"body",color:"tertiary",children:u})})});let d=()=>{switch(e){case"bar":return Ae(W1,{data:t,height:n,colors:a,showLabels:o,showValues:i,showGrid:s});case"line":return Ae(tx,{data:t,height:n,colors:a,showLabels:o,showValues:i,showGrid:s});case"area":return Ae(tx,{data:t,height:n,colors:a,showLabels:o,showValues:i,showGrid:s,filled:!0});case"pie":return Ae(rx,{data:t,height:n,colors:a,showLabels:o,showValues:i});case"donut":return Ae(rx,{data:t,height:n,colors:a,showLabels:o,showValues:i,donut:!0});default:return null}};return Wo(le,{padding:"md",className:T("overflow-hidden",l),"data-testid":"bio-chart",children:[r&&Ae(L,{variant:"label",weight:"medium",className:"mb-3",children:r}),d()]})}Jf.displayName="BioChart";import*as Xi from"react";import{ChevronLeft as q1,ChevronRight as Y1,ChevronDown as X1,Menu as Z1,X as J1}from"lucide-react";import{Fragment as Qf,jsx as Ne,jsxs as qo}from"react/jsx-runtime";function nx({item:e,collapsed:t,isActive:r,depth:n,onNavigate:o}){let[i,s]=Xi.useState(!1),a=e.children&&e.children.length>0,l=e.icon,c=()=>{a?s(!i):e.href&&o&&o(e.href)};return qo("div",{children:[e.divider&&Ne("div",{className:"h-px bg-border-default my-2 mx-3"}),qo("button",{onClick:c,disabled:e.disabled,className:T("w-full flex items-center gap-3 px-3 py-2 rounded-md transition-colors","hover:bg-surface-hover focus:outline-none focus:ring-2 focus:ring-accent-primary/50",r&&"bg-accent-primary/10 text-accent-primary",e.disabled&&"opacity-50 cursor-not-allowed",n>0&&"ml-4 text-sm",t&&"justify-center px-2"),"aria-current":r?"page":void 0,title:t?e.label:void 0,children:[l&&Ne(l,{className:T("w-5 h-5 flex-shrink-0",r&&"text-accent-primary")}),Ne(we,{children:!t&&Ne(Z.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"flex-1 text-left truncate",children:e.label})}),!t&&e.badge&&Ne("span",{className:"px-2 py-0.5 text-xs rounded-full bg-accent-primary/20 text-accent-primary",children:e.badge}),!t&&a&&Ne(X1,{className:T("w-4 h-4 transition-transform",i&&"rotate-180")})]}),Ne(we,{children:a&&i&&!t&&Ne(Z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.children.map(u=>Ne(nx,{item:u,collapsed:t,isActive:u.href===o?.toString(),depth:n+1,onNavigate:o},u.id))})})]})}function Hc({items:e,activeHref:t,collapsed:r=!1,onCollapsedChange:n,logo:o,footer:i,onNavigate:s,width:a=256,collapsedWidth:l=64,mobileBreakpoint:c=768,className:u}){let[d,m]=Xi.useState(!1),[f,h]=Xi.useState(!1);Xi.useEffect(()=>{let y=()=>{m(window.innerWidth<c)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[c]);let p=y=>{s?.(y),d&&h(!1)},g=qo(Qf,{children:[qo("div",{className:"flex items-center justify-between p-4 border-b border-border-default",children:[Ne(we,{mode:"wait",children:!r&&o&&Ne(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o})}),!d&&Ne(fe,{variant:"ghost",size:"sm",onClick:()=>n?.(!r),"aria-label":r?"Expand sidebar":"Collapse sidebar",children:r?Ne(Y1,{className:"w-4 h-4"}):Ne(q1,{className:"w-4 h-4"})})]}),Ne("nav",{className:"flex-1 overflow-y-auto p-2","aria-label":"Main navigation",children:e.map(y=>Ne(nx,{item:y,collapsed:r,isActive:y.href===t,depth:0,onNavigate:p},y.id))}),i&&Ne("div",{className:"p-4 border-t border-border-default",children:Ne(we,{children:!r&&Ne(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i})})})]});return d?qo(Qf,{children:[Ne(fe,{variant:"ghost",size:"sm",onClick:()=>h(!0),className:"fixed top-4 left-4 z-50 md:hidden","aria-label":"Open navigation",children:Ne(Z1,{className:"w-5 h-5"})}),Ne(we,{children:f&&qo(Qf,{children:[Ne(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>h(!1)}),qo(Z.aside,{initial:{x:-a},animate:{x:0},exit:{x:-a},transition:{type:"spring",damping:25,stiffness:300},className:T("fixed top-0 left-0 h-full z-50 flex flex-col","bg-surface-card border-r border-border-default",u),style:{width:a},children:[Ne("div",{className:"absolute top-4 right-4",children:Ne(fe,{variant:"ghost",size:"sm",onClick:()=>h(!1),"aria-label":"Close navigation",children:Ne(J1,{className:"w-5 h-5"})})}),g]})]})})]}):Ne(Z.aside,{initial:!1,animate:{width:r?l:a},transition:{type:"spring",damping:25,stiffness:300},className:T("h-screen flex flex-col sticky top-0","bg-surface-card border-r border-border-default",u),"data-testid":"bio-sidebar",children:g})}import*as Zi from"react";import{Search as ox,Bell as Q1,Settings as eM,LogOut as tM,User as rM,ChevronDown as nM,Menu as oM}from"lucide-react";import{Fragment as sM,jsx as Ee,jsxs as Zt}from"react/jsx-runtime";function iM({user:e,actions:t,onSignOut:r}){let[n,o]=Zi.useState(!1),i=Zi.useRef(null);return Zi.useEffect(()=>{let s=a=>{i.current&&!i.current.contains(a.target)&&o(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),Zt("div",{ref:i,className:"relative",children:[Zt("button",{onClick:()=>o(!n),className:T("flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors","hover:bg-surface-hover focus:outline-none focus:ring-2 focus:ring-accent-primary/50"),"aria-expanded":n,"aria-haspopup":"true",children:[e.avatar?Ee("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full object-cover"}):Ee("div",{className:"w-8 h-8 rounded-full bg-accent-primary/20 flex items-center justify-center",children:Ee(rM,{className:"w-4 h-4 text-accent-primary"})}),Zt("div",{className:"hidden md:block text-left",children:[Ee(L,{variant:"label",className:"block leading-tight",children:e.name}),e.role&&Ee(L,{variant:"caption",color:"muted",className:"block leading-tight",children:e.role})]}),Ee(nM,{className:T("w-4 h-4 transition-transform",n&&"rotate-180")})]}),n&&Zt(le,{variant:"elevated",className:"absolute right-0 top-full mt-2 w-56 py-2 z-50 shadow-lg",children:[Zt("div",{className:"px-4 py-2 border-b border-border-default",children:[Ee(L,{variant:"label",className:"block",children:e.name}),e.email&&Ee(L,{variant:"caption",color:"muted",children:e.email})]}),t?.map(s=>Zt("button",{onClick:()=>{s.onClick?.(),o(!1)},className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-surface-hover transition-colors",children:[s.icon&&Ee(s.icon,{className:"w-4 h-4"}),Ee("span",{children:s.label})]},s.id)),Zt("button",{onClick:()=>o(!1),className:"w-full flex items-center gap-3 px-4 py-2 hover:bg-surface-hover transition-colors",children:[Ee(eM,{className:"w-4 h-4"}),Ee("span",{children:"Settings"})]}),r&&Zt(sM,{children:[Ee("div",{className:"h-px bg-border-default my-1"}),Zt("button",{onClick:()=>{r(),o(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-status-error hover:bg-surface-hover transition-colors",children:[Ee(tM,{className:"w-4 h-4"}),Ee("span",{children:"Sign out"})]})]})]})]})}function Kc({logo:e,onSearch:t,searchPlaceholder:r="Search... (\u2318K)",user:n,notifications:o=0,onNotifications:i,userMenuActions:s,actions:a,onSignOut:l,onMobileMenuToggle:c,showMobileMenu:u=!0,position:d="sticky",className:m}){return Ee("header",{className:T("top-0 z-40 w-full","bg-surface-card/80 backdrop-blur-sm border-b border-border-default",d==="fixed"&&"fixed",d==="sticky"&&"sticky",m),"data-testid":"bio-navbar",children:Zt("div",{className:"flex items-center justify-between h-14 px-4",children:[Zt("div",{className:"flex items-center gap-3",children:[u&&c&&Ee(fe,{variant:"ghost",size:"sm",onClick:c,className:"md:hidden","aria-label":"Toggle menu",children:Ee(oM,{className:"w-5 h-5"})}),e&&Ee("div",{className:"flex-shrink-0",children:e})]}),t&&Zt("button",{onClick:t,className:T("hidden md:flex items-center gap-2 px-3 py-1.5 rounded-md","bg-surface-subtle border border-border-default","text-text-secondary hover:text-text-primary hover:border-border-hover","transition-colors w-64 lg:w-80"),children:[Ee(ox,{className:"w-4 h-4"}),Ee("span",{className:"flex-1 text-left text-sm",children:r}),Ee("kbd",{className:"hidden lg:inline-flex items-center gap-1 px-1.5 py-0.5 text-xs bg-surface-card rounded border border-border-default",children:"\u2318K"})]}),Zt("div",{className:"flex items-center gap-2",children:[a,t&&Ee(fe,{variant:"ghost",size:"sm",onClick:t,className:"md:hidden","aria-label":"Search",children:Ee(ox,{className:"w-5 h-5"})}),i&&Zt(fe,{variant:"ghost",size:"sm",onClick:i,className:"relative","aria-label":`${o} notifications`,children:[Ee(Q1,{className:"w-5 h-5"}),o>0&&Ee("span",{className:"absolute -top-1 -right-1 w-4 h-4 text-xs bg-status-error text-white rounded-full flex items-center justify-center",children:o>9?"9+":o})]}),n&&Ee(iM,{user:n,actions:s,onSignOut:l})]})]})})}import*as Jt from"react";import{jsx as Yo,jsxs as ix}from"react/jsx-runtime";var sx=Jt.createContext(null);function ax(){let e=Jt.useContext(sx);if(!e)throw new Error("useAppShell must be used within BioAppShell");return e}function lx({navItems:e,activeHref:t,logo:r,logoIcon:n,user:o,userMenuActions:i,notifications:s,onNotifications:a,onSearch:l,onSignOut:c,onNavigate:u,sidebarFooter:d,footer:m,defaultCollapsed:f=!1,persistState:h=!0,storageKey:p="bio-sidebar-collapsed",navbarActions:g,hideNavbar:y=!1,hideSidebar:v=!1,children:b,className:w}){let[x,S]=Jt.useState(f),[R,N]=Jt.useState(!1),[F,E]=Jt.useState(!1);Jt.useEffect(()=>{if(E(!0),h&&typeof window<"u"){let O=localStorage.getItem(p);O!==null&&S(O==="true")}let k=()=>N(window.innerWidth<768);return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[h,p]);let A=Jt.useCallback(k=>{S(k),h&&typeof window<"u"&&localStorage.setItem(p,String(k))},[h,p]),D=Jt.useMemo(()=>({sidebarCollapsed:x,setSidebarCollapsed:A,isMobile:R}),[x,A,R]);return F?Yo(sx.Provider,{value:D,children:ix("div",{className:"min-h-screen bg-background flex","data-testid":"bio-app-shell",children:[!v&&Yo(Hc,{items:e,activeHref:t,collapsed:x,onCollapsedChange:A,logo:x?n:r,footer:d,onNavigate:u}),ix("div",{className:"flex-1 flex flex-col min-w-0",children:[!y&&Yo(Kc,{logo:v?r:void 0,onSearch:l,user:o,notifications:s,onNotifications:a,userMenuActions:i,onSignOut:c,actions:g,showMobileMenu:!v,onMobileMenuToggle:()=>A(!x)}),Yo("main",{className:T("flex-1 overflow-auto",w),children:b}),m&&Yo("footer",{className:"border-t border-border-default bg-surface-card p-4",children:m})]})]})}):Yo("div",{className:"min-h-screen bg-background",children:Yo("div",{className:"animate-pulse p-8",children:"Loading..."})})}import*as Fn from"react";var cx=1,aM=.9,lM=.8,cM=.17,em=.1,tm=.999,uM=.9999,dM=.99,fM=/[\\\/_+.#"@\[\(\{&]/,mM=/[\\\/_+.#"@\[\(\{&]/g,pM=/[\s-]/,dx=/[\s-]/g;function rm(e,t,r,n,o,i,s){if(i===t.length)return o===e.length?cx:dM;var a=`${o},${i}`;if(s[a]!==void 0)return s[a];for(var l=n.charAt(i),c=r.indexOf(l,o),u=0,d,m,f,h;c>=0;)d=rm(e,t,r,n,c+1,i+1,s),d>u&&(c===o?d*=cx:fM.test(e.charAt(c-1))?(d*=lM,f=e.slice(o,c-1).match(mM),f&&o>0&&(d*=Math.pow(tm,f.length))):pM.test(e.charAt(c-1))?(d*=aM,h=e.slice(o,c-1).match(dx),h&&o>0&&(d*=Math.pow(tm,h.length))):(d*=cM,o>0&&(d*=Math.pow(tm,c-o))),e.charAt(c)!==t.charAt(i)&&(d*=uM)),(d<em&&r.charAt(c-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(c-1)!==n.charAt(i))&&(m=rm(e,t,r,n,c+1,i+2,s),m*em>d&&(d=m*em)),d>u&&(u=d),c=r.indexOf(l,c+1);return s[a]=u,u}function ux(e){return e.toLowerCase().replace(dx," ")}function fx(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,rm(e,t,ux(e),ux(t),0,0,{})}import*as De from"react";var M9=!!(typeof window<"u"&&window.document&&window.document.createElement);function sn(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}import*as px from"react";function mx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Kr(...e){return t=>{let r=!1,n=e.map(o=>{let i=mx(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){let i=n[o];typeof i=="function"?i():mx(e[o],null)}}}}function Wr(...e){return px.useCallback(Kr(...e),e)}import*as Tr from"react";import{jsx as gx}from"react/jsx-runtime";function hx(e,t){let r=Tr.createContext(t),n=i=>{let{children:s,...a}=i,l=Tr.useMemo(()=>a,Object.values(a));return gx(r.Provider,{value:l,children:s})};n.displayName=e+"Provider";function o(i){let s=Tr.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,o]}function vx(e,t=[]){let r=[];function n(i,s){let a=Tr.createContext(s),l=r.length;r=[...r,s];let c=d=>{let{scope:m,children:f,...h}=d,p=m?.[e]?.[l]||a,g=Tr.useMemo(()=>h,Object.values(h));return gx(p.Provider,{value:g,children:f})};c.displayName=i+"Provider";function u(d,m){let f=m?.[e]?.[l]||a,h=Tr.useContext(f);if(h)return h;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}let o=()=>{let i=r.map(s=>Tr.createContext(s));return function(a){let l=a?.[e]||i;return Tr.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[n,gM(o,...t)]}function gM(...e){let t=e[0];if(e.length===1)return t;let r=()=>{let n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){let s=n.reduce((a,{useScope:l,scopeName:c})=>{let d=l(i)[`__scope${c}`];return{...a,...d}},{});return Tr.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}import*as nm from"react";import*as yx from"react";var Mn=globalThis?.document?yx.useLayoutEffect:()=>{};var hM=nm[" useId ".trim().toString()]||(()=>{}),vM=0;function qr(e){let[t,r]=nm.useState(hM());return Mn(()=>{e||r(n=>n??String(vM++))},[e]),e||(t?`radix-${t}`:"")}import*as Nr from"react";import*as Wc from"react";var yM=Nr[" useInsertionEffect ".trim().toString()]||Mn;function bx({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){let[o,i,s]=bM({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:o;{let u=Nr.useRef(e!==void 0);Nr.useEffect(()=>{let d=u.current;d!==a&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,n])}let c=Nr.useCallback(u=>{if(a){let d=xM(u)?u(e):u;d!==e&&s.current?.(d)}else i(u)},[a,e,i,s]);return[l,c]}function bM({defaultProp:e,onChange:t}){let[r,n]=Nr.useState(e),o=Nr.useRef(r),i=Nr.useRef(t);return yM(()=>{i.current=t},[t]),Nr.useEffect(()=>{o.current!==r&&(i.current?.(r),o.current=r)},[r,o]),[r,n,i]}function xM(e){return typeof e=="function"}var $9=Symbol("RADIX:SYNC_STATE");import*as Le from"react";import*as wx from"react";import*as Sx from"react-dom";import*as gt from"react";import{Fragment as G9,jsx as xx}from"react/jsx-runtime";function qc(e){let t=wM(e),r=gt.forwardRef((n,o)=>{let{children:i,...s}=n,a=gt.Children.toArray(i),l=a.find(CM);if(l){let c=l.props.children,u=a.map(d=>d===l?gt.Children.count(c)>1?gt.Children.only(null):gt.isValidElement(c)?c.props.children:null:d);return xx(t,{...s,ref:o,children:gt.isValidElement(c)?gt.cloneElement(c,void 0,u):null})}return xx(t,{...s,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}function wM(e){let t=gt.forwardRef((r,n)=>{let{children:o,...i}=r;if(gt.isValidElement(o)){let s=TM(o),a=RM(i,o.props);return o.type!==gt.Fragment&&(a.ref=n?Kr(n,s):s),gt.cloneElement(o,a)}return gt.Children.count(o)>1?gt.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SM=Symbol("radix.slottable");function CM(e){return gt.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SM}function RM(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...a)=>{let l=i(...a);return o(...a),l}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function TM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}import{jsx as NM}from"react/jsx-runtime";var EM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cr=EM.reduce((e,t)=>{let r=qc(`Primitive.${t}`),n=wx.forwardRef((o,i)=>{let{asChild:s,...a}=o,l=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),NM(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Cx(e,t){e&&Sx.flushSync(()=>e.dispatchEvent(t))}import*as Ji from"react";function lo(e){let t=Ji.useRef(e);return Ji.useEffect(()=>{t.current=e}),Ji.useMemo(()=>(...r)=>t.current?.(...r),[])}import*as Rx from"react";function Tx(e,t=globalThis?.document){let r=lo(e);Rx.useEffect(()=>{let n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}import{jsx as Px}from"react/jsx-runtime";var PM="DismissableLayer",om="dismissableLayer.update",AM="dismissableLayer.pointerDownOutside",DM="dismissableLayer.focusOutside",Nx,Ax=Le.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),im=Le.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=e,c=Le.useContext(Ax),[u,d]=Le.useState(null),m=u?.ownerDocument??globalThis?.document,[,f]=Le.useState({}),h=Wr(t,R=>d(R)),p=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),v=u?p.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,x=IM(R=>{let N=R.target,F=[...c.branches].some(E=>E.contains(N));!w||F||(o?.(R),s?.(R),R.defaultPrevented||a?.())},m),S=FM(R=>{let N=R.target;[...c.branches].some(E=>E.contains(N))||(i?.(R),s?.(R),R.defaultPrevented||a?.())},m);return Tx(R=>{v===c.layers.size-1&&(n?.(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},m),Le.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Nx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Ex(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Nx)}},[u,m,r,c]),Le.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Ex())},[u,c]),Le.useEffect(()=>{let R=()=>f({});return document.addEventListener(om,R),()=>document.removeEventListener(om,R)},[]),Px(cr.div,{...l,ref:h,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:sn(e.onFocusCapture,S.onFocusCapture),onBlurCapture:sn(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:sn(e.onPointerDownCapture,x.onPointerDownCapture)})});im.displayName=PM;var MM="DismissableLayerBranch",kM=Le.forwardRef((e,t)=>{let r=Le.useContext(Ax),n=Le.useRef(null),o=Wr(t,n);return Le.useEffect(()=>{let i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),Px(cr.div,{...e,ref:o})});kM.displayName=MM;function IM(e,t=globalThis?.document){let r=lo(e),n=Le.useRef(!1),o=Le.useRef(()=>{});return Le.useEffect(()=>{let i=a=>{if(a.target&&!n.current){let c=function(){Dx(AM,r,u,{discrete:!0})};var l=c;let u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function FM(e,t=globalThis?.document){let r=lo(e),n=Le.useRef(!1);return Le.useEffect(()=>{let o=i=>{i.target&&!n.current&&Dx(DM,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ex(){let e=new CustomEvent(om);document.dispatchEvent(e)}function Dx(e,t,r,{discrete:n}){let o=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Cx(o,i):o.dispatchEvent(i)}import*as Er from"react";import{jsx as VM}from"react/jsx-runtime";var sm="focusScope.autoFocusOnMount",am="focusScope.autoFocusOnUnmount",Mx={bubbles:!1,cancelable:!0},BM="FocusScope",lm=Er.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...s}=e,[a,l]=Er.useState(null),c=lo(o),u=lo(i),d=Er.useRef(null),m=Wr(t,p=>l(p)),f=Er.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Er.useEffect(()=>{if(n){let v=function(S){if(f.paused||!a)return;let R=S.target;a.contains(R)?d.current=R:co(d.current,{select:!0})},b=function(S){if(f.paused||!a)return;let R=S.relatedTarget;R!==null&&(a.contains(R)||co(d.current,{select:!0}))},w=function(S){if(document.activeElement===document.body)for(let N of S)N.removedNodes.length>0&&co(a)};var p=v,g=b,y=w;document.addEventListener("focusin",v),document.addEventListener("focusout",b);let x=new MutationObserver(w);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),x.disconnect()}}},[n,a,f.paused]),Er.useEffect(()=>{if(a){Ix.add(f);let p=document.activeElement;if(!a.contains(p)){let y=new CustomEvent(sm,Mx);a.addEventListener(sm,c),a.dispatchEvent(y),y.defaultPrevented||(OM(jM(Vx(a)),{select:!0}),document.activeElement===p&&co(a))}return()=>{a.removeEventListener(sm,c),setTimeout(()=>{let y=new CustomEvent(am,Mx);a.addEventListener(am,u),a.dispatchEvent(y),y.defaultPrevented||co(p??document.body,{select:!0}),a.removeEventListener(am,u),Ix.remove(f)},0)}}},[a,c,u,f]);let h=Er.useCallback(p=>{if(!r&&!n||f.paused)return;let g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(g&&y){let v=p.currentTarget,[b,w]=_M(v);b&&w?!p.shiftKey&&y===w?(p.preventDefault(),r&&co(b,{select:!0})):p.shiftKey&&y===b&&(p.preventDefault(),r&&co(w,{select:!0})):y===v&&p.preventDefault()}},[r,n,f.paused]);return VM(cr.div,{tabIndex:-1,...s,ref:m,onKeyDown:h})});lm.displayName=BM;function OM(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(co(n,{select:t}),document.activeElement!==r)return}function _M(e){let t=Vx(e),r=kx(t,e),n=kx(t.reverse(),e);return[r,n]}function Vx(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{let o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function kx(e,t){for(let r of e)if(!LM(r,{upTo:t}))return r}function LM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $M(e){return e instanceof HTMLInputElement&&"select"in e}function co(e,{select:t=!1}={}){if(e&&e.focus){let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&$M(e)&&t&&e.select()}}var Ix=zM();function zM(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),e=Fx(e,t),e.unshift(t)},remove(t){e=Fx(e,t),e[0]?.resume()}}}function Fx(e,t){let r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function jM(e){return e.filter(t=>t.tagName!=="A")}import*as Yc from"react";import UM from"react-dom";import{jsx as GM}from"react/jsx-runtime";var HM="Portal",cm=Yc.forwardRef((e,t)=>{let{container:r,...n}=e,[o,i]=Yc.useState(!1);Mn(()=>i(!0),[]);let s=r||o&&globalThis?.document?.body;return s?UM.createPortal(GM(cr.div,{...n,ref:t}),s):null});cm.displayName=HM;import*as Qt from"react";import*as Bx from"react";function KM(e,t){return Bx.useReducer((r,n)=>t[r][n]??r,e)}var ka=e=>{let{present:t,children:r}=e,n=WM(t),o=typeof r=="function"?r({present:n.isPresent}):Qt.Children.only(r),i=Wr(n.ref,qM(o));return typeof r=="function"||n.isPresent?Qt.cloneElement(o,{ref:i}):null};ka.displayName="Presence";function WM(e){let[t,r]=Qt.useState(),n=Qt.useRef(null),o=Qt.useRef(e),i=Qt.useRef("none"),s=e?"mounted":"unmounted",[a,l]=KM(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Qt.useEffect(()=>{let c=Xc(n.current);i.current=a==="mounted"?c:"none"},[a]),Mn(()=>{let c=n.current,u=o.current;if(u!==e){let m=i.current,f=Xc(c);e?l("MOUNT"):f==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&m!==f?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Mn(()=>{if(t){let c,u=t.ownerDocument.defaultView??window,d=f=>{let p=Xc(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&p&&(l("ANIMATION_END"),!o.current)){let g=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=f=>{f.target===t&&(i.current=Xc(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:Qt.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Xc(e){return e?.animationName||"none"}function qM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}import*as _x from"react";var um=0;function Lx(){_x.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ox()),document.body.insertAdjacentElement("beforeend",e[1]??Ox()),um++,()=>{um===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),um--}},[])}function Ox(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var er=function(){return er=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},er.apply(this,arguments)};function Zc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function $x(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}import*as ru from"react";import*as Ot from"react";var Xo="right-scroll-bar-position",Zo="width-before-scroll-bar",dm="with-scroll-bars-hidden",fm="--removed-body-scroll-bar-size";function Jc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}import{useState as YM}from"react";function zx(e,t){var r=YM(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}import*as Qc from"react";var XM=typeof window<"u"?Qc.useLayoutEffect:Qc.useEffect,jx=new WeakMap;function mm(e,t){var r=zx(t||null,function(n){return e.forEach(function(o){return Jc(o,n)})});return XM(function(){var n=jx.get(r);if(n){var o=new Set(n),i=new Set(e),s=r.current;o.forEach(function(a){i.has(a)||Jc(a,null)}),i.forEach(function(a){o.has(a)||Jc(a,s)})}jx.set(r,e)},[e]),r}function ZM(e){return e}function JM(e,t){t===void 0&&(t=ZM);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var a=r;r=[],a.forEach(i),s=r}var l=function(){var u=s;s=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),r}}}};return o}function pm(e){e===void 0&&(e={});var t=JM(null);return t.options=er({async:!0,ssr:!1},e),t}import*as Ux from"react";var Gx=function(e){var t=e.sideCar,r=Zc(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return Ux.createElement(n,er({},r))};Gx.isSideCarExport=!0;function gm(e,t){return e.useMedium(t),Gx}var eu=pm();var hm=function(){},Ia=Ot.forwardRef(function(e,t){var r=Ot.useRef(null),n=Ot.useState({onScrollCapture:hm,onWheelCapture:hm,onTouchMoveCapture:hm}),o=n[0],i=n[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,m=e.sideCar,f=e.noRelative,h=e.noIsolation,p=e.inert,g=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,b=e.gapMode,w=Zc(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=m,S=mm([r,t]),R=er(er({},w),o);return Ot.createElement(Ot.Fragment,null,u&&Ot.createElement(x,{sideCar:eu,removeScrollBar:c,shards:d,noRelative:f,noIsolation:h,inert:p,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:b}),s?Ot.cloneElement(Ot.Children.only(a),er(er({},R),{ref:S})):Ot.createElement(v,er({},R,{className:l,ref:S}),a))});Ia.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ia.classNames={fullWidth:Zo,zeroRight:Xo};import*as Fe from"react";import*as es from"react";import*as Wx from"react";var Hx;var Kx=function(){if(Hx)return Hx;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Kx();return t&&e.setAttribute("nonce",t),e}function ek(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tk(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vm=function(){var e=0,t=null;return{add:function(r){e==0&&(t=QM())&&(ek(t,r),tk(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}};var ym=function(){var e=vm();return function(t,r){Wx.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}};var Fa=function(){var e=ym(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t};var rk={left:0,top:0,right:0,gap:0},bm=function(e){return parseInt(e||"",10)||0},nk=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[bm(r),bm(n),bm(o)]},xm=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return rk;var t=nk(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}};var ok=Fa(),Qi="data-scroll-locked",ik=function(e,t,r,n){var o=e.left,i=e.top,s=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(dm,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Qi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xo,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Zo,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Xo," .").concat(Xo,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Zo," .").concat(Zo,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qi,`] {
    `).concat(fm,": ").concat(a,`px;
  }
`)},qx=function(){var e=parseInt(document.body.getAttribute(Qi)||"0",10);return isFinite(e)?e:0},sk=function(){es.useEffect(function(){return document.body.setAttribute(Qi,(qx()+1).toString()),function(){var e=qx()-1;e<=0?document.body.removeAttribute(Qi):document.body.setAttribute(Qi,e.toString())}},[])},wm=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;sk();var i=es.useMemo(function(){return xm(o)},[o]);return es.createElement(ok,{styles:ik(i,!t,o,r?"":"!important")})};var Sm=!1;if(typeof window<"u")try{Va=Object.defineProperty({},"passive",{get:function(){return Sm=!0,!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{Sm=!1}var Va,Jo=Sm?{passive:!1}:!1;var ak=function(e){return e.tagName==="TEXTAREA"},Yx=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ak(e)&&r[t]==="visible")},lk=function(e){return Yx(e,"overflowY")},ck=function(e){return Yx(e,"overflowX")},Cm=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Xx(e,n);if(o){var i=Zx(e,n),s=i[1],a=i[2];if(s>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},uk=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},dk=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Xx=function(e,t){return e==="v"?lk(t):ck(t)},Zx=function(e,t){return e==="v"?uk(t):dk(t)},fk=function(e,t){return e==="h"&&t==="rtl"?-1:1},Jx=function(e,t,r,n,o){var i=fk(e,window.getComputedStyle(t).direction),s=i*n,a=r.target,l=t.contains(a),c=!1,u=s>0,d=0,m=0;do{if(!a)break;var f=Zx(e,a),h=f[0],p=f[1],g=f[2],y=p-g-i*h;(h||y)&&Xx(e,a)&&(d+=y,m+=h);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(o&&Math.abs(d)<1||!o&&s>d)||!u&&(o&&Math.abs(m)<1||!o&&-s>m))&&(c=!0),c};var tu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qx=function(e){return[e.deltaX,e.deltaY]},ew=function(e){return e&&"current"in e?e.current:e},mk=function(e,t){return e[0]===t[0]&&e[1]===t[1]},pk=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gk=0,ts=[];function tw(e){var t=Fe.useRef([]),r=Fe.useRef([0,0]),n=Fe.useRef(),o=Fe.useState(gk++)[0],i=Fe.useState(Fa)[0],s=Fe.useRef(e);Fe.useEffect(function(){s.current=e},[e]),Fe.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=$x([e.lockRef.current],(e.shards||[]).map(ew),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=Fe.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!s.current.allowPinchZoom;var y=tu(p),v=r.current,b="deltaX"in p?p.deltaX:v[0]-y[0],w="deltaY"in p?p.deltaY:v[1]-y[1],x,S=p.target,R=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in p&&R==="h"&&S.type==="range")return!1;var N=window.getSelection(),F=N&&N.anchorNode,E=F?F===S||F.contains(S):!1;if(E)return!1;var A=Cm(R,S);if(!A)return!0;if(A?x=R:(x=R==="v"?"h":"v",A=Cm(R,S)),!A)return!1;if(!n.current&&"changedTouches"in p&&(b||w)&&(n.current=x),!x)return!0;var D=n.current||x;return Jx(D,g,p,D==="h"?b:w,!0)},[]),l=Fe.useCallback(function(p){var g=p;if(!(!ts.length||ts[ts.length-1]!==i)){var y="deltaY"in g?Qx(g):tu(g),v=t.current.filter(function(x){return x.name===g.type&&(x.target===g.target||g.target===x.shadowParent)&&mk(x.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var b=(s.current.shards||[]).map(ew).filter(Boolean).filter(function(x){return x.contains(g.target)}),w=b.length>0?a(g,b[0]):!s.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),c=Fe.useCallback(function(p,g,y,v){var b={name:p,delta:g,target:y,should:v,shadowParent:hk(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),u=Fe.useCallback(function(p){r.current=tu(p),n.current=void 0},[]),d=Fe.useCallback(function(p){c(p.type,Qx(p),p.target,a(p,e.lockRef.current))},[]),m=Fe.useCallback(function(p){c(p.type,tu(p),p.target,a(p,e.lockRef.current))},[]);Fe.useEffect(function(){return ts.push(i),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Jo),document.addEventListener("touchmove",l,Jo),document.addEventListener("touchstart",u,Jo),function(){ts=ts.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,Jo),document.removeEventListener("touchmove",l,Jo),document.removeEventListener("touchstart",u,Jo)}},[]);var f=e.removeScrollBar,h=e.inert;return Fe.createElement(Fe.Fragment,null,h?Fe.createElement(i,{styles:pk(o)}):null,f?Fe.createElement(wm,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function hk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var rw=gm(eu,tw);var nw=ru.forwardRef(function(e,t){return ru.createElement(Ia,er({},e,{ref:t,sideCar:rw}))});nw.classNames=Ia.classNames;var Rm=nw;var vk=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rs=new WeakMap,nu=new WeakMap,ou={},Tm=0,ow=function(e){return e&&(e.host||ow(e.parentNode))},yk=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=ow(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},bk=function(e,t,r,n){var o=yk(t,Array.isArray(e)?e:[e]);ou[r]||(ou[r]=new WeakMap);var i=ou[r],s=[],a=new Set,l=new Set(o),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};o.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(m){if(a.has(m))u(m);else try{var f=m.getAttribute(n),h=f!==null&&f!=="false",p=(rs.get(m)||0)+1,g=(i.get(m)||0)+1;rs.set(m,p),i.set(m,g),s.push(m),p===1&&h&&nu.set(m,!0),g===1&&m.setAttribute(r,"true"),h||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return u(t),a.clear(),Tm++,function(){s.forEach(function(d){var m=rs.get(d)-1,f=i.get(d)-1;rs.set(d,m),i.set(d,f),m||(nu.has(d)||d.removeAttribute(n),nu.delete(d)),f||d.removeAttribute(r)}),Tm--,Tm||(rs=new WeakMap,rs=new WeakMap,nu=new WeakMap,ou={})}},iw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=t||vk(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),bk(n,o,r,"aria-hidden")):function(){return null}};import{Fragment as sw,jsx as Xe,jsxs as aw}from"react/jsx-runtime";var su="Dialog",[lw,G7]=vx(su),[xk,Yr]=lw(su),cw=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:i,modal:s=!0}=e,a=De.useRef(null),l=De.useRef(null),[c,u]=bx({prop:n,defaultProp:o??!1,onChange:i,caller:su});return Xe(xk,{scope:t,triggerRef:a,contentRef:l,contentId:qr(),titleId:qr(),descriptionId:qr(),open:c,onOpenChange:u,onOpenToggle:De.useCallback(()=>u(d=>!d),[u]),modal:s,children:r})};cw.displayName=su;var uw="DialogTrigger",wk=De.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=Yr(uw,r),i=Wr(t,o.triggerRef);return Xe(cr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Pm(o.open),...n,ref:i,onClick:sn(e.onClick,o.onOpenToggle)})});wk.displayName=uw;var Nm="DialogPortal",[Sk,dw]=lw(Nm,{forceMount:void 0}),fw=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:o}=e,i=Yr(Nm,t);return Xe(Sk,{scope:t,forceMount:r,children:De.Children.map(n,s=>Xe(ka,{present:r||i.open,children:Xe(cm,{asChild:!0,container:o,children:s})}))})};fw.displayName=Nm;var iu="DialogOverlay",mw=De.forwardRef((e,t)=>{let r=dw(iu,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,i=Yr(iu,e.__scopeDialog);return i.modal?Xe(ka,{present:n||i.open,children:Xe(Rk,{...o,ref:t})}):null});mw.displayName=iu;var Ck=qc("DialogOverlay.RemoveScroll"),Rk=De.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=Yr(iu,r);return Xe(Rm,{as:Ck,allowPinchZoom:!0,shards:[o.contentRef],children:Xe(cr.div,{"data-state":Pm(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Qo="DialogContent",pw=De.forwardRef((e,t)=>{let r=dw(Qo,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,i=Yr(Qo,e.__scopeDialog);return Xe(ka,{present:n||i.open,children:i.modal?Xe(Tk,{...o,ref:t}):Xe(Nk,{...o,ref:t})})});pw.displayName=Qo;var Tk=De.forwardRef((e,t)=>{let r=Yr(Qo,e.__scopeDialog),n=De.useRef(null),o=Wr(t,r.contentRef,n);return De.useEffect(()=>{let i=n.current;if(i)return iw(i)},[]),Xe(gw,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:sn(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:sn(e.onPointerDownOutside,i=>{let s=i.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&i.preventDefault()}),onFocusOutside:sn(e.onFocusOutside,i=>i.preventDefault())})}),Nk=De.forwardRef((e,t)=>{let r=Yr(Qo,e.__scopeDialog),n=De.useRef(!1),o=De.useRef(!1);return Xe(gw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));let s=i.target;r.triggerRef.current?.contains(s)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),gw=De.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,...s}=e,a=Yr(Qo,r),l=De.useRef(null),c=Wr(t,l);return Lx(),aw(sw,{children:[Xe(lm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:Xe(im,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Pm(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),aw(sw,{children:[Xe(Dk,{titleId:a.titleId}),Xe(kk,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Em="DialogTitle",Ek=De.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=Yr(Em,r);return Xe(cr.h2,{id:o.titleId,...n,ref:t})});Ek.displayName=Em;var hw="DialogDescription",Pk=De.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=Yr(hw,r);return Xe(cr.p,{id:o.descriptionId,...n,ref:t})});Pk.displayName=hw;var vw="DialogClose",Ak=De.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=Yr(vw,r);return Xe(cr.button,{type:"button",...n,ref:t,onClick:sn(e.onClick,()=>o.onOpenChange(!1))})});Ak.displayName=vw;function Pm(e){return e?"open":"closed"}var yw="DialogTitleWarning",[H7,bw]=hx(yw,{contentName:Qo,titleName:Em,docsSlug:"dialog"}),Dk=({titleId:e})=>{let t=bw(yw),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return De.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Mk="DialogDescriptionWarning",kk=({contentRef:e,descriptionId:t})=>{let n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bw(Mk).contentName}}.`;return De.useEffect(()=>{let o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},xw=cw;var ww=fw,Sw=mw,Cw=pw;import*as q from"react";import*as Ew from"react";import*as zk from"react-dom";import*as at from"react";import{Fragment as q7,jsx as Rw}from"react/jsx-runtime";var Fk=Symbol.for("react.lazy"),au=at[" use ".trim().toString()];function Vk(e){return typeof e=="object"&&e!==null&&"then"in e}function Tw(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Fk&&"_payload"in e&&Vk(e._payload)}function Nw(e){let t=Bk(e),r=at.forwardRef((n,o)=>{let{children:i,...s}=n;Tw(i)&&typeof au=="function"&&(i=au(i._payload));let a=at.Children.toArray(i),l=a.find(_k);if(l){let c=l.props.children,u=a.map(d=>d===l?at.Children.count(c)>1?at.Children.only(null):at.isValidElement(c)?c.props.children:null:d);return Rw(t,{...s,ref:o,children:at.isValidElement(c)?at.cloneElement(c,void 0,u):null})}return Rw(t,{...s,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}function Bk(e){let t=at.forwardRef((r,n)=>{let{children:o,...i}=r;if(Tw(o)&&typeof au=="function"&&(o=au(o._payload)),at.isValidElement(o)){let s=$k(o),a=Lk(i,o.props);return o.type!==at.Fragment&&(a.ref=n?Kr(n,s):s),at.cloneElement(o,a)}return at.Children.count(o)>1?at.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ok=Symbol("radix.slottable");function _k(e){return at.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ok}function Lk(e,t){let r={...t};for(let n in t){let o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...a)=>{let l=i(...a);return o(...a),l}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function $k(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}import{jsx as jk}from"react/jsx-runtime";var Uk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kn=Uk.reduce((e,t)=>{let r=Nw(`Primitive.${t}`),n=Ew.forwardRef((o,i)=>{let{asChild:s,...a}=o,l=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jk(l,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});var Ba='[cmdk-group=""]',Am='[cmdk-group-items=""]',Gk='[cmdk-group-heading=""]',Aw='[cmdk-item=""]',Pw=`${Aw}:not([aria-disabled="true"])`,Dm="cmdk-item-select",ns="data-value",Hk=(e,t,r)=>fx(e,t,r),Dw=q.createContext(void 0),Oa=()=>q.useContext(Dw),Mw=q.createContext(void 0),Mm=()=>q.useContext(Mw),kw=q.createContext(void 0),Iw=q.forwardRef((e,t)=>{let r=os(()=>{var I,U;return{search:"",value:(U=(I=e.value)!=null?I:e.defaultValue)!=null?U:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=os(()=>new Set),o=os(()=>new Map),i=os(()=>new Map),s=os(()=>new Set),a=Fw(e),{label:l,children:c,value:u,onValueChange:d,filter:m,shouldFilter:f,loop:h,disablePointerSelection:p=!1,vimBindings:g=!0,...y}=e,v=qr(),b=qr(),w=qr(),x=q.useRef(null),S=rI();ei(()=>{if(u!==void 0){let I=u.trim();r.current.value=I,R.emit()}},[u]),ei(()=>{S(6,k)},[]);let R=q.useMemo(()=>({subscribe:I=>(s.current.add(I),()=>s.current.delete(I)),snapshot:()=>r.current,setState:(I,U,W)=>{var K,ie,te,xe;if(!Object.is(r.current[I],U)){if(r.current[I]=U,I==="search")D(),E(),S(1,A);else if(I==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ve=document.getElementById(w);ve?ve.focus():(K=document.getElementById(v))==null||K.focus()}if(S(7,()=>{var ve;r.current.selectedItemId=(ve=O())==null?void 0:ve.id,R.emit()}),W||S(5,k),((ie=a.current)==null?void 0:ie.value)!==void 0){let ve=U??"";(xe=(te=a.current).onValueChange)==null||xe.call(te,ve);return}}R.emit()}},emit:()=>{s.current.forEach(I=>I())}}),[]),N=q.useMemo(()=>({value:(I,U,W)=>{var K;U!==((K=i.current.get(I))==null?void 0:K.value)&&(i.current.set(I,{value:U,keywords:W}),r.current.filtered.items.set(I,F(U,W)),S(2,()=>{E(),R.emit()}))},item:(I,U)=>(n.current.add(I),U&&(o.current.has(U)?o.current.get(U).add(I):o.current.set(U,new Set([I]))),S(3,()=>{D(),E(),r.current.value||A(),R.emit()}),()=>{i.current.delete(I),n.current.delete(I),r.current.filtered.items.delete(I);let W=O();S(4,()=>{D(),W?.getAttribute("id")===I&&A(),R.emit()})}),group:I=>(o.current.has(I)||o.current.set(I,new Set),()=>{i.current.delete(I),o.current.delete(I)}),filter:()=>a.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:v,inputId:w,labelId:b,listInnerRef:x}),[]);function F(I,U){var W,K;let ie=(K=(W=a.current)==null?void 0:W.filter)!=null?K:Hk;return I?ie(I,r.current.search,U):0}function E(){if(!r.current.search||a.current.shouldFilter===!1)return;let I=r.current.filtered.items,U=[];r.current.filtered.groups.forEach(K=>{let ie=o.current.get(K),te=0;ie.forEach(xe=>{let ve=I.get(xe);te=Math.max(ve,te)}),U.push([K,te])});let W=x.current;M().sort((K,ie)=>{var te,xe;let ve=K.getAttribute("id"),ce=ie.getAttribute("id");return((te=I.get(ce))!=null?te:0)-((xe=I.get(ve))!=null?xe:0)}).forEach(K=>{let ie=K.closest(Am);ie?ie.appendChild(K.parentElement===ie?K:K.closest(`${Am} > *`)):W.appendChild(K.parentElement===W?K:K.closest(`${Am} > *`))}),U.sort((K,ie)=>ie[1]-K[1]).forEach(K=>{var ie;let te=(ie=x.current)==null?void 0:ie.querySelector(`${Ba}[${ns}="${encodeURIComponent(K[0])}"]`);te?.parentElement.appendChild(te)})}function A(){let I=M().find(W=>W.getAttribute("aria-disabled")!=="true"),U=I?.getAttribute(ns);R.setState("value",U||void 0)}function D(){var I,U,W,K;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ie=0;for(let te of n.current){let xe=(U=(I=i.current.get(te))==null?void 0:I.value)!=null?U:"",ve=(K=(W=i.current.get(te))==null?void 0:W.keywords)!=null?K:[],ce=F(xe,ve);r.current.filtered.items.set(te,ce),ce>0&&ie++}for(let[te,xe]of o.current)for(let ve of xe)if(r.current.filtered.items.get(ve)>0){r.current.filtered.groups.add(te);break}r.current.filtered.count=ie}function k(){var I,U,W;let K=O();K&&(((I=K.parentElement)==null?void 0:I.firstChild)===K&&((W=(U=K.closest(Ba))==null?void 0:U.querySelector(Gk))==null||W.scrollIntoView({block:"nearest"})),K.scrollIntoView({block:"nearest"}))}function O(){var I;return(I=x.current)==null?void 0:I.querySelector(`${Aw}[aria-selected="true"]`)}function M(){var I;return Array.from(((I=x.current)==null?void 0:I.querySelectorAll(Pw))||[])}function _(I){let U=M()[I];U&&R.setState("value",U.getAttribute(ns))}function B(I){var U;let W=O(),K=M(),ie=K.findIndex(xe=>xe===W),te=K[ie+I];(U=a.current)!=null&&U.loop&&(te=ie+I<0?K[K.length-1]:ie+I===K.length?K[0]:K[ie+I]),te&&R.setState("value",te.getAttribute(ns))}function X(I){let U=O(),W=U?.closest(Ba),K;for(;W&&!K;)W=I>0?eI(W,Ba):tI(W,Ba),K=W?.querySelector(Pw);K?R.setState("value",K.getAttribute(ns)):B(I)}let $=()=>_(M().length-1),z=I=>{I.preventDefault(),I.metaKey?$():I.altKey?X(1):B(1)},se=I=>{I.preventDefault(),I.metaKey?_(0):I.altKey?X(-1):B(-1)};return q.createElement(kn.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:I=>{var U;(U=y.onKeyDown)==null||U.call(y,I);let W=I.nativeEvent.isComposing||I.keyCode===229;if(!(I.defaultPrevented||W))switch(I.key){case"n":case"j":{g&&I.ctrlKey&&z(I);break}case"ArrowDown":{z(I);break}case"p":case"k":{g&&I.ctrlKey&&se(I);break}case"ArrowUp":{se(I);break}case"Home":{I.preventDefault(),_(0);break}case"End":{I.preventDefault(),$();break}case"Enter":{I.preventDefault();let K=O();if(K){let ie=new Event(Dm);K.dispatchEvent(ie)}}}}},q.createElement("label",{"cmdk-label":"",htmlFor:N.inputId,id:N.labelId,style:oI},l),lu(e,I=>q.createElement(Mw.Provider,{value:R},q.createElement(Dw.Provider,{value:N},I))))}),Kk=q.forwardRef((e,t)=>{var r,n;let o=qr(),i=q.useRef(null),s=q.useContext(kw),a=Oa(),l=Fw(e),c=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:s?.forceMount;ei(()=>{if(!c)return a.item(o,s?.id)},[c]);let u=Vw(o,i,[e.value,e.children,i],e.keywords),d=Mm(),m=uo(S=>S.value&&S.value===u.current),f=uo(S=>c||a.filter()===!1?!0:S.search?S.filtered.items.get(o)>0:!0);q.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(Dm,h),()=>S.removeEventListener(Dm,h)},[f,e.onSelect,e.disabled]);function h(){var S,R;p(),(R=(S=l.current).onSelect)==null||R.call(S,u.current)}function p(){d.setState("value",u.current,!0)}if(!f)return null;let{disabled:g,value:y,onSelect:v,forceMount:b,keywords:w,...x}=e;return q.createElement(kn.div,{ref:Kr(i,t),...x,id:o,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!m,"data-disabled":!!g,"data-selected":!!m,onPointerMove:g||a.getDisablePointerSelection()?void 0:p,onClick:g?void 0:h},e.children)}),Wk=q.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:o,...i}=e,s=qr(),a=q.useRef(null),l=q.useRef(null),c=qr(),u=Oa(),d=uo(f=>o||u.filter()===!1?!0:f.search?f.filtered.groups.has(s):!0);ei(()=>u.group(s),[]),Vw(s,a,[e.value,e.heading,l]);let m=q.useMemo(()=>({id:s,forceMount:o}),[o]);return q.createElement(kn.div,{ref:Kr(a,t),...i,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},r&&q.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),lu(e,f=>q.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},q.createElement(kw.Provider,{value:m},f))))}),qk=q.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,o=q.useRef(null),i=uo(s=>!s.search);return!r&&!i?null:q.createElement(kn.div,{ref:Kr(o,t),...n,"cmdk-separator":"",role:"separator"})}),Yk=q.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,o=e.value!=null,i=Mm(),s=uo(c=>c.search),a=uo(c=>c.selectedItemId),l=Oa();return q.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),q.createElement(kn.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:o?e.value:s,onChange:c=>{o||i.setState("search",c.target.value),r?.(c.target.value)}})}),Xk=q.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...o}=e,i=q.useRef(null),s=q.useRef(null),a=uo(c=>c.selectedItemId),l=Oa();return q.useEffect(()=>{if(s.current&&i.current){let c=s.current,u=i.current,d,m=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let f=c.offsetHeight;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return m.observe(c),()=>{cancelAnimationFrame(d),m.unobserve(c)}}},[]),q.createElement(kn.div,{ref:Kr(i,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:l.listId},lu(e,c=>q.createElement("div",{ref:Kr(s,l.listInnerRef),"cmdk-list-sizer":""},c)))}),Zk=q.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:o,contentClassName:i,container:s,...a}=e;return q.createElement(xw,{open:r,onOpenChange:n},q.createElement(ww,{container:s},q.createElement(Sw,{"cmdk-overlay":"",className:o}),q.createElement(Cw,{"aria-label":e.label,"cmdk-dialog":"",className:i},q.createElement(Iw,{ref:t,...a}))))}),Jk=q.forwardRef((e,t)=>uo(r=>r.filtered.count===0)?q.createElement(kn.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Qk=q.forwardRef((e,t)=>{let{progress:r,children:n,label:o="Loading...",...i}=e;return q.createElement(kn.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},lu(e,s=>q.createElement("div",{"aria-hidden":!0},s)))}),In=Object.assign(Iw,{List:Xk,Item:Kk,Input:Yk,Group:Wk,Separator:qk,Dialog:Zk,Empty:Jk,Loading:Qk});function eI(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function tI(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Fw(e){let t=q.useRef(e);return ei(()=>{t.current=e}),t}var ei=typeof window>"u"?q.useEffect:q.useLayoutEffect;function os(e){let t=q.useRef();return t.current===void 0&&(t.current=e()),t}function uo(e){let t=Mm(),r=()=>e(t.snapshot());return q.useSyncExternalStore(t.subscribe,r,r)}function Vw(e,t,r,n=[]){let o=q.useRef(),i=Oa();return ei(()=>{var s;let a=(()=>{var c;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():o.current}})(),l=n.map(c=>c.trim());i.value(e,a,l),(s=t.current)==null||s.setAttribute(ns,a),o.current=a}),o}var rI=()=>{let[e,t]=q.useState(),r=os(()=>new Map);return ei(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,o)=>{r.current.set(n,o),t({})}};function nI(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function lu({asChild:e,children:t},r){return e&&q.isValidElement(t)?q.cloneElement(nI(t),{ref:t.ref},r(t.props.children)):r(t)}var oI={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};import{Search as iI,FileText as Bw,Settings as sI,User as aI,LayoutDashboard as lI,X as cI,ArrowRight as uI,Clock as dI}from"lucide-react";import{Fragment as mI,jsx as Ze,jsxs as an}from"react/jsx-runtime";var fI={pages:lI,actions:uI,settings:sI,users:aI,documents:Bw};function Ow({open:e,onOpenChange:t,commands:r,onSelect:n,placeholder:o="Type a command or search...",showRecent:i=!0,recentSearches:s=[],maxRecent:a=5,footer:l,className:c}){let[u,d]=Fn.useState(""),m=Fn.useRef(null);Fn.useEffect(()=>{e?setTimeout(()=>m.current?.focus(),0):d("")},[e]),Fn.useEffect(()=>{let p=g=>{(g.metaKey||g.ctrlKey)&&g.key==="k"&&(g.preventDefault(),t(!e)),g.key==="Escape"&&e&&t(!1)};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e,t]);let f=Fn.useMemo(()=>{let p={};for(let g of r){let y=g.category||"General";p[y]||(p[y]=[]),p[y].push(g)}return p},[r]),h=p=>{p.onSelect?.(),n?.(p),t(!1)};return Ze(we,{children:e&&an(mI,{children:[Ze(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:()=>t(!1)}),Ze(Z.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{type:"spring",damping:25,stiffness:300},className:T("fixed top-[20%] left-1/2 -translate-x-1/2 z-50","w-full max-w-xl",c),"data-testid":"bio-command-palette",children:an(In,{className:"bg-surface-card border border-border-default rounded-lg shadow-2xl overflow-hidden",loop:!0,children:[an("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-border-default",children:[Ze(iI,{className:"w-5 h-5 text-text-muted flex-shrink-0"}),Ze(In.Input,{ref:m,value:u,onValueChange:d,placeholder:o,className:"flex-1 bg-transparent outline-none text-text-primary placeholder:text-text-muted"}),u&&Ze(fe,{variant:"ghost",size:"sm",onClick:()=>d(""),"aria-label":"Clear search",children:Ze(cI,{className:"w-4 h-4"})})]}),an(In.List,{className:"max-h-80 overflow-y-auto p-2",children:[Ze(In.Empty,{className:"py-8 text-center",children:Ze(L,{variant:"body",color:"muted",children:"No results found."})}),i&&!u&&s.length>0&&Ze(In.Group,{heading:"Recent",children:s.slice(0,a).map((p,g)=>an(In.Item,{value:p,onSelect:()=>d(p),className:T("flex items-center gap-3 px-3 py-2 rounded-md cursor-pointer","hover:bg-surface-hover aria-selected:bg-surface-hover"),children:[Ze(dI,{className:"w-4 h-4 text-text-muted"}),Ze("span",{children:p})]},`recent-${g}`))}),Object.entries(f).map(([p,g])=>Ze(In.Group,{heading:p,children:g.map(y=>{let v=y.icon||fI[p.toLowerCase()]||Bw;return an(In.Item,{value:[y.label,...y.keywords||[]].join(" "),onSelect:()=>h(y),disabled:y.disabled,className:T("flex items-center gap-3 px-3 py-2 rounded-md cursor-pointer","hover:bg-surface-hover aria-selected:bg-surface-hover",y.disabled&&"opacity-50 cursor-not-allowed"),children:[Ze(v,{className:"w-4 h-4 text-text-muted flex-shrink-0"}),Ze("span",{className:"flex-1",children:y.label}),y.shortcut&&Ze("kbd",{className:"px-1.5 py-0.5 text-xs bg-surface-subtle rounded border border-border-default",children:y.shortcut})]},y.id)})},p))]}),l&&Ze("div",{className:"px-4 py-2 border-t border-border-default bg-surface-subtle",children:l}),!l&&Ze("div",{className:"px-4 py-2 border-t border-border-default bg-surface-subtle flex items-center justify-between text-xs text-text-muted",children:an("div",{className:"flex items-center gap-4",children:[an("span",{className:"flex items-center gap-1",children:[Ze("kbd",{className:"px-1 bg-surface-card rounded border border-border-default",children:"\u2191\u2193"}),"navigate"]}),an("span",{className:"flex items-center gap-1",children:[Ze("kbd",{className:"px-1 bg-surface-card rounded border border-border-default",children:"\u21B5"}),"select"]}),an("span",{className:"flex items-center gap-1",children:[Ze("kbd",{className:"px-1 bg-surface-card rounded border border-border-default",children:"esc"}),"close"]})]})})]})})]})})}import*as Et from"react";function _w({itemCount:e,columns:t=1,onSelect:r,onEscape:n,onNavigate:o,wrap:i=!1,initialIndex:s=0,enabled:a=!0,orientation:l="vertical"}){let[c,u]=Et.useState(s);Et.useEffect(()=>{c>=e&&u(Math.max(0,e-1))},[e,c]);let d=Et.useCallback(b=>{u(w=>{let x=w+b;return i?(x<0&&(x=e-1),x>=e&&(x=0)):x=Math.max(0,Math.min(e-1,x)),o?.(x),x})},[e,i,o]),m=Et.useCallback(()=>d(1),[d]),f=Et.useCallback(()=>d(-1),[d]),h=Et.useCallback(()=>{u(0),o?.(0)},[o]),p=Et.useCallback(()=>{let b=e-1;u(b),o?.(b)},[e,o]),g=Et.useCallback(b=>{if(!a)return;let w=t>1,x=!0;switch(b.key){case"ArrowRight":(w||l==="horizontal")&&d(1);break;case"ArrowLeft":(w||l==="horizontal")&&d(-1);break;case"ArrowDown":w?d(t):l==="vertical"&&d(1);break;case"ArrowUp":w?d(-t):l==="vertical"&&d(-1);break;case"Home":if(b.ctrlKey||!w)h();else{let S=Math.floor(c/t)*t;u(S),o?.(S)}break;case"End":if(b.ctrlKey||!w)p();else{let S=Math.min(Math.floor(c/t)*t+t-1,e-1);u(S),o?.(S)}break;case"PageUp":w&&d(-t*5);break;case"PageDown":w&&d(t*5);break;case"Enter":case" ":r?.(c);break;case"Escape":n?.();break;default:x=!1}x&&(b.preventDefault(),b.stopPropagation())},[a,t,l,d,h,p,c,e,r,n,o]),y=Et.useMemo(()=>({role:t>1?"grid":"listbox",tabIndex:0,"aria-activedescendant":`item-${c}`,onKeyDown:g}),[t,c,g]),v=Et.useCallback((b,w)=>({id:w||`item-${b}`,role:t>1?"gridcell":"option",tabIndex:b===c?0:-1,"aria-selected":b===c,"data-focused":b===c}),[t,c]);return{focusedIndex:c,setFocusedIndex:u,handleKeyDown:g,focusNext:m,focusPrevious:f,focusFirst:h,focusLast:p,containerProps:y,getItemProps:v}}function Lw({itemCount:e,initialIndex:t=0,enabled:r=!0}){let[n,o]=Et.useState(t),i=Et.useCallback(a=>r&&a===n?0:-1,[n,r]),s=Et.useCallback(a=>{a>=0&&a<e&&o(a)},[e]);return{activeIndex:n,setActiveIndex:o,getTabIndex:i,focusItem:s}}export{uf as ActionGate,hv as ActionMenu,lx as BioAppShell,vT as BioApprovalActions,DT as BioBreadcrumb,qf as BioCalendar,Jf as BioChart,Ow as BioCommandPalette,CT as BioDiffViewer,Kf as BioDropzone,Cf as BioForm,Zf as BioGantt,zf as BioKanban,af as BioLocaleProvider,Kc as BioNavbar,Hy as BioObject,wv as BioPermissionProvider,Hc as BioSidebar,sf as BioTable,Gf as BioTimeline,dN as BioToastProvider,Uf as BioTree,fe as Btn,pv as DetailSheet,sc as EmptyState,bv as ErrorState,$a as Field,za as Icon,vv as LoadingState,uv as MotionEffect,wd as PulsingDot,df as RoleGate,cf as SecuredField,lv as Spinner,dv as StaggerContainer,fv as StaggerItem,mv as StatCard,ff as StateGate,nc as StatusBadge,le as Surface,L as Txt,fN as bioToast,T as cn,PT as generateBreadcrumbs,ax as useAppShell,gy as useAudit,RT as useDiff,lf as useFieldSecurity,_w as useKeyboardNavigation,no as useLocale,vr as usePermissions,Lw as useRovingTabIndex,py as withFieldSecurity};
/*! Bundled license information:

@tanstack/table-core/build/lib/index.mjs:
  (**
     * table-core
     *
     * Copyright (c) TanStack
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE.md file in the root directory of this source tree.
     *
     * @license MIT
     *)

@tanstack/react-table/build/lib/index.mjs:
  (**
     * react-table
     *
     * Copyright (c) TanStack
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE.md file in the root directory of this source tree.
     *
     * @license MIT
     *)
*/
